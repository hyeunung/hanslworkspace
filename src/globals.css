@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Professional Background System */
    --background: 0 0% 98.5%; /* Subtle off-white for sophistication */
    --foreground: 220 20% 12%; /* Deep professional text */
    
    /* Card & Surface Colors */
    --card: 0 0% 100%; /* Pure white for clean cards */
    --card-foreground: 220 20% 15%;
    --card-hover: 210 20% 98%; /* Subtle hover state */
    
    /* Popover & Dialog */
    --popover: 0 0% 100%;
    --popover-foreground: 220 20% 12%;
    
    /* Brand Colors - Professional Blue System */
    --primary: 207 61% 45%; /* #1777CB - Main brand */
    --primary-foreground: 0 0% 100%;
    --primary-hover: 207 65% 40%; /* Deeper on hover */
    --primary-light: 207 61% 95%; /* Light background */
    
    /* Secondary - Sophisticated Gray */
    --secondary: 220 15% 96%;
    --secondary-foreground: 220 20% 20%;
    
    /* Muted - Subtle Professional Tones */
    --muted: 220 12% 95%;
    --muted-foreground: 220 12% 45%;
    
    /* Accent - Complementary Professional */
    --accent: 207 50% 92%;
    --accent-foreground: 207 61% 35%;
    
    /* Status Colors - Corporate Standard */
    --destructive: 0 60% 50%; /* Professional red */
    --destructive-foreground: 0 0% 100%;
    --success: 142 71% 45%; /* Professional green */
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%; /* Professional amber */
    --warning-foreground: 0 0% 100%;
    --info: 199 89% 48%; /* Professional cyan */
    --info-foreground: 0 0% 100%;
    
    /* Border & Input - Clean Lines */
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 207 61% 45%;
    
    /* Layout & Spacing */
    --radius: 0.375rem; /* Slightly rounded for modern look */
    --header-height: 64px;
    --sidebar-width: 260px;
    
    /* Shadows - Minimal */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.04);
    --shadow-md: 0 2px 4px 0 rgb(0 0 0 / 0.06);
    --shadow-lg: 0 4px 6px 0 rgb(0 0 0 / 0.07);
    --shadow-xl: 0 8px 12px 0 rgb(0 0 0 / 0.08);
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans KR", sans-serif;
    font-size: 15px;
    line-height: 1.6;
    letter-spacing: -0.01em;
  }
  
  /* Professional Typography Scale */
  h1, .heading-1 {
    @apply text-3xl font-semibold text-gray-900 tracking-tight;
    line-height: 1.2;
  }
  
  h2, .heading-2 {
    @apply text-2xl font-semibold text-gray-900 tracking-tight;
    line-height: 1.3;
  }
  
  h3, .heading-3 {
    @apply text-xl font-semibold text-gray-800;
    line-height: 1.4;
  }
  
  h4, .heading-4 {
    @apply text-lg font-medium text-gray-800;
    line-height: 1.4;
  }
  
  p {
    @apply text-gray-700;
    line-height: 1.7;
  }
  
  .text-label {
    @apply text-sm font-medium text-gray-600;
    letter-spacing: 0.01em;
  }
  
  .text-caption {
    @apply text-xs text-gray-500;
    letter-spacing: 0.02em;
  }
  
  /* Dashboard Card Typography System */
  .card-title {
    @apply font-medium text-[11px] text-gray-900 truncate;
    letter-spacing: 0.01em;
  }
  
  .card-subtitle {
    @apply text-[10px] text-gray-600 truncate;
    letter-spacing: 0.02em;
  }
  
  .card-description {
    @apply text-[10px] text-gray-500 truncate;
    letter-spacing: 0.02em;
  }
  
  .card-amount {
    @apply text-[10px] font-semibold text-gray-900 truncate;
    letter-spacing: 0.01em;
  }
  
  .card-amount-large {
    @apply text-[10px] font-bold text-gray-900 truncate;
    letter-spacing: 0.01em;
  }
  
  .card-date {
    @apply text-[10px] text-gray-500 truncate;
    letter-spacing: 0.02em;
  }
  
  .card-status {
    @apply text-[10px] font-medium truncate;
    letter-spacing: 0.01em;
  }
  
  /* Dashboard Stats Typography */
  .stats-title {
    @apply text-xs font-medium text-gray-600 uppercase tracking-wider;
    letter-spacing: 0.05em;
  }
  
  .stats-value {
    @apply text-3xl font-bold text-gray-900;
    letter-spacing: -0.02em;
  }
  
  /* Modal Typography System - Consistent with Cards */
  .modal-title {
    @apply text-sm font-bold text-gray-900;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  
  .modal-subtitle {
    @apply text-[11px] text-gray-600 font-medium;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  
  .modal-section-title {
    @apply text-[12px] font-bold text-gray-900;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  
  .modal-label {
    @apply text-[10px] font-semibold text-gray-500;
    letter-spacing: 0.02em;
    white-space: nowrap;
  }
  
  .modal-value {
    @apply text-[11px] font-bold text-gray-900;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  
  .modal-value-large {
    @apply text-[12px] font-bold text-gray-900;
    letter-spacing: 0.01em;
    white-space: nowrap;
  }
  
  /* Badge Typography System */
  .badge-text {
    @apply text-xs font-medium truncate !important;
    letter-spacing: 0.01em !important;
  }
  
  /* Standardized Badge System - Same size as buttons */
  .badge-base {
    @apply inline-flex items-center gap-1 business-radius-badge px-2.5 py-0.5 badge-text leading-tight;
    letter-spacing: 0.01em;
  }
  
  .badge-primary {
    @apply badge-base bg-blue-500 text-white !important;
  }
  
  .badge-success {
    @apply badge-base bg-green-500 text-white !important;
  }
  
  .badge-warning {
    @apply badge-base bg-orange-500 text-white !important;
  }
  
  .badge-danger {
    @apply badge-base bg-red-500 text-white !important;
  }
  
  .badge-secondary {
    @apply badge-base bg-gray-500 text-white !important;
  }

  /* UTK Badge Variants (Purchase Tables) */
  .badge-utk-pending {
    @apply badge-stats border border-gray-300 bg-white text-gray-600 overflow-visible text-clip;
  }

  .badge-utk-complete {
    @apply badge-stats border border-orange-400 bg-orange-500 text-white overflow-visible text-clip;
  }

  /* Statistics Badge System - Smaller size for tab buttons and stats */
  .badge-stats {
    @apply inline-flex items-center gap-0.5 business-radius-badge px-1.5 py-0.5 text-[10px] font-medium leading-tight;
    letter-spacing: 0.01em;
  }

  .badge-stats-primary {
    @apply badge-stats bg-blue-50 text-blue-700 !important;
  }

  .badge-stats-secondary {
    @apply badge-stats bg-gray-100 text-gray-600 !important;
  }

  .badge-stats-active {
    @apply badge-stats bg-hansl-50 text-hansl-700 !important;
  }
  
  
  /* Button Typography System */
  .button-text {
    @apply text-xs font-medium text-gray-700 truncate;
    letter-spacing: 0.01em;
  }
  
  .button-text-primary {
    @apply text-xs font-medium text-white truncate;
    letter-spacing: 0.01em;
  }
  
  .button-text-secondary {
    @apply text-xs font-medium text-gray-600 truncate;
    letter-spacing: 0.01em;
  }
  
  /* 3-State Button System - Based on 1차 승인대기 button */
  .button-base {
    @apply inline-flex items-center gap-1 business-radius-badge leading-tight;
    padding: 2px 10px !important;
    font-size: 12px !important;
    font-weight: 500 !important;
    letter-spacing: 0.01em;
    height: auto !important;
    min-height: auto !important;
    white-space: nowrap !important;
  }
  
  /* 1. 대기중 (Active Waiting) - Default state */
  .button-waiting-active {
    @apply button-base border border-gray-300 bg-white text-gray-600;
  }
  
  /* 2. 완료 (Completed) */
  .button-approved {
    @apply button-base bg-green-500 text-white;
  }
  
  .button-rejected {
    @apply button-base bg-red-500 text-white;
  }
  
  /* 3. 비활성화 (Inactive/Disabled Waiting) */
  .button-waiting-inactive {
    @apply button-base border border-gray-300 bg-white text-gray-400;
  }
  
  /* Action Buttons */
  .button-action-primary {
    @apply button-base bg-blue-500 hover:bg-blue-600 text-white;
  }
  
  .button-action-success {
    @apply button-base bg-green-500 hover:bg-green-600 text-white;
  }
  
  .button-action-warning {
    @apply button-base bg-orange-500 hover:bg-orange-600 text-white;
  }
  
  .button-action-secondary {
    @apply button-base border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400;
  }
  
  .button-action-danger {
    @apply button-base border border-red-200 bg-white text-red-600 hover:bg-red-50 hover:border-red-300;
  }
  
  /* Toggle Buttons */
  .button-toggle-active {
    @apply button-base bg-blue-50 text-blue-700 border border-blue-200 hover:bg-blue-100;
  }
  
  .button-toggle-inactive {
    @apply button-base bg-gray-50 text-gray-600 border border-gray-200 hover:bg-gray-100;
  }
  
  .button-toggle-success {
    @apply button-base bg-green-50 text-green-700 border border-green-200 hover:bg-green-100;
  }
  
  /* Header Typography System */
  .header-title {
    @apply text-[12px] font-bold text-gray-900 truncate;
    letter-spacing: 0.01em;
  }
  
  .header-subtitle {
    @apply text-[10px] text-gray-600 truncate;
    letter-spacing: 0.02em;
  }
  
  .section-title {
    @apply text-[11px] font-semibold text-gray-900 truncate;
    letter-spacing: 0.01em;
  }
  
  .link-text {
    @apply text-[10px] truncate;
    letter-spacing: 0.01em;
  }

  /* Business Border Radius System - Professional UI Consistency */
  .business-radius {
    @apply rounded-lg; /* 8px - Standard business radius */
  }
  
  .business-radius-small {
    @apply rounded-md; /* 6px - Small elements */
  }
  
  .business-radius-card {
    @apply rounded-lg; /* 8px - Cards and containers */
  }
  
  .business-radius-button {
    @apply rounded-lg; /* 8px - Buttons and interactive elements */
  }
  
  .business-radius-modal {
    @apply rounded-lg; /* 8px - Modals and overlays */
  }
  
  .business-radius-input {
    @apply rounded-lg; /* 8px - Form inputs and fields */
  }
  
  .business-radius-badge {
    @apply rounded-lg !important; /* 8px - Badges and status indicators */
  }

  /* Page Title & Subtitle System - Consistent with hanslwebapp */
  .page-title {
    @apply font-semibold text-foreground text-[19px] mb-0; /* Main page titles */
  }
  
  .page-subtitle {
    @apply text-muted-foreground text-[12.3px] font-normal mt-0 mb-0; /* Page subtitles */
  }
}

/* Apple-style animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.6s ease-out;
}

.animate-slideIn {
  animation: slideIn 0.4s ease-out;
}

/* Professional Form Styles */
@layer components {
  /* Input Base Styles */
  input[type="text"],
  input[type="email"],
  input[type="number"],
  input[type="tel"],
  input[type="password"],
  select,
  textarea {
    @apply text-sm font-normal;
    @apply placeholder:text-gray-400;
    @apply focus:ring-2 focus:ring-hansl-500/20;
    @apply transition-all duration-200;
  }
  
  /* Professional Card Styles */
  .card-professional {
    @apply bg-white rounded-lg border border-gray-200;
    @apply shadow-sm hover:shadow-md;
    @apply transition-shadow duration-200;
  }
  
  /* Data Table Styles */
  .table-professional {
    @apply w-full text-sm text-left text-gray-700;
  }
  
  .table-professional thead {
    @apply text-xs text-gray-600 uppercase bg-gray-50;
    @apply border-b border-gray-200;
    letter-spacing: 0.05em;
  }
  
  .table-professional tbody tr {
    @apply bg-white border-b border-gray-100;
    @apply hover:bg-gray-50/50 transition-colors;
  }
  
  /* Professional Button Variants */
  .btn-professional {
    @apply px-4 py-2 rounded-md font-medium;
    @apply transition-all duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-hansl-500 text-white;
    @apply hover:bg-hansl-600 active:bg-hansl-700;
    @apply focus:ring-hansl-500;
  }
  
  .btn-secondary {
    @apply bg-gray-100 text-gray-700;
    @apply hover:bg-gray-200 active:bg-gray-300;
    @apply focus:ring-gray-500;
  }
  
  /* Status Badge Styles */
  .badge-status {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full;
    @apply text-xs font-medium;
  }
  
  /* Professional Sidebar */
  .sidebar-professional {
    @apply bg-white border-r border-gray-200;
    @apply shadow-sm;
  }
  
  /* Professional Header */
  .header-professional {
    @apply bg-white border-b border-gray-200;
    @apply shadow-sm;
    height: var(--header-height);
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 rounded-full;
  &:hover {
    @apply bg-gray-500;
  }
}

/* Loading skeleton */
.skeleton {
  @apply animate-pulse bg-gray-200 rounded;
}

/* Minimal Effects */
.card-minimal {
  @apply bg-white rounded-md border border-gray-200;
  @apply hover:border-gray-300 transition-colors;
}

/* Minimal Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade {
  animation: fadeIn 0.2s ease-out;
}

/* Focus States */
.focus-visible-professional:focus-visible {
  @apply outline-none ring-2 ring-hansl-500/20 ring-offset-2;
}

/* Hover States */
.hover-lift {
  @apply transition-transform duration-200;
  @apply hover:-translate-y-0.5;
}

/* Professional Divider */
.divider-professional {
  @apply border-t border-gray-200;
}

/* Content Container */
.container-professional {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* Compact Calendar Styles - Matching App Design */
.compact-calendar {
  @apply text-xs !important;
}

.compact-calendar .rdp {
  @apply !p-1 !m-0;
  --cell-size: 24px !important;
}

.compact-calendar .rdp-months {
  @apply !gap-2;
}

.compact-calendar .rdp-month {
  @apply !gap-1;
}

.compact-calendar .rdp-nav {
  @apply !gap-0;
}

.compact-calendar .rdp-button_previous,
.compact-calendar .rdp-button_next {
  @apply !w-6 !h-6 !p-0 !text-xs hover:!bg-gray-100 business-radius;
}

.compact-calendar .rdp-month_caption {
  @apply !h-6 !px-0;
}

.compact-calendar .rdp-dropdowns {
  @apply !h-6 !text-xs;
}

.compact-calendar .rdp-caption_label {
  @apply !text-xs !font-medium text-gray-700;
}

.compact-calendar .rdp-weekdays {
  @apply !mb-1;
}

.compact-calendar .rdp-weekday {
  @apply !text-[10px] !font-medium text-gray-500 !w-6 !h-4 flex items-center justify-center;
}

.compact-calendar .rdp-week {
  @apply !mt-0 !mb-0;
}

.compact-calendar .rdp-day {
  @apply !w-6 !h-6 !p-0;
}

.compact-calendar .rdp-day button {
  @apply !w-6 !h-6 !p-0 !text-[10px] !font-normal text-gray-700;
  @apply hover:!bg-blue-50 hover:!text-blue-700 business-radius-badge;
  @apply transition-colors duration-150;
}

.compact-calendar .rdp-day[data-selected=true] button {
  @apply !bg-blue-500 !text-white;
}

.compact-calendar .rdp-day[data-today=true] button {
  @apply !bg-blue-50 !text-blue-700 !font-medium;
}

.compact-calendar .rdp-day[data-outside=true] button {
  @apply !text-gray-300;
}

.compact-calendar .rdp-day[data-disabled=true] button {
  @apply !text-gray-300 !cursor-not-allowed hover:!bg-transparent;
}

/* Custom Grid Columns for Receipt Tab */
.grid-cols-13 {
  grid-template-columns: repeat(13, minmax(0, 1fr));
}

/* ================================================================
   전체항목 탭 칼럼 설정 시스템
   - 동적 칼럼 숨기기/표시 기능
   - 좌측 핏 정렬 레이아웃
   ================================================================ */

/* 칼럼 숨기기 클래스 */
.column-hidden {
  display: none !important;
}

/* 좌측 핏 정렬 테이블 컨테이너 */
.table-container-fit-left {
  @apply overflow-x-auto border business-radius-card;
  /* 테이블이 컨텐츠에 맞게 좌측 정렬되도록 설정 */
  width: fit-content !important;
  max-width: 100%;
}

/* 좌측 핏 정렬 테이블 */
.table-fit-left {
  @apply border-collapse;
  /* 컨텐츠 크기에 맞게 자동 조정 */
  width: auto !important;
  max-width: fit-content !important;
  min-width: auto !important;
  
  /* 테이블이 왼쪽에 정렬되도록 설정 */
  margin-left: 0;
  margin-right: auto;
}

/* 좌측 핏 정렬 테이블 칼럼 */
.table-fit-left th,
.table-fit-left td {
  /* 각 칼럼이 컨텐츠에 맞게 자동 조정 */
  width: auto !important;
  min-width: max-content !important;
  white-space: nowrap;
  
  /* 기존 패딩과 스타일 유지 */
  @apply px-2 py-1.5;
}

/* 텍스트가 긴 칼럼들의 최대 너비 제한 */
.table-fit-left .column-text-long {
  max-width: 200px !important;
  min-width: 120px !important;
  white-space: normal;
}

.table-fit-left .column-text-medium {
  max-width: 150px !important;
  min-width: 100px !important;
}

.table-fit-left .column-text-short {
  max-width: 100px !important;
  min-width: 60px !important;
}

/* 숫자 칼럼 스타일 */
.table-fit-left .column-number {
  @apply text-right;
  min-width: 80px !important;
  max-width: 120px !important;
}

/* 상태 배지 칼럼 스타일 */
.table-fit-left .column-status {
  @apply text-center;
  min-width: 70px !important;
  max-width: 100px !important;
}

/* 날짜 칼럼 스타일 */
.table-fit-left .column-date {
  @apply text-center;
  min-width: 85px !important;
  max-width: 100px !important;
}

/* 진행률 칼럼 스타일 */
.table-fit-left .column-progress {
  @apply text-center;
  min-width: 90px !important;
  max-width: 110px !important;
}

/* 링크 칼럼 스타일 */
.table-fit-left .column-link {
  min-width: 70px !important;
  max-width: 90px !important;
}

.table-fit-left .purchase-order-number-column {
  width: 150px !important;
  min-width: 150px !important;
  max-width: 150px !important;
}

/* 필수 칼럼 강조 */
.column-required {
  position: relative;
}

.column-required::after {
  content: '*';
  color: theme('colors.red.500');
  font-weight: bold;
  margin-left: 2px;
}

/* 칼럼 설정 드롭다운 전용 스타일 */
.column-settings-dropdown {
  /* 드롭다운 메뉴의 최대 높이와 스크롤 */
  max-height: 400px;
  overflow-y: auto;
}

.column-settings-dropdown .group-title {
  @apply modal-label text-gray-700 font-medium;
  font-size: 11px;
  letter-spacing: 0.01em;
}

.column-settings-dropdown .column-item {
  @apply flex items-center gap-2 px-3 py-2 cursor-pointer hover:bg-gray-50;
  transition: background-color 150ms ease-in-out;
}

.column-settings-dropdown .column-item.disabled {
  @apply opacity-60 cursor-not-allowed;
}

.column-settings-dropdown .column-checkbox {
  @apply w-4 h-4 business-radius-badge;
}

.column-settings-dropdown .column-label {
  @apply modal-value text-xs truncate;
  letter-spacing: 0.01em;
}

.column-settings-dropdown .column-required-mark {
  @apply text-red-500 font-bold ml-1;
}

.column-settings-dropdown .summary-badge {
  @apply badge-stats bg-blue-500 text-white;
}

/* 반응형 칼럼 설정 */
@media (max-width: 1024px) {
  .table-fit-left .column-text-long {
    max-width: 150px !important;
    min-width: 100px !important;
  }
  
  .table-fit-left .column-text-medium {
    max-width: 120px !important;
    min-width: 80px !important;
  }
}

@media (max-width: 768px) {
  /* 모바일에서는 칼럼 설정 기능 숨김 */
  .column-settings-dropdown {
    display: none;
  }
}

/* Month Calendar Styles - Only show months */
.month-calendar .rdp-weekdays {
  @apply hidden;
}

.month-calendar .rdp-week {
  @apply grid grid-cols-4 gap-1;
}

.month-calendar .rdp-day {
  @apply w-12 h-8;
}

.month-calendar .rdp-day button {
  @apply w-12 h-8 text-xs font-normal;
}

/* Remove number input spin buttons */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* Purchase Loading Animation */
@keyframes loading {
  0% {
    width: 0%;
    margin-left: 0%;
  }
  50% {
    width: 70%;
    margin-left: 15%;
  }
  100% {
    width: 0%;
    margin-left: 100%;
  }
}
