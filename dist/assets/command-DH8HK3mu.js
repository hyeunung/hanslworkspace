import{e,r as t,A as r,D as n,W as l,j as a,y as i}from"./index-Idow0mpN.js";import{i as o,j as u,O as c,C as d}from"./dialog-DcnLg4RE.js";import{S as s}from"./search-B4mB4fFs.js";
/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=e("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var m=.999,p=/[\\\/_+.#"@\[\(\{&]/,v=/[\\\/_+.#"@\[\(\{&]/g,h=/[\s-]/,g=/[\s-]/g;function b(e,t,r,n,l,a,i){if(a===t.length)return l===e.length?1:.99;var o=`${l},${a}`;if(void 0!==i[o])return i[o];for(var u,c,d,s,f=n.charAt(a),y=r.indexOf(f,l),w=0;y>=0;)(u=b(e,t,r,n,y+1,a+1,i))>w&&(y===l?u*=1:p.test(e.charAt(y-1))?(u*=.8,(d=e.slice(l,y-1).match(v))&&l>0&&(u*=Math.pow(m,d.length))):h.test(e.charAt(y-1))?(u*=.9,(s=e.slice(l,y-1).match(g))&&l>0&&(u*=Math.pow(m,s.length))):(u*=.17,l>0&&(u*=Math.pow(m,y-l))),e.charAt(y)!==t.charAt(a)&&(u*=.9999)),(u<.1&&r.charAt(y-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(y-1)!==n.charAt(a))&&(.1*(c=b(e,t,r,n,y+1,a+2,i))>u&&(u=.1*c)),u>w&&(w=u),y=r.indexOf(f,y+1);return i[o]=w,w}function y(e){return e.toLowerCase().replace(g," ")}function w(e,t,r){return b(e=r&&r.length>0?""+(e+" "+r.join(" ")):e,t,y(e),y(t),0,0,{})}var x='[cmdk-group=""]',E='[cmdk-group-items=""]',k='[cmdk-item=""]',S=`${k}:not([aria-disabled="true"])`,I="cmdk-item-select",N="data-value",R=(e,t,r)=>w(e,t,r),C=t.createContext(void 0),A=()=>t.useContext(C),j=t.createContext(void 0),M=()=>t.useContext(j),D=t.createContext(void 0),P=t.forwardRef((e,l)=>{let a=W(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),i=W(()=>new Set),o=W(()=>new Map),u=W(()=>new Map),c=W(()=>new Set),d=H(e),{label:s,children:f,value:m,onValueChange:p,filter:v,shouldFilter:h,loop:g,disablePointerSelection:b=!1,vimBindings:y=!0,...w}=e,A=r(),M=r(),D=r(),P=t.useRef(null),_=T();U(()=>{if(void 0!==m){let e=m.trim();a.current.value=e,L.emit()}},[m]),U(()=>{_(6,q)},[]);let L=t.useMemo(()=>({subscribe:e=>(c.current.add(e),()=>c.current.delete(e)),snapshot:()=>a.current,setState:(e,t,r)=>{var n,l,i,o;if(!Object.is(a.current[e],t)){if(a.current[e]=t,"search"===e)V(),K(),_(1,O);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(D);e?e.focus():null==(n=document.getElementById(A))||n.focus()}if(_(7,()=>{var e;a.current.selectedItemId=null==(e=z())?void 0:e.id,L.emit()}),r||_(5,q),void 0!==(null==(l=d.current)?void 0:l.value)){let e=null!=t?t:"";return void(null==(o=(i=d.current).onValueChange)||o.call(i,e))}}L.emit()}},emit:()=>{c.current.forEach(e=>e())}}),[]),$=t.useMemo(()=>({value:(e,t,r)=>{var n;t!==(null==(n=u.current.get(e))?void 0:n.value)&&(u.current.set(e,{value:t,keywords:r}),a.current.filtered.items.set(e,F(t,r)),_(2,()=>{K(),L.emit()}))},item:(e,t)=>(i.current.add(e),t&&(o.current.has(t)?o.current.get(t).add(e):o.current.set(t,new Set([e]))),_(3,()=>{V(),K(),a.current.value||O(),L.emit()}),()=>{u.current.delete(e),i.current.delete(e),a.current.filtered.items.delete(e);let t=z();_(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&O(),L.emit()})}),group:e=>(o.current.has(e)||o.current.set(e,new Set),()=>{u.current.delete(e),o.current.delete(e)}),filter:()=>d.current.shouldFilter,label:s||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:A,inputId:D,labelId:M,listInnerRef:P}),[]);function F(e,t){var r,n;let l=null!=(n=null==(r=d.current)?void 0:r.filter)?n:R;return e?l(e,a.current.search,t):0}function K(){if(!a.current.search||!1===d.current.shouldFilter)return;let e=a.current.filtered.items,t=[];a.current.filtered.groups.forEach(r=>{let n=o.current.get(r),l=0;n.forEach(t=>{let r=e.get(t);l=Math.max(r,l)}),t.push([r,l])});let r=P.current;J().sort((t,r)=>{var n,l;let a=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(E);t?t.appendChild(e.parentElement===t?e:e.closest(`${E} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${E} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=P.current)?void 0:t.querySelector(`${x}[${N}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function O(){let e=J().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(N);L.setState("value",t||void 0)}function V(){var e,t,r,n;if(!a.current.search||!1===d.current.shouldFilter)return void(a.current.filtered.count=i.current.size);a.current.filtered.groups=new Set;let l=0;for(let o of i.current){let i=F(null!=(t=null==(e=u.current.get(o))?void 0:e.value)?t:"",null!=(n=null==(r=u.current.get(o))?void 0:r.keywords)?n:[]);a.current.filtered.items.set(o,i),i>0&&l++}for(let[i,u]of o.current)for(let e of u)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(i);break}a.current.filtered.count=l}function q(){var e,t,r;let n=z();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(x))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function z(){var e;return null==(e=P.current)?void 0:e.querySelector(`${k}[aria-selected="true"]`)}function J(){var e;return Array.from((null==(e=P.current)?void 0:e.querySelectorAll(S))||[])}function Q(e){let t=J()[e];t&&L.setState("value",t.getAttribute(N))}function Z(e){var t;let r=z(),n=J(),l=n.findIndex(e=>e===r),a=n[l+e];null!=(t=d.current)&&t.loop&&(a=l+e<0?n[n.length-1]:l+e===n.length?n[0]:n[l+e]),a&&L.setState("value",a.getAttribute(N))}function ee(e){let t,r=z(),n=null==r?void 0:r.closest(x);for(;n&&!t;)n=e>0?B(n,x):G(n,x),t=null==n?void 0:n.querySelector(S);t?L.setState("value",t.getAttribute(N)):Z(e)}let te=()=>Q(J().length-1),re=e=>{e.preventDefault(),e.metaKey?te():e.altKey?ee(1):Z(1)},ne=e=>{e.preventDefault(),e.metaKey?Q(0):e.altKey?ee(-1):Z(-1)};return t.createElement(n.div,{ref:l,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=w.onKeyDown)||t.call(w,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!r)switch(e.key){case"n":case"j":y&&e.ctrlKey&&re(e);break;case"ArrowDown":re(e);break;case"p":case"k":y&&e.ctrlKey&&ne(e);break;case"ArrowUp":ne(e);break;case"Home":e.preventDefault(),Q(0);break;case"End":e.preventDefault(),te();break;case"Enter":{e.preventDefault();let t=z();if(t){let e=new Event(I);t.dispatchEvent(e)}}}}},t.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:Y},s),X(e,e=>t.createElement(j.Provider,{value:L},t.createElement(C.Provider,{value:$},e))))}),_=t.forwardRef((e,a)=>{var i,o;let u=r(),c=t.useRef(null),d=t.useContext(D),s=A(),f=H(e),m=null!=(o=null==(i=f.current)?void 0:i.forceMount)?o:null==d?void 0:d.forceMount;U(()=>{if(!m)return s.item(u,null==d?void 0:d.id)},[m]);let p=Q(u,c,[e.value,e.children,c],e.keywords),v=M(),h=J(e=>e.value&&e.value===p.current),g=J(e=>!(!m&&!1!==s.filter())||(!e.search||e.filtered.items.get(u)>0));function b(){var e,t;y(),null==(t=(e=f.current).onSelect)||t.call(e,p.current)}function y(){v.setState("value",p.current,!0)}if(t.useEffect(()=>{let t=c.current;if(t&&!e.disabled)return t.addEventListener(I,b),()=>t.removeEventListener(I,b)},[g,e.onSelect,e.disabled]),!g)return null;let{disabled:w,value:x,onSelect:E,forceMount:k,keywords:S,...N}=e;return t.createElement(n.div,{ref:l(c,a),...N,id:u,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||s.getDisablePointerSelection()?void 0:y,onClick:w?void 0:b},e.children)}),L=t.forwardRef((e,a)=>{let{heading:i,children:o,forceMount:u,...c}=e,d=r(),s=t.useRef(null),f=t.useRef(null),m=r(),p=A(),v=J(e=>!(!u&&!1!==p.filter())||(!e.search||e.filtered.groups.has(d)));U(()=>p.group(d),[]),Q(d,s,[e.value,e.heading,f]);let h=t.useMemo(()=>({id:d,forceMount:u}),[u]);return t.createElement(n.div,{ref:l(s,a),...c,"cmdk-group":"",role:"presentation",hidden:!v||void 0},i&&t.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:m},i),X(e,e=>t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":i?m:void 0},t.createElement(D.Provider,{value:h},e))))}),$=t.forwardRef((e,r)=>{let{alwaysRender:a,...i}=e,o=t.useRef(null),u=J(e=>!e.search);return a||u?t.createElement(n.div,{ref:l(o,r),...i,"cmdk-separator":"",role:"separator"}):null}),F=t.forwardRef((e,r)=>{let{onValueChange:l,...a}=e,i=null!=e.value,o=M(),u=J(e=>e.search),c=J(e=>e.selectedItemId),d=A();return t.useEffect(()=>{null!=e.value&&o.setState("search",e.value)},[e.value]),t.createElement(n.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":c,id:d.inputId,type:"text",value:i?e.value:u,onChange:e=>{i||o.setState("search",e.target.value),null==l||l(e.target.value)}})}),K=t.forwardRef((e,r)=>{let{children:a,label:i="Suggestions",...o}=e,u=t.useRef(null),c=t.useRef(null),d=J(e=>e.selectedItemId),s=A();return t.useEffect(()=>{if(c.current&&u.current){let e,t=c.current,r=u.current,n=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;r.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return n.observe(t),()=>{cancelAnimationFrame(e),n.unobserve(t)}}},[]),t.createElement(n.div,{ref:l(u,r),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":i,id:s.listId},X(e,e=>t.createElement("div",{ref:l(c,s.listInnerRef),"cmdk-list-sizer":""},e)))}),O=t.forwardRef((e,r)=>{let{open:n,onOpenChange:l,overlayClassName:a,contentClassName:i,container:s,...f}=e;return t.createElement(o,{open:n,onOpenChange:l},t.createElement(u,{container:s},t.createElement(c,{"cmdk-overlay":"",className:a}),t.createElement(d,{"aria-label":e.label,"cmdk-dialog":"",className:i},t.createElement(P,{ref:r,...f}))))}),V=t.forwardRef((e,r)=>J(e=>0===e.filtered.count)?t.createElement(n.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),q=t.forwardRef((e,r)=>{let{progress:l,children:a,label:i="Loading...",...o}=e;return t.createElement(n.div,{ref:r,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},X(e,e=>t.createElement("div",{"aria-hidden":!0},e)))}),z=Object.assign(P,{List:K,Item:_,Input:F,Group:L,Separator:$,Dialog:O,Empty:V,Loading:q});function B(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function G(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function H(e){let r=t.useRef(e);return U(()=>{r.current=e}),r}var U="undefined"==typeof window?t.useEffect:t.useLayoutEffect;function W(e){let r=t.useRef();return void 0===r.current&&(r.current=e()),r}function J(e){let r=M(),n=()=>e(r.snapshot());return t.useSyncExternalStore(r.subscribe,n,n)}function Q(e,r,n,l=[]){let a=t.useRef(),i=A();return U(()=>{var t;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():a.current}})(),u=l.map(e=>e.trim());i.value(e,o,u),null==(t=r.current)||t.setAttribute(N,o),a.current=o}),a}var T=()=>{let[e,r]=t.useState(),n=W(()=>new Map);return U(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,t)=>{n.current.set(e,t),r({})}};function X({asChild:e,children:r},n){return e&&t.isValidElement(r)?t.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(r),{ref:r.ref},n(r.props.children)):n(r)}var Y={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Z=t.forwardRef(({className:e,...t},r)=>a.jsx(z,{ref:r,className:i("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Z.displayName=z.displayName;const ee=t.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(s,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(z.Input,{ref:r,className:i("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ee.displayName=z.Input.displayName;const te=t.forwardRef(({className:e,...t},r)=>a.jsx(z.List,{ref:r,className:i("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));te.displayName=z.List.displayName;const re=t.forwardRef((e,t)=>a.jsx(z.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));re.displayName=z.Empty.displayName;const ne=t.forwardRef(({className:e,...t},r)=>a.jsx(z.Group,{ref:r,className:i("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ne.displayName=z.Group.displayName;t.forwardRef(({className:e,...t},r)=>a.jsx(z.Separator,{ref:r,className:i("-mx-1 h-px bg-border",e),...t})).displayName=z.Separator.displayName;const le=t.forwardRef(({className:e,...t},r)=>a.jsx(z.Item,{ref:r,className:i("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));le.displayName=z.Item.displayName;export{f as C,Z as a,ee as b,re as c,ne as d,le as e,te as f};
//# sourceMappingURL=command-DH8HK3mu.js.map
