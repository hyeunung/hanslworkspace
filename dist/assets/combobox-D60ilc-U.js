import{c as je,r as l,q as K,P as A,s as V,j as y,k as N,b as Ae}from"./index-CIKiTRGP.js";import{R as Me,P as $e,O as De,C as Pe}from"./input-DrGP8ljt.js";import{S as Le}from"./search-CWnqp10S.js";import{P as Fe,a as Ke,b as qe}from"./popover-C8yhtT-D.js";import{C as Oe}from"./select-CPwasdTO.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Be=je("chevrons-up-down",Ve);var fe=1,ze=.9,Ge=.8,Ue=.17,ee=.1,te=.999,Te=.9999,_e=.99,He=/[\\\/_+.#"@\[\(\{&]/,We=/[\\\/_+.#"@\[\(\{&]/g,Je=/[\s-]/,he=/[\s-]/g;function ne(e,n,t,d,u,i,c){if(i===n.length)return u===e.length?fe:_e;var m=`${u},${i}`;if(c[m]!==void 0)return c[m];for(var h=d.charAt(i),a=t.indexOf(h,u),v=0,g,I,k,R;a>=0;)g=ne(e,n,t,d,a+1,i+1,c),g>v&&(a===u?g*=fe:He.test(e.charAt(a-1))?(g*=Ge,k=e.slice(u,a-1).match(We),k&&u>0&&(g*=Math.pow(te,k.length))):Je.test(e.charAt(a-1))?(g*=ze,R=e.slice(u,a-1).match(he),R&&u>0&&(g*=Math.pow(te,R.length))):(g*=Ue,u>0&&(g*=Math.pow(te,a-u))),e.charAt(a)!==n.charAt(i)&&(g*=Te)),(g<ee&&t.charAt(a-1)===d.charAt(i+1)||d.charAt(i+1)===d.charAt(i)&&t.charAt(a-1)!==d.charAt(i))&&(I=ne(e,n,t,d,a+1,i+2,c),I*ee>g&&(g=I*ee)),g>v&&(v=g),a=t.indexOf(h,a+1);return c[m]=v,v}function pe(e){return e.toLowerCase().replace(he," ")}function Xe(e,n,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ne(e,n,pe(e),pe(n),0,0,{})}var O='[cmdk-group=""]',re='[cmdk-group-items=""]',Ye='[cmdk-group-heading=""]',ge='[cmdk-item=""]',ve=`${ge}:not([aria-disabled="true"])`,le="cmdk-item-select",L="data-value",Qe=(e,n,t)=>Xe(e,n,t),be=l.createContext(void 0),B=()=>l.useContext(be),xe=l.createContext(void 0),ae=()=>l.useContext(xe),ye=l.createContext(void 0),we=l.forwardRef((e,n)=>{let t=F(()=>{var r,s;return{search:"",value:(s=(r=e.value)!=null?r:e.defaultValue)!=null?s:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),d=F(()=>new Set),u=F(()=>new Map),i=F(()=>new Map),c=F(()=>new Set),m=ke(e),{label:h,children:a,value:v,onValueChange:g,filter:I,shouldFilter:k,loop:R,disablePointerSelection:T=!1,vimBindings:M=!0,...z}=e,_=K(),oe=K(),H=K(),$=l.useRef(null),x=st();D(()=>{if(v!==void 0){let r=v.trim();t.current.value=r,E.emit()}},[v]),D(()=>{x(6,ie)},[]);let E=l.useMemo(()=>({subscribe:r=>(c.current.add(r),()=>c.current.delete(r)),snapshot:()=>t.current,setState:(r,s,f)=>{var o,p,b,S;if(!Object.is(t.current[r],s)){if(t.current[r]=s,r==="search")Y(),J(),x(1,X);else if(r==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(H);w?w.focus():(o=document.getElementById(_))==null||o.focus()}if(x(7,()=>{var w;t.current.selectedItemId=(w=P())==null?void 0:w.id,E.emit()}),f||x(5,ie),((p=m.current)==null?void 0:p.value)!==void 0){let w=s??"";(S=(b=m.current).onValueChange)==null||S.call(b,w);return}}E.emit()}},emit:()=>{c.current.forEach(r=>r())}}),[]),W=l.useMemo(()=>({value:(r,s,f)=>{var o;s!==((o=i.current.get(r))==null?void 0:o.value)&&(i.current.set(r,{value:s,keywords:f}),t.current.filtered.items.set(r,ue(s,f)),x(2,()=>{J(),E.emit()}))},item:(r,s)=>(d.current.add(r),s&&(u.current.has(s)?u.current.get(s).add(r):u.current.set(s,new Set([r]))),x(3,()=>{Y(),J(),t.current.value||X(),E.emit()}),()=>{i.current.delete(r),d.current.delete(r),t.current.filtered.items.delete(r);let f=P();x(4,()=>{Y(),f?.getAttribute("id")===r&&X(),E.emit()})}),group:r=>(u.current.has(r)||u.current.set(r,new Set),()=>{i.current.delete(r),u.current.delete(r)}),filter:()=>m.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:_,inputId:H,labelId:oe,listInnerRef:$}),[]);function ue(r,s){var f,o;let p=(o=(f=m.current)==null?void 0:f.filter)!=null?o:Qe;return r?p(r,t.current.search,s):0}function J(){if(!t.current.search||m.current.shouldFilter===!1)return;let r=t.current.filtered.items,s=[];t.current.filtered.groups.forEach(o=>{let p=u.current.get(o),b=0;p.forEach(S=>{let w=r.get(S);b=Math.max(w,b)}),s.push([o,b])});let f=$.current;q().sort((o,p)=>{var b,S;let w=o.getAttribute("id"),G=p.getAttribute("id");return((b=r.get(G))!=null?b:0)-((S=r.get(w))!=null?S:0)}).forEach(o=>{let p=o.closest(re);p?p.appendChild(o.parentElement===p?o:o.closest(`${re} > *`)):f.appendChild(o.parentElement===f?o:o.closest(`${re} > *`))}),s.sort((o,p)=>p[1]-o[1]).forEach(o=>{var p;let b=(p=$.current)==null?void 0:p.querySelector(`${O}[${L}="${encodeURIComponent(o[0])}"]`);b?.parentElement.appendChild(b)})}function X(){let r=q().find(f=>f.getAttribute("aria-disabled")!=="true"),s=r?.getAttribute(L);E.setState("value",s||void 0)}function Y(){var r,s,f,o;if(!t.current.search||m.current.shouldFilter===!1){t.current.filtered.count=d.current.size;return}t.current.filtered.groups=new Set;let p=0;for(let b of d.current){let S=(s=(r=i.current.get(b))==null?void 0:r.value)!=null?s:"",w=(o=(f=i.current.get(b))==null?void 0:f.keywords)!=null?o:[],G=ue(S,w);t.current.filtered.items.set(b,G),G>0&&p++}for(let[b,S]of u.current)for(let w of S)if(t.current.filtered.items.get(w)>0){t.current.filtered.groups.add(b);break}t.current.filtered.count=p}function ie(){var r,s,f;let o=P();o&&(((r=o.parentElement)==null?void 0:r.firstChild)===o&&((f=(s=o.closest(O))==null?void 0:s.querySelector(Ye))==null||f.scrollIntoView({block:"nearest"})),o.scrollIntoView({block:"nearest"}))}function P(){var r;return(r=$.current)==null?void 0:r.querySelector(`${ge}[aria-selected="true"]`)}function q(){var r;return Array.from(((r=$.current)==null?void 0:r.querySelectorAll(ve))||[])}function Q(r){let s=q()[r];s&&E.setState("value",s.getAttribute(L))}function Z(r){var s;let f=P(),o=q(),p=o.findIndex(S=>S===f),b=o[p+r];(s=m.current)!=null&&s.loop&&(b=p+r<0?o[o.length-1]:p+r===o.length?o[0]:o[p+r]),b&&E.setState("value",b.getAttribute(L))}function se(r){let s=P(),f=s?.closest(O),o;for(;f&&!o;)f=r>0?ut(f,O):it(f,O),o=f?.querySelector(ve);o?E.setState("value",o.getAttribute(L)):Z(r)}let ce=()=>Q(q().length-1),de=r=>{r.preventDefault(),r.metaKey?ce():r.altKey?se(1):Z(1)},me=r=>{r.preventDefault(),r.metaKey?Q(0):r.altKey?se(-1):Z(-1)};return l.createElement(A.div,{ref:n,tabIndex:-1,...z,"cmdk-root":"",onKeyDown:r=>{var s;(s=z.onKeyDown)==null||s.call(z,r);let f=r.nativeEvent.isComposing||r.keyCode===229;if(!(r.defaultPrevented||f))switch(r.key){case"n":case"j":{M&&r.ctrlKey&&de(r);break}case"ArrowDown":{de(r);break}case"p":case"k":{M&&r.ctrlKey&&me(r);break}case"ArrowUp":{me(r);break}case"Home":{r.preventDefault(),Q(0);break}case"End":{r.preventDefault(),ce();break}case"Enter":{r.preventDefault();let o=P();if(o){let p=new Event(le);o.dispatchEvent(p)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:W.inputId,id:W.labelId,style:dt},h),U(e,r=>l.createElement(xe.Provider,{value:E},l.createElement(be.Provider,{value:W},r))))}),Ze=l.forwardRef((e,n)=>{var t,d;let u=K(),i=l.useRef(null),c=l.useContext(ye),m=B(),h=ke(e),a=(d=(t=h.current)==null?void 0:t.forceMount)!=null?d:c?.forceMount;D(()=>{if(!a)return m.item(u,c?.id)},[a]);let v=Ee(u,i,[e.value,e.children,i],e.keywords),g=ae(),I=j(x=>x.value&&x.value===v.current),k=j(x=>a||m.filter()===!1?!0:x.search?x.filtered.items.get(u)>0:!0);l.useEffect(()=>{let x=i.current;if(!(!x||e.disabled))return x.addEventListener(le,R),()=>x.removeEventListener(le,R)},[k,e.onSelect,e.disabled]);function R(){var x,E;T(),(E=(x=h.current).onSelect)==null||E.call(x,v.current)}function T(){g.setState("value",v.current,!0)}if(!k)return null;let{disabled:M,value:z,onSelect:_,forceMount:oe,keywords:H,...$}=e;return l.createElement(A.div,{ref:V(i,n),...$,id:u,"cmdk-item":"",role:"option","aria-disabled":!!M,"aria-selected":!!I,"data-disabled":!!M,"data-selected":!!I,onPointerMove:M||m.getDisablePointerSelection()?void 0:T,onClick:M?void 0:R},e.children)}),et=l.forwardRef((e,n)=>{let{heading:t,children:d,forceMount:u,...i}=e,c=K(),m=l.useRef(null),h=l.useRef(null),a=K(),v=B(),g=j(k=>u||v.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);D(()=>v.group(c),[]),Ee(c,m,[e.value,e.heading,h]);let I=l.useMemo(()=>({id:c,forceMount:u}),[u]);return l.createElement(A.div,{ref:V(m,n),...i,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&l.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:a},t),U(e,k=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?a:void 0},l.createElement(ye.Provider,{value:I},k))))}),tt=l.forwardRef((e,n)=>{let{alwaysRender:t,...d}=e,u=l.useRef(null),i=j(c=>!c.search);return!t&&!i?null:l.createElement(A.div,{ref:V(u,n),...d,"cmdk-separator":"",role:"separator"})}),rt=l.forwardRef((e,n)=>{let{onValueChange:t,...d}=e,u=e.value!=null,i=ae(),c=j(a=>a.search),m=j(a=>a.selectedItemId),h=B();return l.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),l.createElement(A.input,{ref:n,...d,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":m,id:h.inputId,type:"text",value:u?e.value:c,onChange:a=>{u||i.setState("search",a.target.value),t?.(a.target.value)}})}),nt=l.forwardRef((e,n)=>{let{children:t,label:d="Suggestions",...u}=e,i=l.useRef(null),c=l.useRef(null),m=j(a=>a.selectedItemId),h=B();return l.useEffect(()=>{if(c.current&&i.current){let a=c.current,v=i.current,g,I=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let k=a.offsetHeight;v.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return I.observe(a),()=>{cancelAnimationFrame(g),I.unobserve(a)}}},[]),l.createElement(A.div,{ref:V(i,n),...u,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":d,id:h.listId},U(e,a=>l.createElement("div",{ref:V(c,h.listInnerRef),"cmdk-list-sizer":""},a)))}),lt=l.forwardRef((e,n)=>{let{open:t,onOpenChange:d,overlayClassName:u,contentClassName:i,container:c,...m}=e;return l.createElement(Me,{open:t,onOpenChange:d},l.createElement($e,{container:c},l.createElement(De,{"cmdk-overlay":"",className:u}),l.createElement(Pe,{"aria-label":e.label,"cmdk-dialog":"",className:i},l.createElement(we,{ref:n,...m}))))}),at=l.forwardRef((e,n)=>j(t=>t.filtered.count===0)?l.createElement(A.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ot=l.forwardRef((e,n)=>{let{progress:t,children:d,label:u="Loading...",...i}=e;return l.createElement(A.div,{ref:n,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":u},U(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),C=Object.assign(we,{List:nt,Item:Ze,Input:rt,Group:et,Separator:tt,Dialog:lt,Empty:at,Loading:ot});function ut(e,n){let t=e.nextElementSibling;for(;t;){if(t.matches(n))return t;t=t.nextElementSibling}}function it(e,n){let t=e.previousElementSibling;for(;t;){if(t.matches(n))return t;t=t.previousElementSibling}}function ke(e){let n=l.useRef(e);return D(()=>{n.current=e}),n}var D=typeof window>"u"?l.useEffect:l.useLayoutEffect;function F(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function j(e){let n=ae(),t=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,t,t)}function Ee(e,n,t,d=[]){let u=l.useRef(),i=B();return D(()=>{var c;let m=(()=>{var a;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(a=v.current.textContent)==null?void 0:a.trim():u.current}})(),h=d.map(a=>a.trim());i.value(e,m,h),(c=n.current)==null||c.setAttribute(L,m),u.current=m}),u}var st=()=>{let[e,n]=l.useState(),t=F(()=>new Map);return D(()=>{t.current.forEach(d=>d()),t.current=new Map},[e]),(d,u)=>{t.current.set(d,u),n({})}};function ct(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function U({asChild:e,children:n},t){return e&&l.isValidElement(n)?l.cloneElement(ct(n),{ref:n.ref},t(n.props.children)):t(n)}var dt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ce=l.forwardRef(({className:e,...n},t)=>y.jsx(C,{ref:t,className:N("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));Ce.displayName=C.displayName;const Se=l.forwardRef(({className:e,...n},t)=>y.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[y.jsx(Le,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),y.jsx(C.Input,{ref:t,className:N("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));Se.displayName=C.Input.displayName;const mt=l.forwardRef(({className:e,...n},t)=>y.jsx(C.List,{ref:t,className:N("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));mt.displayName=C.List.displayName;const Ie=l.forwardRef((e,n)=>y.jsx(C.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));Ie.displayName=C.Empty.displayName;const Re=l.forwardRef(({className:e,...n},t)=>y.jsx(C.Group,{ref:t,className:N("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));Re.displayName=C.Group.displayName;const ft=l.forwardRef(({className:e,...n},t)=>y.jsx(C.Separator,{ref:t,className:N("-mx-1 h-px bg-border",e),...n}));ft.displayName=C.Separator.displayName;const Ne=l.forwardRef(({className:e,...n},t)=>y.jsx(C.Item,{ref:t,className:N("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...n}));Ne.displayName=C.Item.displayName;function xt({options:e,value:n,onValueChange:t,placeholder:d="선택...",searchPlaceholder:u="검색...",emptyText:i="결과가 없습니다.",className:c}){const[m,h]=l.useState(!1);return y.jsxs(Fe,{open:m,onOpenChange:h,children:[y.jsx(Ke,{asChild:!0,children:y.jsxs(Ae,{variant:"outline",role:"combobox","aria-expanded":m,className:N("w-full justify-between h-9 text-sm font-normal",c),children:[n?e.find(a=>a.value===n)?.label:d,y.jsx(Be,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),y.jsx(qe,{className:"w-full p-0",align:"start",children:y.jsxs(Ce,{children:[y.jsx(Se,{placeholder:u,className:"h-9"}),y.jsx(Ie,{children:i}),y.jsx(Re,{className:"max-h-[300px] overflow-auto",children:e.map(a=>y.jsxs(Ne,{value:a.label,onSelect:()=>{t(a.value===n?"":a.value),h(!1)},children:[y.jsx(Oe,{className:N("mr-2 h-4 w-4",n===a.value?"opacity-100":"opacity-0")}),a.label]},a.value))})]})})]})}export{xt as C};
//# sourceMappingURL=combobox-D60ilc-U.js.map
