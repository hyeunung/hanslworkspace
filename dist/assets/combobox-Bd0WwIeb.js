import{c as e,r as t,h as r,P as l,i as n,j as a,k as o,B as i}from"./index-Cexq0bVm.js";import{R as u,P as c,O as s,C as d}from"./input-DP-_2OHk.js";import{S as f}from"./card-XiV0cUm9.js";import{P as m,a as p,b as v}from"./popover-I8DezEuT.js";import{C as h}from"./chevron-down-C8waR2_k.js";
/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=e("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var b=.999,x=/[\\\/_+.#"@\[\(\{&]/,w=/[\\\/_+.#"@\[\(\{&]/g,y=/[\s-]/,E=/[\s-]/g;function k(e,t,r,l,n,a,o){if(a===t.length)return n===e.length?1:.99;var i=`${n},${a}`;if(void 0!==o[i])return o[i];for(var u,c,s,d,f=l.charAt(a),m=r.indexOf(f,n),p=0;m>=0;)(u=k(e,t,r,l,m+1,a+1,o))>p&&(m===n?u*=1:x.test(e.charAt(m-1))?(u*=.8,(s=e.slice(n,m-1).match(w))&&n>0&&(u*=Math.pow(b,s.length))):y.test(e.charAt(m-1))?(u*=.9,(d=e.slice(n,m-1).match(E))&&n>0&&(u*=Math.pow(b,d.length))):(u*=.17,n>0&&(u*=Math.pow(b,m-n))),e.charAt(m)!==t.charAt(a)&&(u*=.9999)),(u<.1&&r.charAt(m-1)===l.charAt(a+1)||l.charAt(a+1)===l.charAt(a)&&r.charAt(m-1)!==l.charAt(a))&&(.1*(c=k(e,t,r,l,m+1,a+2,o))>u&&(u=.1*c)),u>p&&(p=u),m=r.indexOf(f,m+1);return o[i]=p,p}function S(e){return e.toLowerCase().replace(E," ")}function N(e,t,r){return k(e=r&&r.length>0?""+(e+" "+r.join(" ")):e,t,S(e),S(t),0,0,{})}var C='[cmdk-group=""]',I='[cmdk-group-items=""]',j='[cmdk-item=""]',R=`${j}:not([aria-disabled="true"])`,A="cmdk-item-select",M="data-value",P=(e,t,r)=>N(e,t,r),D=t.createContext(void 0),_=()=>t.useContext(D),L=t.createContext(void 0),O=()=>t.useContext(L),$=t.createContext(void 0),F=t.forwardRef((e,n)=>{let a=Y(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=Y(()=>new Set),i=Y(()=>new Map),u=Y(()=>new Map),c=Y(()=>new Set),s=Q(e),{label:d,children:f,value:m,onValueChange:p,filter:v,shouldFilter:h,loop:g,disablePointerSelection:b=!1,vimBindings:x=!0,...w}=e,y=r(),E=r(),k=r(),S=t.useRef(null),N=te();X(()=>{if(void 0!==m){let e=m.trim();a.current.value=e,_.emit()}},[m]),X(()=>{N(6,q)},[]);let _=t.useMemo(()=>({subscribe:e=>(c.current.add(e),()=>c.current.delete(e)),snapshot:()=>a.current,setState:(e,t,r)=>{var l,n,o,i;if(!Object.is(a.current[e],t)){if(a.current[e]=t,"search"===e)V(),F(),N(1,K);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(k);e?e.focus():null==(l=document.getElementById(y))||l.focus()}if(N(7,()=>{var e;a.current.selectedItemId=null==(e=z())?void 0:e.id,_.emit()}),r||N(5,q),void 0!==(null==(n=s.current)?void 0:n.value)){let e=null!=t?t:"";return void(null==(i=(o=s.current).onValueChange)||i.call(o,e))}}_.emit()}},emit:()=>{c.current.forEach(e=>e())}}),[]),O=t.useMemo(()=>({value:(e,t,r)=>{var l;t!==(null==(l=u.current.get(e))?void 0:l.value)&&(u.current.set(e,{value:t,keywords:r}),a.current.filtered.items.set(e,$(t,r)),N(2,()=>{F(),_.emit()}))},item:(e,t)=>(o.current.add(e),t&&(i.current.has(t)?i.current.get(t).add(e):i.current.set(t,new Set([e]))),N(3,()=>{V(),F(),a.current.value||K(),_.emit()}),()=>{u.current.delete(e),o.current.delete(e),a.current.filtered.items.delete(e);let t=z();N(4,()=>{V(),(null==t?void 0:t.getAttribute("id"))===e&&K(),_.emit()})}),group:e=>(i.current.has(e)||i.current.set(e,new Set),()=>{u.current.delete(e),i.current.delete(e)}),filter:()=>s.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:y,inputId:k,labelId:E,listInnerRef:S}),[]);function $(e,t){var r,l;let n=null!=(l=null==(r=s.current)?void 0:r.filter)?l:P;return e?n(e,a.current.search,t):0}function F(){if(!a.current.search||!1===s.current.shouldFilter)return;let e=a.current.filtered.items,t=[];a.current.filtered.groups.forEach(r=>{let l=i.current.get(r),n=0;l.forEach(t=>{let r=e.get(t);n=Math.max(r,n)}),t.push([r,n])});let r=S.current;B().sort((t,r)=>{var l,n;let a=t.getAttribute("id"),o=r.getAttribute("id");return(null!=(l=e.get(o))?l:0)-(null!=(n=e.get(a))?n:0)}).forEach(e=>{let t=e.closest(I);t?t.appendChild(e.parentElement===t?e:e.closest(`${I} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${I} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=S.current)?void 0:t.querySelector(`${C}[${M}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function K(){let e=B().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(M);_.setState("value",t||void 0)}function V(){var e,t,r,l;if(!a.current.search||!1===s.current.shouldFilter)return void(a.current.filtered.count=o.current.size);a.current.filtered.groups=new Set;let n=0;for(let i of o.current){let o=$(null!=(t=null==(e=u.current.get(i))?void 0:e.value)?t:"",null!=(l=null==(r=u.current.get(i))?void 0:r.keywords)?l:[]);a.current.filtered.items.set(i,o),o>0&&n++}for(let[o,u]of i.current)for(let e of u)if(a.current.filtered.items.get(e)>0){a.current.filtered.groups.add(o);break}a.current.filtered.count=n}function q(){var e,t,r;let l=z();l&&((null==(e=l.parentElement)?void 0:e.firstChild)===l&&(null==(r=null==(t=l.closest(C))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function z(){var e;return null==(e=S.current)?void 0:e.querySelector(`${j}[aria-selected="true"]`)}function B(){var e;return Array.from((null==(e=S.current)?void 0:e.querySelectorAll(R))||[])}function G(e){let t=B()[e];t&&_.setState("value",t.getAttribute(M))}function H(e){var t;let r=z(),l=B(),n=l.findIndex(e=>e===r),a=l[n+e];null!=(t=s.current)&&t.loop&&(a=n+e<0?l[l.length-1]:n+e===l.length?l[0]:l[n+e]),a&&_.setState("value",a.getAttribute(M))}function U(e){let t,r=z(),l=null==r?void 0:r.closest(C);for(;l&&!t;)l=e>0?W(l,C):J(l,C),t=null==l?void 0:l.querySelector(R);t?_.setState("value",t.getAttribute(M)):H(e)}let T=()=>G(B().length-1),Z=e=>{e.preventDefault(),e.metaKey?T():e.altKey?U(1):H(1)},ee=e=>{e.preventDefault(),e.metaKey?G(0):e.altKey?U(-1):H(-1)};return t.createElement(l.div,{ref:n,tabIndex:-1,...w,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=w.onKeyDown)||t.call(w,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!e.defaultPrevented&&!r)switch(e.key){case"n":case"j":x&&e.ctrlKey&&Z(e);break;case"ArrowDown":Z(e);break;case"p":case"k":x&&e.ctrlKey&&ee(e);break;case"ArrowUp":ee(e);break;case"Home":e.preventDefault(),G(0);break;case"End":e.preventDefault(),T();break;case"Enter":{e.preventDefault();let t=z();if(t){let e=new Event(A);t.dispatchEvent(e)}}}}},t.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:le},d),re(e,e=>t.createElement(L.Provider,{value:_},t.createElement(D.Provider,{value:O},e))))}),K=t.forwardRef((e,a)=>{var o,i;let u=r(),c=t.useRef(null),s=t.useContext($),d=_(),f=Q(e),m=null!=(i=null==(o=f.current)?void 0:o.forceMount)?i:null==s?void 0:s.forceMount;X(()=>{if(!m)return d.item(u,null==s?void 0:s.id)},[m]);let p=ee(u,c,[e.value,e.children,c],e.keywords),v=O(),h=Z(e=>e.value&&e.value===p.current),g=Z(e=>!(!m&&!1!==d.filter())||(!e.search||e.filtered.items.get(u)>0));function b(){var e,t;x(),null==(t=(e=f.current).onSelect)||t.call(e,p.current)}function x(){v.setState("value",p.current,!0)}if(t.useEffect(()=>{let t=c.current;if(t&&!e.disabled)return t.addEventListener(A,b),()=>t.removeEventListener(A,b)},[g,e.onSelect,e.disabled]),!g)return null;let{disabled:w,value:y,onSelect:E,forceMount:k,keywords:S,...N}=e;return t.createElement(l.div,{ref:n(c,a),...N,id:u,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!h,"data-disabled":!!w,"data-selected":!!h,onPointerMove:w||d.getDisablePointerSelection()?void 0:x,onClick:w?void 0:b},e.children)}),V=t.forwardRef((e,a)=>{let{heading:o,children:i,forceMount:u,...c}=e,s=r(),d=t.useRef(null),f=t.useRef(null),m=r(),p=_(),v=Z(e=>!(!u&&!1!==p.filter())||(!e.search||e.filtered.groups.has(s)));X(()=>p.group(s),[]),ee(s,d,[e.value,e.heading,f]);let h=t.useMemo(()=>({id:s,forceMount:u}),[u]);return t.createElement(l.div,{ref:n(d,a),...c,"cmdk-group":"",role:"presentation",hidden:!v||void 0},o&&t.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:m},o),re(e,e=>t.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":o?m:void 0},t.createElement($.Provider,{value:h},e))))}),q=t.forwardRef((e,r)=>{let{alwaysRender:a,...o}=e,i=t.useRef(null),u=Z(e=>!e.search);return a||u?t.createElement(l.div,{ref:n(i,r),...o,"cmdk-separator":"",role:"separator"}):null}),z=t.forwardRef((e,r)=>{let{onValueChange:n,...a}=e,o=null!=e.value,i=O(),u=Z(e=>e.search),c=Z(e=>e.selectedItemId),s=_();return t.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),t.createElement(l.input,{ref:r,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":c,id:s.inputId,type:"text",value:o?e.value:u,onChange:e=>{o||i.setState("search",e.target.value),null==n||n(e.target.value)}})}),B=t.forwardRef((e,r)=>{let{children:a,label:o="Suggestions",...i}=e,u=t.useRef(null),c=t.useRef(null),s=Z(e=>e.selectedItemId),d=_();return t.useEffect(()=>{if(c.current&&u.current){let e,t=c.current,r=u.current,l=new ResizeObserver(()=>{e=requestAnimationFrame(()=>{let e=t.offsetHeight;r.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")})});return l.observe(t),()=>{cancelAnimationFrame(e),l.unobserve(t)}}},[]),t.createElement(l.div,{ref:n(u,r),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":o,id:d.listId},re(e,e=>t.createElement("div",{ref:n(c,d.listInnerRef),"cmdk-list-sizer":""},e)))}),G=t.forwardRef((e,r)=>{let{open:l,onOpenChange:n,overlayClassName:a,contentClassName:o,container:i,...f}=e;return t.createElement(u,{open:l,onOpenChange:n},t.createElement(c,{container:i},t.createElement(s,{"cmdk-overlay":"",className:a}),t.createElement(d,{"aria-label":e.label,"cmdk-dialog":"",className:o},t.createElement(F,{ref:r,...f}))))}),H=t.forwardRef((e,r)=>Z(e=>0===e.filtered.count)?t.createElement(l.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),U=t.forwardRef((e,r)=>{let{progress:n,children:a,label:o="Loading...",...i}=e;return t.createElement(l.div,{ref:r,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},re(e,e=>t.createElement("div",{"aria-hidden":!0},e)))}),T=Object.assign(F,{List:B,Item:K,Input:z,Group:V,Separator:q,Dialog:G,Empty:H,Loading:U});function W(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function J(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Q(e){let r=t.useRef(e);return X(()=>{r.current=e}),r}var X="undefined"==typeof window?t.useEffect:t.useLayoutEffect;function Y(e){let r=t.useRef();return void 0===r.current&&(r.current=e()),r}function Z(e){let r=O(),l=()=>e(r.snapshot());return t.useSyncExternalStore(r.subscribe,l,l)}function ee(e,r,l,n=[]){let a=t.useRef(),o=_();return X(()=>{var t;let i=(()=>{var e;for(let t of l){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():a.current}})(),u=n.map(e=>e.trim());o.value(e,i,u),null==(t=r.current)||t.setAttribute(M,i),a.current=i}),a}var te=()=>{let[e,r]=t.useState(),l=Y(()=>new Map);return X(()=>{l.current.forEach(e=>e()),l.current=new Map},[e]),(e,t)=>{l.current.set(e,t),r({})}};function re({asChild:e,children:r},l){return e&&t.isValidElement(r)?t.cloneElement(function(e){let t=e.type;return"function"==typeof t?t(e.props):"render"in t?t.render(e.props):e}(r),{ref:r.ref},l(r.props.children)):l(r)}var le={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const ne=t.forwardRef(({className:e,...t},r)=>a.jsx(T,{ref:r,className:o("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));ne.displayName=T.displayName;const ae=t.forwardRef(({className:e,...t},r)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(f,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(T.Input,{ref:r,className:o("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ae.displayName=T.Input.displayName;t.forwardRef(({className:e,...t},r)=>a.jsx(T.List,{ref:r,className:o("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t})).displayName=T.List.displayName;const oe=t.forwardRef((e,t)=>a.jsx(T.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));oe.displayName=T.Empty.displayName;const ie=t.forwardRef(({className:e,...t},r)=>a.jsx(T.Group,{ref:r,className:o("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));ie.displayName=T.Group.displayName;t.forwardRef(({className:e,...t},r)=>a.jsx(T.Separator,{ref:r,className:o("-mx-1 h-px bg-border",e),...t})).displayName=T.Separator.displayName;const ue=t.forwardRef(({className:e,...t},r)=>a.jsx(T.Item,{ref:r,className:o("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));function ce({options:e,value:r,onValueChange:l,placeholder:n="선택...",searchPlaceholder:u="검색...",emptyText:c="결과가 없습니다.",className:s}){const[d,f]=t.useState(!1);return a.jsxs(m,{open:d,onOpenChange:f,children:[a.jsx(p,{asChild:!0,children:a.jsxs(i,{variant:"outline",role:"combobox","aria-expanded":d,className:o("w-full justify-between h-9 text-sm font-normal",s),children:[r?e.find(e=>e.value===r)?.label:n,a.jsx(g,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(v,{className:"w-full p-0",align:"start",children:a.jsxs(ne,{children:[a.jsx(ae,{placeholder:u,className:"h-9"}),a.jsx(oe,{children:c}),a.jsx(ie,{className:"max-h-[300px] overflow-auto",children:e.map(e=>a.jsxs(ue,{value:e.label,onSelect:()=>{l(e.value===r?"":e.value),f(!1)},children:[a.jsx(h,{className:o("mr-2 h-4 w-4",r===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})})]})}ue.displayName=T.Item.displayName;export{ce as C};
//# sourceMappingURL=combobox-Bd0WwIeb.js.map
