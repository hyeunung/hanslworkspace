import{ao as e,a as s,r as t,j as a,c as r}from"./index-BnUWfPZP.js";function n(){const[n]=e(),c=s(),[i,l]=t.useState(!0),[d,m]=t.useState(null);return t.useEffect(()=>{(async()=>{const e=n.get("token_hash"),s=n.get("type"),t=n.get("next")||"/dashboard";if(!e||!s)return m("유효하지 않은 링크입니다."),l(!1),void setTimeout(()=>c("/"),3e3);const a=r();try{const{error:r}=await a.auth.verifyOtp({type:s,token_hash:e});if(r)return m(`인증 실패: ${r.message}`),l(!1),void setTimeout(()=>c("/"),3e3);c("recovery"===s?"/auth/reset-password":t)}catch(i){m(`오류가 발생했습니다: ${i instanceof Error?i.message:"알 수 없는 오류"}`),l(!1),setTimeout(()=>c("/"),3e3)}})()},[n,c]),i?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 border-2 border-hansl-600 border-t-transparent rounded-full animate-spin mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"인증 처리 중..."})]})}):d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"⚠️"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"인증 실패"}),a.jsx("p",{className:"text-gray-600 mb-6",children:d}),a.jsx("p",{className:"text-sm text-gray-500",children:"잠시 후 메인 페이지로 이동합니다..."})]})})}):null}export{n as default};
//# sourceMappingURL=AuthConfirm-D-fuhcdt.js.map
