{"version":3,"mappings":"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","names":["vendorService","constructor","this","supabase","createClient","getVendors","filters","query","from","select","order","search","or","data","error","success","logger","Error","message","getVendor","id","eq","single","createVendor","vendorData","existingVendorByName","vendor_name","insert","updateVendor","neq","update","deleteVendor","purchaseRequests","limit","length","delete","getVendorContacts","vendorId","getVendorsForExport","map","vendor","vendor_phone","vendor_fax","vendor_payment_schedule","vendor_address","note","created_at","Date","toLocaleDateString","VendorFilters","onFiltersChange","onExport","onCreateNew","localSearch","setLocalSearch","useState","hasFilters","is_active","jsxs","className","children","jsx","style","marginTop","marginBottom","Button","variant","onClick","Download","Plus","onSubmit","e","preventDefault","trim","Search","Input","type","placeholder","value","onChange","target","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","X","VendorTable","vendors","onEdit","onView","onRefresh","loadingId","setLoadingId","sortedData","sortConfig","handleSort","useTableSort","handleDelete","async","confirm","result","toast","Fragment","Table","TableHeader","TableRow","TableHead","SortableHeader","sortKey","currentSortKey","key","sortDirection","direction","onSort","TableBody","TableCell","colSpan","vendor_contacts","slice","contact","idx","contact_name","contact_phone","contact_email","title","formatDate","DropdownMenu","DropdownMenuTrigger","asChild","disabled","MoreHorizontal","DropdownMenuContent","align","DropdownMenuItem","Eye","Edit","Trash2","size","handleToggleStatus","ToggleLeft","ToggleRight","MobileCard","MobileCardHeader","MobileCardItem","label","MobileCardActions","VendorModal","isOpen","onClose","onSave","mode","isSubmitting","setIsSubmitting","form","useForm","defaultValues","useEffect","reset","isReadOnly","Dialog","open","onOpenChange","DialogContent","DialogHeader","DialogTitle","getTitle","Form","handleSubmit","FormField","control","name","rules","required","render","field","FormItem","FormLabel","FormControl","FormMessage","Textarea","DialogFooter","VendorMain","setVendors","filteredVendors","setFilteredVendors","loading","setLoading","setFilters","isModalOpen","setIsModalOpen","selectedVendor","setSelectedVendor","modalMode","setModalMode","loadVendors","XLSX","__vitePreload","import","__VITE_PRELOAD__","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","filename","toISOString","writeFile"],"ignoreList":[],"sources":["../../src/services/vendorService.ts","../../src/components/vendor/VendorFilters.tsx","../../src/components/vendor/VendorTable.tsx","../../src/components/vendor/VendorModal.tsx","../../src/components/vendor/VendorMain.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/client\";\nimport { Vendor, VendorFormData, VendorFilters, VendorContact } from \"@/types/purchase\";\nimport { logger } from \"@/lib/logger\";\n\nclass VendorService {\n  private supabase;\n\n  constructor() {\n    this.supabase = createClient();\n  }\n\n  // 업체 목록 조회\n  async getVendors(filters?: VendorFilters): Promise<{ success: boolean; data?: Vendor[]; error?: string }> {\n    try {\n      let query = this.supabase\n        .from('vendors')\n        .select('*,vendor_contacts(*)')\n        .order('vendor_name');\n\n      // 검색 필터 적용\n      if (filters?.search) {\n        query = query.or(`\n          vendor_name.ilike.%${filters.search}%,\n          vendor_phone.ilike.%${filters.search}%,\n          vendor_fax.ilike.%${filters.search}%,\n          vendor_address.ilike.%${filters.search}%\n        `);\n      }\n\n      // 활성 상태 필터는 제거 (DB에 is_active 컄럼 없음)\n\n      const { data, error } = await query;\n\n      if (error) throw error;\n\n      return { success: true, data: data || [] };\n    } catch (error) {\n      logger.error('업체 목록 조회 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // 업체 상세 조회\n  async getVendor(id: number): Promise<{ success: boolean; data?: Vendor; error?: string }> {\n    try {\n      const { data, error } = await this.supabase\n        .from('vendors')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (error) throw error;\n\n      return { success: true, data };\n    } catch (error) {\n      logger.error('업체 조회 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // 업체 생성\n  async createVendor(vendorData: VendorFormData): Promise<{ success: boolean; data?: Vendor; error?: string }> {\n    try {\n      // 사업자번호 중복 체크 제거 (DB에 해당 컄럼 없음)\n\n      // 업체명 중복 체크\n      const { data: existingVendorByName } = await this.supabase\n        .from('vendors')\n        .select('id')\n        .eq('vendor_name', vendorData.vendor_name)\n        .single();\n\n      if (existingVendorByName) {\n        return { success: false, error: '이미 등록된 업체명입니다.' };\n      }\n\n      const { data, error } = await this.supabase\n        .from('vendors')\n        .insert(vendorData)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      return { success: true, data };\n    } catch (error) {\n      logger.error('업체 생성 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // 업체 수정\n  async updateVendor(id: number, vendorData: Partial<VendorFormData>): Promise<{ success: boolean; data?: Vendor; error?: string }> {\n    try {\n      // 사업자번호 중복 체크 제거 (DB에 해당 컄럼 없음)\n\n      // 업체명 중복 체크 (자신 제외)\n      if (vendorData.vendor_name) {\n        const { data: existingVendorByName } = await this.supabase\n          .from('vendors')\n          .select('id')\n          .eq('vendor_name', vendorData.vendor_name)\n          .neq('id', id)\n          .single();\n\n        if (existingVendorByName) {\n          return { success: false, error: '이미 등록된 업체명입니다.' };\n        }\n      }\n\n      const { data, error } = await this.supabase\n        .from('vendors')\n        .update(vendorData)\n        .eq('id', id)\n        .select()\n        .single();\n\n      if (error) throw error;\n\n      return { success: true, data };\n    } catch (error) {\n      logger.error('업체 수정 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // 업체 삭제\n  async deleteVendor(id: number): Promise<{ success: boolean; error?: string }> {\n    try {\n      // 발주 요청과 연결된 업체인지 확인\n      const { data: purchaseRequests } = await this.supabase\n        .from('purchase_requests')\n        .select('id')\n        .eq('vendor_id', id)\n        .limit(1);\n\n      if (purchaseRequests && purchaseRequests.length > 0) {\n        // 발주 요청과 연결된 업체는 삭제 불가\n        return { \n          success: false, \n          error: '발주 요청과 연결된 업체는 삭제할 수 없습니다.' \n        };\n      } else {\n        // 연결된 데이터가 없으면 완전 삭제\n        const { error } = await this.supabase\n          .from('vendors')\n          .delete()\n          .eq('id', id);\n\n        if (error) throw error;\n\n        return { success: true };\n      }\n    } catch (error) {\n      logger.error('업체 삭제 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // 업체 활성화/비활성화 토글 - is_active 컄럼이 없어서 제거\n  // 필요 시 나중에 DB에 is_active 컄럼 추가 필요\n\n  // 업체 연락처 조회\n  async getVendorContacts(vendorId: number): Promise<{ success: boolean; data?: VendorContact[]; error?: string }> {\n    try {\n      const { data, error } = await this.supabase\n        .from('vendor_contacts')\n        .select('*')\n        .eq('vendor_id', vendorId)\n        .order('contact_name');\n\n      if (error) throw error;\n\n      return { success: true, data: data || [] };\n    } catch (error) {\n      logger.error('업체 연락처 조회 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n\n  // Excel 내보내기용 데이터 준비\n  async getVendorsForExport(): Promise<{ success: boolean; data?: Array<Record<string, string>>; error?: string }> {\n    try {\n      const { data, error } = await this.supabase\n        .from('vendors')\n        .select('*')\n        .order('vendor_name');\n\n      if (error) throw error;\n\n      // Excel 형식에 맞게 데이터 변환\n      const exportData = (data || []).map((vendor: any) => ({\n        '업체명': vendor.vendor_name,\n        '전화번호': vendor.vendor_phone || '',\n        '팩스번호': vendor.vendor_fax || '',\n        '결제조건': vendor.vendor_payment_schedule || '',\n        '주소': vendor.vendor_address || '',\n        '비고': vendor.note || '',\n        '등록일': vendor.created_at ? new Date(vendor.created_at).toLocaleDateString('ko-KR') : ''\n      }));\n\n      return { success: true, data: exportData };\n    } catch (error) {\n      logger.error('업체 Excel 내보내기 실패', error);\n      return { \n        success: false, \n        error: error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다.' \n      };\n    }\n  }\n}\n\nexport const vendorService = new VendorService();","\nimport { useState } from 'react'\nimport { VendorFilters as VendorFiltersType } from '@/types/purchase'\nimport { Button } from '@/components/ui/button'\nimport { Input } from '@/components/ui/input'\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select'\nimport { Search, X, Download, Plus } from 'lucide-react'\n\ninterface VendorFiltersProps {\n  filters: VendorFiltersType\n  onFiltersChange: (filters: VendorFiltersType) => void\n  onExport: () => void\n  onCreateNew: () => void\n}\n\nexport default function VendorFilters({ \n  filters, \n  onFiltersChange, \n  onExport,\n  onCreateNew \n}: VendorFiltersProps) {\n  const [localSearch, setLocalSearch] = useState(filters.search || '')\n\n  const handleSearchSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    onFiltersChange({\n      ...filters,\n      search: localSearch.trim() || undefined\n    })\n  }\n\n  const handleStatusChange = (value: string) => {\n    onFiltersChange({\n      ...filters,\n      is_active: value === 'all' ? undefined : value === 'active'\n    })\n  }\n\n  const clearFilters = () => {\n    setLocalSearch('')\n    onFiltersChange({})\n  }\n\n  const hasFilters = filters.search || filters.is_active !== undefined\n\n  return (\n    <div className=\"space-y-4\">\n      {/* 상단 액션 버튼 */}\n      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4\">\n        <div>\n          <h2 className=\"page-title\">업체 관리</h2>\n          <p className=\"page-subtitle\" style={{marginTop:'-2px',marginBottom:'-4px'}}>Vendors Management</p>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={onExport}\n            className=\"flex items-center gap-1 sm:gap-2 badge-text\"\n          >\n            <Download className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n            <span className=\"hidden sm:inline badge-text\">Excel 내보내기</span>\n            <span className=\"sm:hidden badge-text\">Excel</span>\n          </Button>\n          <Button \n            onClick={onCreateNew}\n            className=\"flex items-center gap-1 sm:gap-2 badge-text\"\n          >\n            <Plus className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n            <span className=\"badge-text\">업체 등록</span>\n          </Button>\n        </div>\n      </div>\n\n      {/* 필터 섹션 */}\n      <div className=\"bg-white p-3 sm:p-4 rounded-lg border space-y-4\">\n        <form onSubmit={handleSearchSubmit} className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-end\">\n          {/* 검색 */}\n          <div className=\"flex-1\">\n            <label className=\"block modal-label mb-1\">\n              검색\n            </label>\n            <div className=\"relative\">\n              <Search className=\"absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-3 h-3 sm:w-4 sm:h-4\" />\n              <Input\n                type=\"text\"\n                placeholder=\"업체명, 사업자번호, 연락처 검색\"\n                value={localSearch}\n                onChange={(e) => setLocalSearch(e.target.value)}\n                className=\"pl-8 sm:pl-10 modal-value h-9\"\n              />\n            </div>\n          </div>\n\n          {/* 상태 필터 */}\n          <div className=\"w-full sm:w-auto sm:min-w-[120px]\">\n            <label className=\"block modal-label mb-1\">\n              상태\n            </label>\n            <Select\n              value={\n                filters.is_active === undefined \n                  ? 'all' \n                  : filters.is_active \n                    ? 'active' \n                    : 'inactive'\n              }\n              onValueChange={handleStatusChange}\n            >\n              <SelectTrigger className=\"h-9\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">전체</SelectItem>\n                <SelectItem value=\"active\">활성</SelectItem>\n                <SelectItem value=\"inactive\">비활성</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* 검색 및 초기화 버튼 */}\n          <div className=\"flex gap-2 w-full sm:w-auto\">\n            <Button type=\"submit\" className=\"flex-1 sm:flex-none h-9 badge-text\">\n              <span className=\"badge-text\">검색</span>\n            </Button>\n            {hasFilters && (\n              <Button \n                type=\"button\" \n                variant=\"outline\" \n                onClick={clearFilters}\n                className=\"flex items-center gap-1 h-9 badge-text\"\n              >\n                <X className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n                <span className=\"hidden sm:inline badge-text\">초기화</span>\n                <span className=\"sm:hidden badge-text\">초기</span>\n              </Button>\n            )}\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}","\nimport { useState } from 'react'\nimport { Vendor } from '@/types/purchase'\nimport { formatDate } from '@/utils/helpers'\nimport { Button } from '@/components/ui/button'\nimport { \n  Table, \n  TableBody, \n  TableCell, \n  TableHead, \n  TableHeader, \n  TableRow \n} from '@/components/ui/table'\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu'\nimport { \n  MoreHorizontal, \n  Edit, \n  Trash2, \n  Eye, \n  ToggleLeft, \n  ToggleRight \n} from 'lucide-react'\nimport { vendorService } from '@/services/vendorService'\nimport { toast } from 'sonner'\nimport { useTableSort } from '@/hooks/useTableSort'\nimport { SortableHeader } from '@/components/ui/sortable-header'\nimport { MobileCard, MobileCardItem, MobileCardHeader, MobileCardActions } from '@/components/ui/mobile-card'\n\ninterface VendorTableProps {\n  vendors: Vendor[]\n  onEdit: (vendor: Vendor) => void\n  onView: (vendor: Vendor) => void\n  onRefresh: () => void\n}\n\nexport default function VendorTable({ vendors, onEdit, onView, onRefresh }: VendorTableProps) {\n  const [loadingId, setLoadingId] = useState<number | null>(null)\n  const { sortedData, sortConfig, handleSort } = useTableSort(vendors, 'vendor_name', 'asc')\n\n  // is_active 컄럼이 없어서 토글 기능 제거\n\n  const handleDelete = async (vendor: Vendor) => {\n    if (!confirm(`정말로 '${vendor.vendor_name}' 업체를 삭제하시겠습니까?`)) {\n      return\n    }\n\n    setLoadingId(vendor.id)\n    try {\n      const result = await vendorService.deleteVendor(vendor.id)\n      \n      if (result.success) {\n        toast.success('업체가 삭제되었습니다.')\n        onRefresh()\n      } else {\n        toast.error(result.error || '삭제에 실패했습니다.')\n      }\n    } catch (error) {\n      toast.error('삭제 중 오류가 발생했습니다.')\n    } finally {\n      setLoadingId(null)\n    }\n  }\n\n  // formatDate는 utils/helpers.ts에서 import\n\n  return (\n    <>\n      {/* Desktop Table View */}\n      <div className=\"hidden lg:block border rounded-lg overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead className=\"w-24 min-w-[80px] lg:w-32\">\n              <SortableHeader\n                sortKey=\"vendor_name\"\n                currentSortKey={sortConfig.key as string | null}\n                sortDirection={sortConfig.direction}\n                onSort={() => handleSort('vendor_name' as keyof Vendor)}\n              >\n                업체명\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"w-16 min-w-[50px] text-center\">담당자</TableHead>\n            <TableHead className=\"min-w-[200px]\">담당자 정보</TableHead>\n            <TableHead className=\"w-28 min-w-[110px]\">전화번호</TableHead>\n            <TableHead className=\"w-28 min-w-[110px]\">팩스번호</TableHead>\n            <TableHead className=\"w-24 min-w-[100px]\">지출예정일</TableHead>\n            <TableHead className=\"w-20 min-w-[60px]\">\n              <SortableHeader\n                sortKey=\"created_at\"\n                currentSortKey={sortConfig.key as string | null}\n                sortDirection={sortConfig.direction}\n                onSort={() => handleSort('created_at' as keyof Vendor)}\n              >\n                등록일\n              </SortableHeader>\n            </TableHead>\n            <TableHead className=\"w-14 min-w-[45px] text-center\">작업</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {vendors.length === 0 ? (\n            <TableRow>\n              <TableCell colSpan={8} className=\"text-center py-8 text-gray-500\">\n                등록된 업체가 없습니다.\n              </TableCell>\n            </TableRow>\n          ) : (\n            sortedData.map((vendor) => (\n              <TableRow key={vendor.id}>\n                <TableCell className=\"modal-value px-2 py-1.5\">\n                  {vendor.vendor_name}\n                </TableCell>\n                <TableCell className=\"text-center text-[11px] px-1 py-1.5\">\n                  <span className=\"badge-stats border border-gray-300 bg-white text-gray-600 text-[10px] px-1 py-0\">\n                    {vendor.vendor_contacts?.length || 0}명\n                  </span>\n                </TableCell>\n                <TableCell className=\"px-2 py-1.5\">\n                  <div className=\"space-y-0.5\">\n                    {vendor.vendor_contacts && vendor.vendor_contacts.length > 0 ? (\n                      vendor.vendor_contacts.slice(0, 2).map((contact: any, idx: number) => (\n                        <div key={idx} className=\"text-[10px]\">\n                          <span className=\"modal-value\">{contact.contact_name}</span>\n                          <span className=\"text-gray-500 ml-1\">{contact.contact_phone}</span>\n                          {contact.contact_email && (\n                            <span className=\"text-gray-500 ml-1 truncate inline-block max-w-[180px]\">{contact.contact_email}</span>\n                          )}\n                        </div>\n                      ))\n                    ) : (\n                      <span className=\"text-gray-400 text-[10px]\">담당자 없음</span>\n                    )}\n                    {vendor.vendor_contacts && vendor.vendor_contacts.length > 2 && (\n                      <span className=\"text-[10px] text-gray-500\">외 {vendor.vendor_contacts.length - 2}명</span>\n                    )}\n                  </div>\n                </TableCell>\n                <TableCell className=\"text-[11px] px-2 py-1.5\">\n                  <span className=\"block truncate\" title={vendor.vendor_phone || ''}>\n                    {vendor.vendor_phone || '-'}\n                  </span>\n                </TableCell>\n                <TableCell className=\"text-[11px] px-2 py-1.5\">\n                  <span className=\"block truncate\" title={vendor.vendor_fax || ''}>\n                    {vendor.vendor_fax || '-'}\n                  </span>\n                </TableCell>\n                <TableCell className=\"text-[11px] px-2 py-1.5\">\n                  <span className=\"block truncate\" title={vendor.vendor_payment_schedule || ''}>\n                    {vendor.vendor_payment_schedule || '-'}\n                  </span>\n                </TableCell>\n                <TableCell className=\"text-[11px] px-2 py-1.5\">{formatDate(vendor.created_at)}</TableCell>\n                <TableCell className=\"px-1 py-1.5 text-center\">\n                  <DropdownMenu>\n                    <DropdownMenuTrigger asChild>\n                      <Button\n                        variant=\"ghost\"\n                        className=\"h-7 w-7 p-0\"\n                        disabled={loadingId === vendor.id}\n                      >\n                        <MoreHorizontal className=\"h-3 w-3\" />\n                      </Button>\n                    </DropdownMenuTrigger>\n                    <DropdownMenuContent align=\"end\">\n                      <DropdownMenuItem onClick={() => onView(vendor)}>\n                        <Eye className=\"mr-2 h-4 w-4\" />\n                        상세 보기\n                      </DropdownMenuItem>\n                      <DropdownMenuItem onClick={() => onEdit(vendor)}>\n                        <Edit className=\"mr-2 h-4 w-4\" />\n                        수정\n                      </DropdownMenuItem>\n                      <DropdownMenuItem \n                        onClick={() => handleDelete(vendor)}\n                        className=\"text-red-600\"\n                      >\n                        <Trash2 className=\"mr-2 h-4 w-4\" />\n                        삭제\n                      </DropdownMenuItem>\n                    </DropdownMenuContent>\n                  </DropdownMenu>\n                </TableCell>\n              </TableRow>\n            ))\n          )}\n        </TableBody>\n          </Table>\n        </div>\n      </div>\n\n      {/* Tablet View */}\n      <div className=\"hidden md:block lg:hidden\">\n        <div className=\"overflow-x-auto border rounded-lg\">\n          <table className=\"w-full min-w-[900px]\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"text-left p-3 header-title text-gray-900\">업체명</th>\n                <th className=\"text-center p-3 header-title text-gray-900 w-20\">담당자</th>\n                <th className=\"text-left p-3 header-title text-gray-900\">연락처</th>\n                <th className=\"text-left p-3 header-title text-gray-900 w-28\">전화번호</th>\n                <th className=\"text-left p-3 header-title text-gray-900 w-28\">팩스번호</th>\n                <th className=\"text-left p-3 header-title text-gray-900 w-24\">지출예정일</th>\n                <th className=\"text-left p-3 header-title text-gray-900 w-24\">등록일</th>\n                <th className=\"text-center p-3 header-title text-gray-900 w-16\">작업</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {sortedData.length === 0 ? (\n                <tr>\n                  <td colSpan={8} className=\"text-center py-8 text-gray-500\">\n                    등록된 업체가 없습니다.\n                  </td>\n                </tr>\n              ) : (\n                sortedData.map((vendor) => (\n                  <tr key={vendor.id} className=\"hover:bg-gray-50\">\n                    <td className=\"p-3 modal-value\">{vendor.vendor_name}</td>\n                    <td className=\"p-3 text-center\">\n                      <span className=\"badge-stats border border-gray-300 bg-white text-gray-600 badge-text\">\n                        {vendor.vendor_contacts?.length || 0}명\n                      </span>\n                    </td>\n                    <td className=\"p-3 modal-subtitle\">\n                      {vendor.vendor_contacts && vendor.vendor_contacts.length > 0 ? (\n                        <div>\n                          <div className=\"modal-value\">{vendor.vendor_contacts[0].contact_name}</div>\n                          <div className=\"text-gray-500 badge-text\">{vendor.vendor_contacts[0].contact_phone}</div>\n                        </div>\n                      ) : (\n                        <span className=\"text-gray-400\">담당자 없음</span>\n                      )}\n                    </td>\n                    <td className=\"p-3 modal-subtitle\">\n                      <span className=\"block truncate\" title={vendor.vendor_phone || ''}>\n                        {vendor.vendor_phone || '-'}\n                      </span>\n                    </td>\n                    <td className=\"p-3 modal-subtitle\">\n                      <span className=\"block truncate\" title={vendor.vendor_fax || ''}>\n                        {vendor.vendor_fax || '-'}\n                      </span>\n                    </td>\n                    <td className=\"p-3 modal-subtitle\">\n                      <span className=\"block truncate\" title={vendor.vendor_payment_schedule || ''}>\n                        {vendor.vendor_payment_schedule || '-'}\n                      </span>\n                    </td>\n                    <td className=\"p-3 modal-subtitle\">{formatDate(vendor.created_at)}</td>\n                    <td className=\"p-3 text-center\">\n                      <DropdownMenu>\n                        <DropdownMenuTrigger asChild>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                            <MoreHorizontal className=\"h-4 w-4\" />\n                          </Button>\n                        </DropdownMenuTrigger>\n                        <DropdownMenuContent align=\"end\">\n                          <DropdownMenuItem onClick={() => onView(vendor)}>\n                            <Eye className=\"mr-2 h-4 w-4\" />\n                            상세 보기\n                          </DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => onEdit(vendor)}>\n                            <Edit className=\"mr-2 h-4 w-4\" />\n                            수정\n                          </DropdownMenuItem>\n                          <DropdownMenuItem onClick={() => handleToggleStatus(vendor)}>\n                            {vendor.is_active ? (\n                              <>\n                                <ToggleLeft className=\"mr-2 h-4 w-4\" />\n                                비활성화\n                              </>\n                            ) : (\n                              <>\n                                <ToggleRight className=\"mr-2 h-4 w-4\" />\n                                활성화\n                              </>\n                            )}\n                          </DropdownMenuItem>\n                          <DropdownMenuItem \n                            onClick={() => handleDelete(vendor)}\n                            className=\"text-red-600\"\n                          >\n                            <Trash2 className=\"mr-2 h-4 w-4\" />\n                            삭제\n                          </DropdownMenuItem>\n                        </DropdownMenuContent>\n                      </DropdownMenu>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Mobile Card View */}\n      <div className=\"block md:hidden space-y-3\">\n        {sortedData.length === 0 ? (\n          <div className=\"text-center py-8 text-gray-500\">\n            등록된 업체가 없습니다.\n          </div>\n        ) : (\n          sortedData.map((vendor) => (\n            <MobileCard key={vendor.id}>\n              <MobileCardHeader>\n                <div className=\"flex justify-between items-center\">\n                  <span>{vendor.vendor_name}</span>\n                  <span className=\"badge-stats border border-gray-300 bg-white text-gray-600\">\n                    {vendor.vendor_contacts?.length || 0}명\n                  </span>\n                </div>\n              </MobileCardHeader>\n              \n              <MobileCardItem \n                label=\"담당자\" \n                value={\n                  <div className=\"space-y-1\">\n                    {vendor.vendor_contacts && vendor.vendor_contacts.length > 0 ? (\n                      vendor.vendor_contacts.slice(0, 2).map((contact: any, idx: number) => (\n                        <div key={idx} className=\"modal-subtitle\">\n                          <div className=\"modal-value\">{contact.contact_name}</div>\n                          <div className=\"text-gray-500 badge-text\">{contact.contact_phone}</div>\n                          {contact.contact_email && (\n                            <div className=\"text-gray-500 badge-text\">{contact.contact_email}</div>\n                          )}\n                        </div>\n                      ))\n                    ) : (\n                      <span className=\"text-gray-400\">담당자 없음</span>\n                    )}\n                    {vendor.vendor_contacts && vendor.vendor_contacts.length > 2 && (\n                      <span className=\"modal-subtitle text-gray-500\">외 {vendor.vendor_contacts.length - 2}명</span>\n                    )}\n                  </div>\n                } \n              />\n              <MobileCardItem label=\"전화번호\" value={vendor.vendor_phone || '-'} />\n              <MobileCardItem label=\"팩스번호\" value={vendor.vendor_fax || '-'} />\n              <MobileCardItem label=\"지출예정일\" value={vendor.vendor_payment_schedule || '-'} />\n              <MobileCardItem label=\"등록일\" value={formatDate(vendor.created_at)} />\n              \n              <MobileCardActions>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => onView(vendor)}\n                >\n                  <Eye className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => onEdit(vendor)}\n                >\n                  <Edit className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"text-red-600\"\n                  onClick={() => handleDelete(vendor)}\n                  disabled={loadingId === vendor.id}\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n              </MobileCardActions>\n            </MobileCard>\n          ))\n        )}\n      </div>\n    </>\n  )\n}","\nimport { useState, useEffect } from 'react'\nimport { Vendor, VendorFormData } from '@/types/purchase'\nimport { Button } from '@/components/ui/button'\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog'\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form'\nimport { Input } from '@/components/ui/input'\nimport { Textarea } from '@/components/ui/textarea'\nimport { useForm } from 'react-hook-form'\nimport { vendorService } from '@/services/vendorService'\nimport { toast } from 'sonner'\n\ninterface VendorModalProps {\n  isOpen: boolean\n  onClose: () => void\n  vendor?: Vendor | null\n  onSave: () => void\n  mode: 'create' | 'edit' | 'view'\n}\n\nexport default function VendorModal({ isOpen, onClose, vendor, onSave, mode }: VendorModalProps) {\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const form = useForm<VendorFormData>({\n    defaultValues: {\n      vendor_name: '',\n      vendor_phone: '',\n      vendor_fax: '',\n      vendor_payment_schedule: '',\n      vendor_address: '',\n      note: ''\n    }\n  })\n\n  useEffect(() => {\n    if (vendor && isOpen) {\n      form.reset({\n        vendor_name: vendor.vendor_name || '',\n        vendor_phone: vendor.vendor_phone || '',\n        vendor_fax: vendor.vendor_fax || '',\n        vendor_payment_schedule: vendor.vendor_payment_schedule || '',\n        vendor_address: vendor.vendor_address || '',\n        note: vendor.note || ''\n      })\n    } else if (!vendor && isOpen) {\n      form.reset({\n        vendor_name: '',\n        vendor_phone: '',\n        vendor_fax: '',\n        vendor_payment_schedule: '',\n        vendor_address: '',\n        note: ''\n      })\n    }\n  }, [vendor, isOpen, form])\n\n  const onSubmit = async (data: VendorFormData) => {\n    setIsSubmitting(true)\n    \n    try {\n      let result\n      \n      if (mode === 'create') {\n        result = await vendorService.createVendor(data)\n      } else if (mode === 'edit' && vendor) {\n        result = await vendorService.updateVendor(vendor.id, data)\n      }\n\n      if (result?.success) {\n        toast.success(mode === 'create' ? '업체가 등록되었습니다.' : '업체 정보가 수정되었습니다.')\n        onSave()\n        onClose()\n      } else {\n        toast.error(result?.error || '처리 중 오류가 발생했습니다.')\n      }\n    } catch (error) {\n      toast.error('처리 중 오류가 발생했습니다.')\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const getTitle = () => {\n    switch (mode) {\n      case 'create': return '업체 등록'\n      case 'edit': return '업체 수정'\n      case 'view': return '업체 상세'\n      default: return '업체'\n    }\n  }\n\n  const isReadOnly = mode === 'view'\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"w-full max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>{getTitle()}</DialogTitle>\n        </DialogHeader>\n        \n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <FormField\n                control={form.control}\n                name=\"vendor_name\"\n                rules={{\n                  required: '업체명을 입력해주세요.'\n                }}\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>업체명 *</FormLabel>\n                    <FormControl>\n                      <Input \n                        {...field} \n                        placeholder=\"업체명을 입력하세요\"\n                        disabled={isReadOnly}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"vendor_phone\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>전화번호</FormLabel>\n                    <FormControl>\n                      <Input \n                        {...field} \n                        placeholder=\"02-1234-5678\"\n                        disabled={isReadOnly}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"vendor_fax\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>팩스번호</FormLabel>\n                    <FormControl>\n                      <Input \n                        {...field} \n                        placeholder=\"02-1234-5679\"\n                        disabled={isReadOnly}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"vendor_payment_schedule\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel>결제조건</FormLabel>\n                    <FormControl>\n                      <Input \n                        {...field} \n                        placeholder=\"월말결제, 현금결제 등\"\n                        disabled={isReadOnly}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n            </div>\n\n            <FormField\n              control={form.control}\n              name=\"vendor_address\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>주소</FormLabel>\n                  <FormControl>\n                    <Textarea \n                      {...field} \n                      placeholder=\"주소를 입력하세요\"\n                      className=\"min-h-[80px]\"\n                      disabled={isReadOnly}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"note\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>비고</FormLabel>\n                  <FormControl>\n                    <Textarea \n                      {...field} \n                      placeholder=\"메모 사항을 입력하세요\"\n                      className=\"min-h-[60px]\"\n                      disabled={isReadOnly}\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            {mode === 'view' && vendor && (\n              <div className=\"pt-4 border-t\">\n                <div className=\"grid grid-cols-2 gap-4 modal-subtitle\">\n                  <div>\n                    <span className=\"text-gray-500\">상태:</span>\n                    <span className={`ml-2 px-2 py-1 business-radius-badge badge-text bg-green-100 text-green-800`}>\n                      활성\n                    </span>\n                  </div>\n                  <div>\n                    <span className=\"text-gray-500\">등록일:</span>\n                    <span className=\"ml-2\">\n                      {vendor.created_at ? new Date(vendor.created_at).toLocaleDateString('ko-KR') : '-'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            <DialogFooter className=\"gap-2\">\n              <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n                {mode === 'view' ? '닫기' : '취소'}\n              </Button>\n              {!isReadOnly && (\n                <Button type=\"submit\" disabled={isSubmitting}>\n                  {isSubmitting \n                    ? (mode === 'create' ? '등록 중...' : '수정 중...')\n                    : (mode === 'create' ? '등록' : '수정')\n                  }\n                </Button>\n              )}\n            </DialogFooter>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  )\n}","\nimport { useState, useEffect } from 'react'\nimport { Vendor, VendorFilters as VendorFiltersType } from '@/types/purchase'\nimport { vendorService } from '@/services/vendorService'\nimport VendorFilters from '@/components/vendor/VendorFilters'\nimport VendorTable from '@/components/vendor/VendorTable'\nimport VendorModal from '@/components/vendor/VendorModal'\nimport { toast } from 'sonner'\n// XLSX는 사용할 때만 동적으로 import (성능 최적화)\n\ntype ModalMode = 'create' | 'edit' | 'view'\n\nexport default function VendorMain() {\n  const [vendors, setVendors] = useState<Vendor[]>([])\n  const [filteredVendors, setFilteredVendors] = useState<Vendor[]>([])\n  const [loading, setLoading] = useState(true)\n  const [filters, setFilters] = useState<VendorFiltersType>({})\n  \n  // 모달 상태\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const [selectedVendor, setSelectedVendor] = useState<Vendor | null>(null)\n  const [modalMode, setModalMode] = useState<ModalMode>('create')\n\n  // 업체 목록 로드\n  const loadVendors = async () => {\n    setLoading(true)\n    try {\n      const result = await vendorService.getVendors(filters)\n      \n      if (result.success && result.data) {\n        setVendors(result.data)\n        setFilteredVendors(result.data)\n      } else {\n        toast.error(result.error || '업체 목록을 불러오는데 실패했습니다.')\n      }\n    } catch (error) {\n      toast.error('업체 목록을 불러오는 중 오류가 발생했습니다.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // 필터 변경 시 업체 목록 로드 (초기 로드 포함)\n  useEffect(() => {\n    loadVendors()\n  }, [filters])\n\n  // 모달 핸들러\n  const handleCreateNew = () => {\n    setSelectedVendor(null)\n    setModalMode('create')\n    setIsModalOpen(true)\n  }\n\n  const handleEdit = (vendor: Vendor) => {\n    setSelectedVendor(vendor)\n    setModalMode('edit')\n    setIsModalOpen(true)\n  }\n\n  const handleView = (vendor: Vendor) => {\n    setSelectedVendor(vendor)\n    setModalMode('view')\n    setIsModalOpen(true)\n  }\n\n  const handleModalClose = () => {\n    setIsModalOpen(false)\n    setSelectedVendor(null)\n  }\n\n  const handleSave = () => {\n    loadVendors()\n  }\n\n  // Excel 내보내기 (동적 import로 성능 최적화)\n  const handleExport = async () => {\n    try {\n      const result = await vendorService.getVendorsForExport()\n      \n      if (result.success && result.data) {\n        // XLSX를 사용할 때만 동적으로 import\n        const XLSX = await import('xlsx')\n        \n        const ws = XLSX.utils.json_to_sheet(result.data)\n        const wb = XLSX.utils.book_new()\n        XLSX.utils.book_append_sheet(wb, ws, '업체 목록')\n        \n        // 파일명에 현재 날짜 추가\n        const today = new Date().toISOString().slice(0, 10)\n        const filename = `업체_목록_${today}.xlsx`\n        \n        XLSX.writeFile(wb, filename)\n        toast.success('Excel 파일이 다운로드되었습니다.')\n      } else {\n        toast.error(result.error || 'Excel 내보내기에 실패했습니다.')\n      }\n    } catch (error) {\n      toast.error('Excel 내보내기 중 오류가 발생했습니다.')\n    }\n  }\n\n  if (loading && vendors.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\"></div>\n          <p className=\"mt-2 card-subtitle\">업체 목록을 불러오는 중...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div className=\"space-y-6\">\n      {/* 필터 섹션 */}\n      <VendorFilters\n        filters={filters}\n        onFiltersChange={setFilters}\n        onExport={handleExport}\n        onCreateNew={handleCreateNew}\n      />\n\n      {/* 테이블 섹션 */}\n      <div className=\"bg-white rounded-lg border\">\n        <div className=\"p-4 border-b\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center gap-3\">\n              <h3 className=\"modal-title\">업체 목록</h3>\n              <span className=\"badge-base bg-blue-50 text-blue-600\">\n                총 {filteredVendors.length}개\n              </span>\n            </div>\n            <div className=\"card-description\">\n              {loading && '업데이트 중...'}\n            </div>\n          </div>\n        </div>\n        \n        <VendorTable\n          vendors={filteredVendors}\n          onEdit={handleEdit}\n          onView={handleView}\n          onRefresh={loadVendors}\n        />\n      </div>\n\n      {/* 모달 */}\n      <VendorModal\n        isOpen={isModalOpen}\n        onClose={handleModalClose}\n        vendor={selectedVendor}\n        onSave={handleSave}\n        mode={modalMode}\n      />\n      </div>\n    </>\n  )\n}"],"file":"assets/VendorMain-6ec9Xrwe.js"}