import{c as Ke,q as y,r as x,j as i,k as F,m as et,b as V,s as mt,t as mn,v as hn,g as pn,n as gn,f as ht,P as pt,h as Me,A as gt,w as yt,x as yn,D as vn,C as xn,y as _n,a as tt,F as bn,B as wn,U as kn,X as Nn}from"./index-GROro3Qf.js";import{t as L,B as he}from"./index-gG2dsBXi.js";import{k as Dn,l as Mn,m as Cn,n as On,u as jn,F as Sn,I as oe,D as Wn,a as En,b as Pn,c as Tn}from"./input-rcvvte7h.js";import{t as $,c as ne,n as Ce,s as Ue,g as Fn,d as An,f as vt,a as In,b as qn,i as Bn,e as Yn,h as Rn,j as zn,k as xt,l as Hn,C as Ae,P as $n}from"./format-CBsgHRAV.js";import{d as Zn,T as nt}from"./card-yWopardK.js";import{C as Un}from"./calendar-D6S15rfs.js";import{P as Gn}from"./plus-DvIduO0i.js";import{S as Kn}from"./save-zDs8PfaS.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],st=Ke("circle-x",Ln);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rt=Ke("package",Vn);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ot=Ke("truck",Xn);function _t(e,t,n){const s=$(e,n?.in);return isNaN(t)?ne(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function bt(e,t,n){const s=$(e,n?.in);if(isNaN(t))return ne(e,NaN);if(!t)return s;const r=s.getDate(),o=ne(e,s.getTime());o.setMonth(s.getMonth()+t+1,0);const c=o.getDate();return r>=c?o:(s.setFullYear(o.getFullYear(),o.getMonth(),r),s)}function Jn(e,t,n){return _t(e,t*7,n)}function Qn(e,t,n){return bt(e,t*12,n)}function es(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=$(r,s);(!n||n<o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function ts(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=$(r,s);(!n||n>o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function ns(e,t,n){const[s,r]=Ce(n?.in,e,t);return+Ue(s)==+Ue(r)}function ss(e,t,n){const[s,r]=Ce(n?.in,e,t),o=s.getFullYear()-r.getFullYear(),c=s.getMonth()-r.getMonth();return o*12+c}function rs(e,t){const n=$(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function os(e,t){const[n,s]=Ce(e,t.start,t.end);return{start:n,end:s}}function as(e,t){const{start:n,end:s}=os(t?.in,e);let r=+n>+s;const o=r?+n:+s,c=r?s:n;c.setHours(0,0,0,0),c.setDate(1);let a=1;const d=[];for(;+c<=o;)d.push(ne(n,c)),c.setMonth(c.getMonth()+a);return r?d.reverse():d}function is(e,t){const n=$(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function cs(e,t){const n=$(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function wt(e,t){const n=Fn(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=$(e,t?.in),o=r.getDay(),c=(o<s?-7:0)+6-(o-s);return r.setDate(r.getDate()+c),r.setHours(23,59,59,999),r}function ls(e,t){return wt(e,{...t,weekStartsOn:1})}function ds(e,t){const n=$(e,t?.in),s=n.getFullYear(),r=n.getMonth(),o=ne(n,0);return o.setFullYear(s,r+1,0),o.setHours(0,0,0,0),o.getDate()}function us(e,t){return $(e,t?.in).getMonth()}function fs(e,t){return $(e,t?.in).getFullYear()}function ms(e,t){return+$(e)>+$(t)}function hs(e,t){return+$(e)<+$(t)}function ps(e,t,n){const[s,r]=Ce(n?.in,e,t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function gs(e,t,n){const[s,r]=Ce(n?.in,e,t);return s.getFullYear()===r.getFullYear()}function ys(e,t,n){const s=$(e,n?.in),r=s.getFullYear(),o=s.getDate(),c=ne(e,0);c.setFullYear(r,t,15),c.setHours(0,0,0,0);const a=ds(c);return s.setMonth(t,Math.min(o,a)),s}function vs(e,t,n){const s=$(e,n?.in);return isNaN(+s)?ne(e,NaN):(s.setFullYear(t),s)}function xs(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const _s={},De={};function ve(e,t){try{const s=(_s[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return s in De?De[s]:at(s,s.split(":"))}catch{if(e in De)return De[e];const n=e?.match(bs);return n?at(e,n.slice(1)):NaN}}const bs=/([+-]\d\d):?(\d\d)?/;function at(e,t){const n=+(t[0]||0),s=+(t[1]||0),r=+(t[2]||0)/60;return De[e]=n*60+s>0?n*60+s+r:n*60-s-r}class ie extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ve(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),kt(this),Ge(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ie(...n,t):new ie(Date.now(),t)}withTimeZone(t){return new ie(+this,t)}getTimezoneOffset(){const t=-ve(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ge(this),+this}[Symbol.for("constructDateFrom")](t){return new ie(+new Date(t),this.timeZone)}}const it=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!it.test(e))return;const t=e.replace(it,"$1UTC");ie.prototype[t]&&(e.startsWith("get")?ie.prototype[e]=function(){return this.internal[t]()}:(ie.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),ws(this),+this},ie.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ge(this),+this}))});function Ge(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ve(e.timeZone,e)*60))}function ws(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),kt(e)}function kt(e){const t=ve(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),o=-new Date(+s).getTimezoneOffset(),c=r-o,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const d=r-n;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const l=r>0?f.getSeconds():(f.getSeconds()-60)%60,m=Math.round(-(ve(e.timeZone,e)*60))%60;(m||l)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+l));const u=ve(e.timeZone,e),w=u>0?Math.floor(u):Math.ceil(u),C=-new Date(+e).getTimezoneOffset()-w,k=w!==n,j=C-d;if(k&&j){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j);const P=ve(e.timeZone,e),D=P>0?Math.floor(P):Math.ceil(P),I=w-D;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class U extends ie{static tz(t,...n){return n.length?new U(...n,t):new U(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${xs(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new U(+this,t)}[Symbol.for("constructDateFrom")](t){return new U(+new Date(t),this.timeZone)}}const ct=5,ks=4;function Ns(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),o=t.addDays(r,ct*7-1);return t.getMonth(e)===t.getMonth(o)?ct:ks}function Nt(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-6):t.addDays(n,-1*(s-1))}function Ds(e,t){const n=Nt(e,t),s=Ns(e,t);return t.addDays(n,s*7-1)}class me{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?U.tz(this.options.timeZone):new this.Date,this.newDate=(s,r,o)=>this.overrides?.newDate?this.overrides.newDate(s,r,o):this.options.timeZone?new U(s,r,o,this.options.timeZone):new Date(s,r,o),this.addDays=(s,r)=>this.overrides?.addDays?this.overrides.addDays(s,r):_t(s,r),this.addMonths=(s,r)=>this.overrides?.addMonths?this.overrides.addMonths(s,r):bt(s,r),this.addWeeks=(s,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,r):Jn(s,r),this.addYears=(s,r)=>this.overrides?.addYears?this.overrides.addYears(s,r):Qn(s,r),this.differenceInCalendarDays=(s,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):An(s,r),this.differenceInCalendarMonths=(s,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):ss(s,r),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):as(s),this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Ds(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):ls(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):rs(s),this.endOfWeek=(s,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,r):wt(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):cs(s),this.format=(s,r,o)=>{const c=this.overrides?.format?this.overrides.format(s,r,this.options):vt(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):In(s),this.getMonth=(s,r)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):us(s,this.options),this.getYear=(s,r)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):fs(s,this.options),this.getWeek=(s,r)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):qn(s,this.options),this.isAfter=(s,r)=>this.overrides?.isAfter?this.overrides.isAfter(s,r):ms(s,r),this.isBefore=(s,r)=>this.overrides?.isBefore?this.overrides.isBefore(s,r):hs(s,r),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Bn(s),this.isSameDay=(s,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,r):ns(s,r),this.isSameMonth=(s,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,r):ps(s,r),this.isSameYear=(s,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,r):gs(s,r),this.max=s=>this.overrides?.max?this.overrides.max(s):es(s),this.min=s=>this.overrides?.min?this.overrides.min(s):ts(s),this.setMonth=(s,r)=>this.overrides?.setMonth?this.overrides.setMonth(s,r):ys(s,r),this.setYear=(s,r)=>this.overrides?.setYear?this.overrides.setYear(s,r):vs(s,r),this.startOfBroadcastWeek=(s,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):Nt(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Ue(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):Yn(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):is(s),this.startOfWeek=(s,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):Rn(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):zn(s),this.options={locale:xt,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}}const ce=new me;class Dt{constructor(t,n,s=ce){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ms{constructor(t,n){this.date=t,this.weeks=n}}class Cs{constructor(t,n){this.days=n,this.weekNumber=t}}function Os(e){return y.createElement("button",{...e})}function js(e){return y.createElement("span",{...e})}function Ss(e){const{size:t=24,orientation:n="left",className:s}=e;return y.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&y.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&y.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&y.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&y.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ws(e){const{day:t,modifiers:n,...s}=e;return y.createElement("td",{...s})}function Es(e){const{day:t,modifiers:n,...s}=e,r=y.useRef(null);return y.useEffect(()=>{n.focused&&r.current?.focus()},[n.focused]),y.createElement("button",{ref:r,...s})}var _;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(_||(_={}));var Y;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Y||(Y={}));var te;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(te||(te={}));var J;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(J||(J={}));function Ps(e){const{options:t,className:n,components:s,classNames:r,...o}=e,c=[r[_.Dropdown],n].join(" "),a=t?.find(({value:d})=>d===o.value);return y.createElement("span",{"data-disabled":o.disabled,className:r[_.DropdownRoot]},y.createElement(s.Select,{className:c,...o},t?.map(({value:d,label:f,disabled:l})=>y.createElement(s.Option,{key:d,value:d,disabled:l},f))),y.createElement("span",{className:r[_.CaptionLabel],"aria-hidden":!0},a?.label,y.createElement(s.Chevron,{orientation:"down",size:18,className:r[_.Chevron]})))}function Ts(e){return y.createElement("div",{...e})}function Fs(e){return y.createElement("div",{...e})}function As(e){const{calendarMonth:t,displayIndex:n,...s}=e;return y.createElement("div",{...s},e.children)}function Is(e){const{calendarMonth:t,displayIndex:n,...s}=e;return y.createElement("div",{...s})}function qs(e){return y.createElement("table",{...e})}function Bs(e){return y.createElement("div",{...e})}const Mt=x.createContext(void 0);function Oe(){const e=x.useContext(Mt);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Ys(e){const{components:t}=Oe();return y.createElement(t.Dropdown,{...e})}function Rs(e){const{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r,...o}=e,{components:c,classNames:a,labels:{labelPrevious:d,labelNext:f}}=Oe(),l=x.useCallback(u=>{r&&n?.(u)},[r,n]),m=x.useCallback(u=>{s&&t?.(u)},[s,t]);return y.createElement("nav",{...o},y.createElement(c.PreviousMonthButton,{type:"button",className:a[_.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:m},y.createElement(c.Chevron,{disabled:s?void 0:!0,className:a[_.Chevron],orientation:"left"})),y.createElement(c.NextMonthButton,{type:"button",className:a[_.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:l},y.createElement(c.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[_.Chevron]})))}function zs(e){const{components:t}=Oe();return y.createElement(t.Button,{...e})}function Hs(e){return y.createElement("option",{...e})}function $s(e){const{components:t}=Oe();return y.createElement(t.Button,{...e})}function Zs(e){const{rootRef:t,...n}=e;return y.createElement("div",{...n,ref:t})}function Us(e){return y.createElement("select",{...e})}function Gs(e){const{week:t,...n}=e;return y.createElement("tr",{...n})}function Ks(e){return y.createElement("th",{...e})}function Ls(e){return y.createElement("thead",{"aria-hidden":!0},y.createElement("tr",{...e}))}function Vs(e){const{week:t,...n}=e;return y.createElement("th",{...n})}function Xs(e){return y.createElement("th",{...e})}function Js(e){return y.createElement("tbody",{...e})}function Qs(e){const{components:t}=Oe();return y.createElement(t.Dropdown,{...e})}const er=Object.freeze(Object.defineProperty({__proto__:null,Button:Os,CaptionLabel:js,Chevron:Ss,Day:Ws,DayButton:Es,Dropdown:Ps,DropdownNav:Ts,Footer:Fs,Month:As,MonthCaption:Is,MonthGrid:qs,Months:Bs,MonthsDropdown:Ys,Nav:Rs,NextMonthButton:zs,Option:Hs,PreviousMonthButton:$s,Root:Zs,Select:Us,Week:Gs,WeekNumber:Vs,WeekNumberHeader:Xs,Weekday:Ks,Weekdays:Ls,Weeks:Js,YearsDropdown:Qs},Symbol.toStringTag,{value:"Module"}));function ue(e,t,n=!1,s=ce){let{from:r,to:o}=e;const{differenceInCalendarDays:c,isSameDay:a}=s;return r&&o?(c(o,r)<0&&([r,o]=[o,r]),c(t,r)>=(n?1:0)&&c(o,t)>=(n?1:0)):!n&&o?a(o,t):!n&&r?a(r,t):!1}function Ct(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Le(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ot(e){return!!(e&&typeof e=="object"&&"after"in e)}function jt(e){return!!(e&&typeof e=="object"&&"before"in e)}function St(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Wt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function fe(e,t,n=ce){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:o,isAfter:c}=n;return s.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(e,a);if(Wt(a,n))return a.includes(e);if(Le(a))return ue(a,e,!1,n);if(St(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(Ct(a)){const d=o(a.before,e),f=o(a.after,e),l=d>0,m=f<0;return c(a.before,a.after)?m&&l:l||m}return Ot(a)?o(e,a.after)>0:jt(a)?o(a.before,e)>0:typeof a=="function"?a(e):!1})}function tr(e,t,n,s,r){const{disabled:o,hidden:c,modifiers:a,showOutsideDays:d,broadcastCalendar:f,today:l}=t,{isSameDay:m,isSameMonth:u,startOfMonth:w,isBefore:v,endOfMonth:C,isAfter:k}=r,j=n&&w(n),P=s&&C(s),D={[Y.focused]:[],[Y.outside]:[],[Y.disabled]:[],[Y.hidden]:[],[Y.today]:[]},I={};for(const b of e){const{date:N,displayMonth:O}=b,M=!!(O&&!u(N,O)),T=!!(j&&v(N,j)),z=!!(P&&k(N,P)),H=!!(o&&fe(N,o,r)),Z=!!(c&&fe(N,c,r))||T||z||!f&&!d&&M||f&&d===!1&&M,le=m(N,l??r.today());M&&D.outside.push(b),H&&D.disabled.push(b),Z&&D.hidden.push(b),le&&D.today.push(b),a&&Object.keys(a).forEach(de=>{const G=a?.[de];G&&fe(N,G,r)&&(I[de]?I[de].push(b):I[de]=[b])})}return b=>{const N={[Y.focused]:!1,[Y.disabled]:!1,[Y.hidden]:!1,[Y.outside]:!1,[Y.today]:!1},O={};for(const M in D){const T=D[M];N[M]=T.some(z=>z===b)}for(const M in I)O[M]=I[M].some(T=>T===b);return{...N,...O}}}function nr(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[o])=>(n[o]?r.push(n[o]):t[Y[o]]?r.push(t[Y[o]]):t[te[o]]&&r.push(t[te[o]]),r),[t[_.Day]])}function sr(e){return{...er,...e}}function rr(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,s])=>{n.startsWith("data-")&&(t[n]=s)}),t}function Ve(){const e={};for(const t in _)e[_[t]]=`rdp-${_[t]}`;for(const t in Y)e[Y[t]]=`rdp-${Y[t]}`;for(const t in te)e[te[t]]=`rdp-${te[t]}`;for(const t in J)e[J[t]]=`rdp-${J[t]}`;return e}function Et(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const or=Et;function ar(e,t,n){return(n??new me(t)).format(e,"d")}function ir(e,t=ce){return t.format(e,"LLLL")}function cr(e,t,n){return(n??new me(t)).format(e,"cccccc")}function lr(e,t=ce){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function dr(){return""}function Pt(e,t=ce){return t.format(e,"yyyy")}const ur=Pt,fr=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Et,formatDay:ar,formatMonthCaption:or,formatMonthDropdown:ir,formatWeekNumber:lr,formatWeekNumberHeader:dr,formatWeekdayName:cr,formatYearCaption:ur,formatYearDropdown:Pt},Symbol.toStringTag,{value:"Module"}));function mr(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...fr,...e}}function hr(e,t,n,s,r){const{startOfMonth:o,startOfYear:c,endOfYear:a,eachMonthOfInterval:d,getMonth:f}=r;return d({start:c(e),end:a(e)}).map(u=>{const w=s.formatMonthDropdown(u,r),v=f(u),C=t&&u<o(t)||n&&u>o(n)||!1;return{value:v,label:w,disabled:C}})}function pr(e,t={},n={}){let s={...t?.[_.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n?.[r]}}),s}function gr(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),o=[];for(let c=0;c<7;c++){const a=e.addDays(r,c);o.push(a)}return o}function yr(e,t,n,s,r=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:c,addYears:a,getYear:d,isBefore:f,isSameYear:l}=s,m=o(e),u=c(t),w=[];let v=m;for(;f(v,u)||l(v,u);)w.push(v),v=a(v,1);return r&&w.reverse(),w.map(C=>{const k=n.formatYearDropdown(C,s);return{value:d(C),label:k,disabled:!1}})}function Tt(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const vr=Tt;function Ft(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const xr=Ft;function _r(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function br(e){return"Choose the Month"}function wr(){return""}function kr(e){return"Go to the Next Month"}function Nr(e){return"Go to the Previous Month"}function Dr(e,t,n){return(n??new me(t)).format(e,"cccc")}function Mr(e,t){return`Week ${e}`}function Cr(e){return"Week Number"}function Or(e){return"Choose the Year"}const jr=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:xr,labelDay:vr,labelDayButton:Tt,labelGrid:Ft,labelGridcell:_r,labelMonthDropdown:br,labelNav:wr,labelNext:kr,labelPrevious:Nr,labelWeekNumber:Mr,labelWeekNumberHeader:Cr,labelWeekday:Dr,labelYearDropdown:Or},Symbol.toStringTag,{value:"Module"})),je=e=>e instanceof HTMLElement?e:null,He=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Sr=e=>je(e.querySelector("[data-animated-month]")),$e=e=>je(e.querySelector("[data-animated-caption]")),Ze=e=>je(e.querySelector("[data-animated-weeks]")),Wr=e=>je(e.querySelector("[data-animated-nav]")),Er=e=>je(e.querySelector("[data-animated-weekdays]"));function Pr(e,t,{classNames:n,months:s,focused:r,dateLib:o}){const c=x.useRef(null),a=x.useRef(s),d=x.useRef(!1);x.useLayoutEffect(()=>{const f=a.current;if(a.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const l=o.isSameMonth(s[0].date,f[0].date),m=o.isAfter(s[0].date,f[0].date),u=m?n[J.caption_after_enter]:n[J.caption_before_enter],w=m?n[J.weeks_after_enter]:n[J.weeks_before_enter],v=c.current,C=e.current.cloneNode(!0);if(C instanceof HTMLElement?(He(C).forEach(D=>{if(!(D instanceof HTMLElement))return;const I=Sr(D);I&&D.contains(I)&&D.removeChild(I);const b=$e(D);b&&b.classList.remove(u);const N=Ze(D);N&&N.classList.remove(w)}),c.current=C):c.current=null,d.current||l||r)return;const k=v instanceof HTMLElement?He(v):[],j=He(e.current);if(j?.every(P=>P instanceof HTMLElement)&&k&&k.every(P=>P instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const P=Wr(e.current);P&&(P.style.zIndex="1"),j.forEach((D,I)=>{const b=k[I];if(!b)return;D.style.position="relative",D.style.overflow="hidden";const N=$e(D);N&&N.classList.add(u);const O=Ze(D);O&&O.classList.add(w);const M=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),P&&(P.style.zIndex=""),N&&N.classList.remove(u),O&&O.classList.remove(w),D.style.position="",D.style.overflow="",D.contains(b)&&D.removeChild(b)};b.style.pointerEvents="none",b.style.position="absolute",b.style.overflow="hidden",b.setAttribute("aria-hidden","true");const T=Er(b);T&&(T.style.opacity="0");const z=$e(b);z&&(z.classList.add(m?n[J.caption_before_exit]:n[J.caption_after_exit]),z.addEventListener("animationend",M));const H=Ze(b);H&&H.classList.add(m?n[J.weeks_before_exit]:n[J.weeks_after_exit]),D.insertBefore(b,D.firstChild)})}})}function Tr(e,t,n,s){const r=e[0],o=e[e.length-1],{ISOWeek:c,fixedWeeks:a,broadcastCalendar:d}=n??{},{addDays:f,differenceInCalendarDays:l,differenceInCalendarMonths:m,endOfBroadcastWeek:u,endOfISOWeek:w,endOfMonth:v,endOfWeek:C,isAfter:k,startOfBroadcastWeek:j,startOfISOWeek:P,startOfWeek:D}=s,I=d?j(r,s):c?P(r):D(r),b=d?u(o):c?w(v(o)):C(v(o)),N=l(b,I),O=m(o,r)+1,M=[];for(let H=0;H<=N;H++){const Z=f(I,H);if(t&&k(Z,t))break;M.push(Z)}const z=(d?35:42)*O;if(a&&M.length<z){const H=z-M.length;for(let Z=0;Z<H;Z++){const le=f(M[M.length-1],1);M.push(le)}}return M}function Fr(e){const t=[];return e.reduce((n,s)=>{const r=s.weeks.reduce((o,c)=>o.concat(c.days.slice()),t.slice());return n.concat(r.slice())},t.slice())}function Ar(e,t,n,s){const{numberOfMonths:r=1}=n,o=[];for(let c=0;c<r;c++){const a=s.addMonths(e,c);if(t&&a>t)break;o.push(a)}return o}function lt(e,t,n,s){const{month:r,defaultMonth:o,today:c=s.today(),numberOfMonths:a=1}=e;let d=r||o||c;const{differenceInCalendarMonths:f,addMonths:l,startOfMonth:m}=s;if(n&&f(n,d)<a-1){const u=-1*(a-1);d=l(n,u)}return t&&f(d,t)<0&&(d=t),m(d)}function Ir(e,t,n,s){const{addDays:r,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:a,endOfWeek:d,getISOWeek:f,getWeek:l,startOfBroadcastWeek:m,startOfISOWeek:u,startOfWeek:w}=s,v=e.reduce((C,k)=>{const j=n.broadcastCalendar?m(k,s):n.ISOWeek?u(k):w(k),P=n.broadcastCalendar?o(k):n.ISOWeek?c(a(k)):d(a(k)),D=t.filter(O=>O>=j&&O<=P),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&D.length<I){const O=t.filter(M=>{const T=I-D.length;return M>P&&M<=r(P,T)});D.push(...O)}const b=D.reduce((O,M)=>{const T=n.ISOWeek?f(M):l(M),z=O.find(Z=>Z.weekNumber===T),H=new Dt(M,k,s);return z?z.days.push(H):O.push(new Cs(T,[H])),O},[]),N=new Ms(k,b);return C.push(N),C},[]);return n.reverseMonths?v.reverse():v}function qr(e,t){let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:o,startOfMonth:c,endOfMonth:a,addYears:d,endOfYear:f,newDate:l,today:m}=t,{fromYear:u,toYear:w,fromMonth:v,toMonth:C}=e;!n&&v&&(n=v),!n&&u&&(n=t.newDate(u,0,1)),!s&&C&&(s=C),!s&&w&&(s=l(w,11,31));const k=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):u?n=l(u,0,1):!n&&k&&(n=r(d(e.today??m(),-100))),s?s=a(s):w?s=l(w,11,31):!s&&k&&(s=f(e.today??m())),[n&&o(n),s&&o(s)]}function Br(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o:1,l=c(e);if(!t)return a(l,f);if(!(d(t,e)<o))return a(l,f)}function Yr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o}=n,{startOfMonth:c,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o??1:1,l=c(e);if(!t)return a(l,-f);if(!(d(l,t)<=0))return a(l,-f)}function Rr(e){const t=[];return e.reduce((n,s)=>n.concat(s.weeks.slice()),t.slice())}function Ie(e,t){const[n,s]=x.useState(e);return[t===void 0?n:t,s]}function zr(e,t){const[n,s]=qr(e,t),{startOfMonth:r,endOfMonth:o}=t,c=lt(e,n,s,t),[a,d]=Ie(c,e.month?c:void 0);x.useEffect(()=>{const N=lt(e,n,s,t);d(N)},[e.timeZone]);const f=Ar(a,s,e,t),l=Tr(f,e.endMonth?o(e.endMonth):void 0,e,t),m=Ir(f,l,e,t),u=Rr(m),w=Fr(m),v=Yr(a,n,e,t),C=Br(a,s,e,t),{disableNavigation:k,onMonthChange:j}=e,P=N=>u.some(O=>O.days.some(M=>M.isEqualTo(N))),D=N=>{if(k)return;let O=r(N);n&&O<r(n)&&(O=r(n)),s&&O>r(s)&&(O=r(s)),d(O),j?.(O)};return{months:m,weeks:u,days:w,navStart:n,navEnd:s,previousMonth:v,nextMonth:C,goToMonth:D,goToDay:N=>{P(N)||D(N.date)}}}var ae;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ae||(ae={}));function dt(e){return!e[Y.disabled]&&!e[Y.hidden]&&!e[Y.outside]}function Hr(e,t,n,s){let r,o=-1;for(const c of e){const a=t(c);dt(a)&&(a[Y.focused]&&o<ae.FocusedModifier?(r=c,o=ae.FocusedModifier):s?.isEqualTo(c)&&o<ae.LastFocused?(r=c,o=ae.LastFocused):n(c.date)&&o<ae.Selected?(r=c,o=ae.Selected):a[Y.today]&&o<ae.Today&&(r=c,o=ae.Today))}return r||(r=e.find(c=>dt(t(c)))),r}function $r(e,t,n,s,r,o,c){const{ISOWeek:a,broadcastCalendar:d}=o,{addDays:f,addMonths:l,addWeeks:m,addYears:u,endOfBroadcastWeek:w,endOfISOWeek:v,endOfWeek:C,max:k,min:j,startOfBroadcastWeek:P,startOfISOWeek:D,startOfWeek:I}=c;let N={day:f,week:m,month:l,year:u,startOfWeek:O=>d?P(O,c):a?D(O):I(O),endOfWeek:O=>d?w(O):a?v(O):C(O)}[e](n,t==="after"?1:-1);return t==="before"&&s?N=k([s,N]):t==="after"&&r&&(N=j([r,N])),N}function At(e,t,n,s,r,o,c,a=0){if(a>365)return;const d=$r(e,t,n.date,s,r,o,c),f=!!(o.disabled&&fe(d,o.disabled,c)),l=!!(o.hidden&&fe(d,o.hidden,c)),m=d,u=new Dt(d,m,c);return!f&&!l?u:At(e,t,u,s,r,o,c,a+1)}function Zr(e,t,n,s,r){const{autoFocus:o}=e,[c,a]=x.useState(),d=Hr(t.days,n,s||(()=>!1),c),[f,l]=x.useState(o?d:void 0);return{isFocusTarget:C=>!!d?.isEqualTo(C),setFocused:l,focused:f,blur:()=>{a(f),l(void 0)},moveFocus:(C,k)=>{if(!f)return;const j=At(C,k,f,t.navStart,t.navEnd,e,r);j&&(t.goToDay(j),l(j))}}}function Ur(e,t){const{selected:n,required:s,onSelect:r}=e,[o,c]=Ie(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t,f=w=>a?.some(v=>d(v,w))??!1,{min:l,max:m}=e;return{selected:a,select:(w,v,C)=>{let k=[...a??[]];if(f(w)){if(a?.length===l||s&&a?.length===1)return;k=a?.filter(j=>!d(j,w))}else a?.length===m?k=[w]:k=[...k,w];return r||c(k),r?.(k,w,v,C),k},isSelected:f}}function Gr(e,t,n=0,s=0,r=!1,o=ce){const{from:c,to:a}=t||{},{isSameDay:d,isAfter:f,isBefore:l}=o;let m;if(!c&&!a)m={from:e,to:n>0?void 0:e};else if(c&&!a)d(c,e)?n===0?m={from:c,to:e}:r?m={from:c,to:void 0}:m=void 0:l(e,c)?m={from:e,to:c}:m={from:c,to:e};else if(c&&a)if(d(c,e)&&d(a,e))r?m={from:c,to:a}:m=void 0;else if(d(c,e))m={from:c,to:n>0?void 0:e};else if(d(a,e))m={from:e,to:n>0?void 0:e};else if(l(e,c))m={from:e,to:a};else if(f(e,c))m={from:c,to:e};else if(f(e,a))m={from:c,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const u=o.differenceInCalendarDays(m.to,m.from);s>0&&u>s?m={from:e,to:void 0}:n>1&&u<n&&(m={from:e,to:void 0})}return m}function Kr(e,t,n=ce){const s=Array.isArray(t)?t:[t];let r=e.from;const o=n.differenceInCalendarDays(e.to,e.from),c=Math.min(o,6);for(let a=0;a<=c;a++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function ut(e,t,n=ce){return ue(e,t.from,!1,n)||ue(e,t.to,!1,n)||ue(t,e.from,!1,n)||ue(t,e.to,!1,n)}function Lr(e,t,n=ce){const s=Array.isArray(t)?t:[t];if(s.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?ue(e,a,!1,n):Wt(a,n)?a.some(d=>ue(e,d,!1,n)):Le(a)?a.from&&a.to?ut(e,{from:a.from,to:a.to},n):!1:St(a)?Kr(e,a.dayOfWeek,n):Ct(a)?n.isAfter(a.before,a.after)?ut(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):fe(e.from,a,n)||fe(e.to,a,n):Ot(a)||jt(a)?fe(e.from,a,n)||fe(e.to,a,n):!1))return!0;const c=s.filter(a=>typeof a=="function");if(c.length){let a=e.from;const d=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(c.some(l=>l(a)))return!0;a=n.addDays(a,1)}}return!1}function Vr(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:o,onSelect:c}=e,[a,d]=Ie(r,c?r:void 0),f=c?r:a;return{selected:f,select:(u,w,v)=>{const{min:C,max:k}=e,j=u?Gr(u,f,C,k,o,t):void 0;return s&&n&&j?.from&&j.to&&Lr({from:j.from,to:j.to},n,t)&&(j.from=u,j.to=void 0),c||d(j),c?.(j,u,w,v),j},isSelected:u=>f&&ue(f,u,!1,t)}}function Xr(e,t){const{selected:n,required:s,onSelect:r}=e,[o,c]=Ie(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t;return{selected:a,select:(m,u,w)=>{let v=m;return!s&&a&&a&&d(m,a)&&(v=void 0),r||c(v),r?.(v,m,u,w),v},isSelected:m=>a?d(a,m):!1}}function Jr(e,t){const n=Xr(e,t),s=Ur(e,t),r=Vr(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function Qr(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new U(t.today,t.timeZone)),t.month&&(t.month=new U(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new U(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new U(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new U(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new U(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(E=>new U(E,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new U(t.selected.from,t.timeZone):void 0,to:t.selected.to?new U(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:o,locale:c,classNames:a}=x.useMemo(()=>{const E={...xt,...t.locale};return{dateLib:new me({locale:E,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:sr(t.components),formatters:mr(t.formatters),labels:{...jr,...t.labels},locale:E,classNames:{...Ve(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:l,numberOfMonths:m=1,onDayBlur:u,onDayClick:w,onDayFocus:v,onDayKeyDown:C,onDayMouseEnter:k,onDayMouseLeave:j,onNextClick:P,onPrevClick:D,showWeekNumber:I,styles:b}=t,{formatCaption:N,formatDay:O,formatMonthDropdown:M,formatWeekNumber:T,formatWeekNumberHeader:z,formatWeekdayName:H,formatYearDropdown:Z}=s,le=zr(t,o),{days:de,months:G,navStart:ge,navEnd:xe,previousMonth:R,nextMonth:X,goToMonth:Q}=le,ye=tr(de,t,ge,xe,o),{isSelected:ke,select:se,selected:_e}=Jr(t,o)??{},{blur:We,focused:Ne,isFocusTarget:Ee,moveFocus:Pe,setFocused:be}=Zr(t,le,ye,ke??(()=>!1),o),{labelDayButton:Te,labelGridcell:Fe,labelGrid:h,labelMonthDropdown:g,labelNav:p,labelPrevious:S,labelNext:K,labelWeekday:re,labelWeekNumber:Gt,labelWeekNumberHeader:Kt,labelYearDropdown:Lt}=r,Vt=x.useMemo(()=>gr(o,t.ISOWeek),[o,t.ISOWeek]),Je=f!==void 0||w!==void 0,Be=x.useCallback(()=>{R&&(Q(R),D?.(R))},[R,Q,D]),Ye=x.useCallback(()=>{X&&(Q(X),P?.(X))},[Q,X,P]),Xt=x.useCallback((E,q)=>W=>{W.preventDefault(),W.stopPropagation(),be(E),se?.(E.date,q,W),w?.(E.date,q,W)},[se,w,be]),Jt=x.useCallback((E,q)=>W=>{be(E),v?.(E.date,q,W)},[v,be]),Qt=x.useCallback((E,q)=>W=>{We(),u?.(E.date,q,W)},[We,u]),en=x.useCallback((E,q)=>W=>{const B={ArrowLeft:[W.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[W.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[W.shiftKey?"year":"week","after"],ArrowUp:[W.shiftKey?"year":"week","before"],PageUp:[W.shiftKey?"year":"month","before"],PageDown:[W.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(B[W.key]){W.preventDefault(),W.stopPropagation();const[ee,A]=B[W.key];Pe(ee,A)}C?.(E.date,q,W)},[Pe,C,t.dir]),tn=x.useCallback((E,q)=>W=>{k?.(E.date,q,W)},[k]),nn=x.useCallback((E,q)=>W=>{j?.(E.date,q,W)},[j]),sn=x.useCallback(E=>q=>{const W=Number(q.target.value),B=o.setMonth(o.startOfMonth(E),W);Q(B)},[o,Q]),rn=x.useCallback(E=>q=>{const W=Number(q.target.value),B=o.setYear(o.startOfMonth(E),W);Q(B)},[o,Q]),{className:on,style:an}=x.useMemo(()=>({className:[a[_.Root],t.className].filter(Boolean).join(" "),style:{...b?.[_.Root],...t.style}}),[a,t.className,t.style,b]),cn=rr(t),Qe=x.useRef(null);Pr(Qe,!!t.animate,{classNames:a,months:G,focused:Ne,dateLib:o});const ln={dayPickerProps:t,selected:_e,select:se,isSelected:ke,months:G,nextMonth:X,previousMonth:R,goToMonth:Q,getModifiers:ye,components:n,classNames:a,styles:b,labels:r,formatters:s};return y.createElement(Mt.Provider,{value:ln},y.createElement(n.Root,{rootRef:t.animate?Qe:void 0,className:on,style:an,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...cn},y.createElement(n.Months,{className:a[_.Months],style:b?.[_.Months]},!t.hideNavigation&&!l&&y.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[_.Nav],style:b?.[_.Nav],"aria-label":p(),onPreviousClick:Be,onNextClick:Ye,previousMonth:R,nextMonth:X}),G.map((E,q)=>y.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[_.Month],style:b?.[_.Month],key:q,displayIndex:q,calendarMonth:E},l==="around"&&!t.hideNavigation&&q===0&&y.createElement(n.PreviousMonthButton,{type:"button",className:a[_.PreviousMonthButton],tabIndex:R?void 0:-1,"aria-disabled":R?void 0:!0,"aria-label":S(R),onClick:Be,"data-animated-button":t.animate?"true":void 0},y.createElement(n.Chevron,{disabled:R?void 0:!0,className:a[_.Chevron],orientation:t.dir==="rtl"?"right":"left"})),y.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[_.MonthCaption],style:b?.[_.MonthCaption],calendarMonth:E,displayIndex:q},d?.startsWith("dropdown")?y.createElement(n.DropdownNav,{className:a[_.Dropdowns],style:b?.[_.Dropdowns]},d==="dropdown"||d==="dropdown-months"?y.createElement(n.MonthsDropdown,{className:a[_.MonthsDropdown],"aria-label":g(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:sn(E.date),options:hr(E.date,ge,xe,s,o),style:b?.[_.Dropdown],value:o.getMonth(E.date)}):y.createElement("span",null,M(E.date,o)),d==="dropdown"||d==="dropdown-years"?y.createElement(n.YearsDropdown,{className:a[_.YearsDropdown],"aria-label":Lt(o.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:rn(E.date),options:yr(ge,xe,s,o,!!t.reverseYears),style:b?.[_.Dropdown],value:o.getYear(E.date)}):y.createElement("span",null,Z(E.date,o)),y.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(E.date,o.options,o))):y.createElement(n.CaptionLabel,{className:a[_.CaptionLabel],role:"status","aria-live":"polite"},N(E.date,o.options,o))),l==="around"&&!t.hideNavigation&&q===m-1&&y.createElement(n.NextMonthButton,{type:"button",className:a[_.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":K(X),onClick:Ye,"data-animated-button":t.animate?"true":void 0},y.createElement(n.Chevron,{disabled:X?void 0:!0,className:a[_.Chevron],orientation:t.dir==="rtl"?"left":"right"})),q===m-1&&l==="after"&&!t.hideNavigation&&y.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[_.Nav],style:b?.[_.Nav],"aria-label":p(),onPreviousClick:Be,onNextClick:Ye,previousMonth:R,nextMonth:X}),y.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":h(E.date,o.options,o)||void 0,className:a[_.MonthGrid],style:b?.[_.MonthGrid]},!t.hideWeekdays&&y.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[_.Weekdays],style:b?.[_.Weekdays]},I&&y.createElement(n.WeekNumberHeader,{"aria-label":Kt(o.options),className:a[_.WeekNumberHeader],style:b?.[_.WeekNumberHeader],scope:"col"},z()),Vt.map(W=>y.createElement(n.Weekday,{"aria-label":re(W,o.options,o),className:a[_.Weekday],key:String(W),style:b?.[_.Weekday],scope:"col"},H(W,o.options,o)))),y.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[_.Weeks],style:b?.[_.Weeks]},E.weeks.map(W=>y.createElement(n.Week,{className:a[_.Week],key:W.weekNumber,style:b?.[_.Week],week:W},I&&y.createElement(n.WeekNumber,{week:W,style:b?.[_.WeekNumber],"aria-label":Gt(W.weekNumber,{locale:c}),className:a[_.WeekNumber],scope:"row",role:"rowheader"},T(W.weekNumber,o)),W.days.map(B=>{const{date:ee}=B,A=ye(B);if(A[Y.focused]=!A.hidden&&!!Ne?.isEqualTo(B),A[te.selected]=ke?.(ee)||A.selected,Le(_e)){const{from:Re,to:ze}=_e;A[te.range_start]=!!(Re&&ze&&o.isSameDay(ee,Re)),A[te.range_end]=!!(Re&&ze&&o.isSameDay(ee,ze)),A[te.range_middle]=ue(_e,ee,!0,o)}const dn=pr(A,b,t.modifiersStyles),un=nr(A,a,t.modifiersClassNames),fn=!Je&&!A.hidden?Fe(ee,A,o.options,o):void 0;return y.createElement(n.Day,{key:`${o.format(ee,"yyyy-MM-dd")}_${o.format(B.displayMonth,"yyyy-MM")}`,day:B,modifiers:A,className:un.join(" "),style:dn,role:"gridcell","aria-selected":A.selected||void 0,"aria-label":fn,"data-day":o.format(ee,"yyyy-MM-dd"),"data-month":B.outside?o.format(ee,"yyyy-MM"):void 0,"data-selected":A.selected||void 0,"data-disabled":A.disabled||void 0,"data-hidden":A.hidden||void 0,"data-outside":B.outside||void 0,"data-focused":A.focused||void 0,"data-today":A.today||void 0},!A.hidden&&Je?y.createElement(n.DayButton,{className:a[_.DayButton],style:b?.[_.DayButton],type:"button",day:B,modifiers:A,disabled:A.disabled||void 0,tabIndex:Ee(B)?0:-1,"aria-label":Te(ee,A,o.options,o),onClick:Xt(B,A),onBlur:Qt(B,A),onFocus:Jt(B,A),onKeyDown:en(B,A),onMouseEnter:tn(B,A),onMouseLeave:nn(B,A)},O(ee,o.options,o)):!A.hidden&&O(B.date,o.options,o))})))))))),t.footer&&y.createElement(n.Footer,{className:a[_.Footer],style:b?.[_.Footer],role:"status","aria-live":"polite"},t.footer)))}function eo({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:s="label",buttonVariant:r="ghost",formatters:o,components:c,...a}){const d=Ve();return i.jsx(Qr,{showOutsideDays:n,className:F("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:{formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"}),...o},classNames:{root:F("w-fit",d.root),months:F("flex gap-4 flex-col md:flex-row relative",d.months),month:F("flex flex-col w-full gap-4",d.month),nav:F("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",d.nav),button_previous:F(et({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_previous),button_next:F(et({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_next),month_caption:F("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",d.month_caption),dropdowns:F("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",d.dropdowns),dropdown_root:F("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",d.dropdown_root),dropdown:F("absolute bg-popover inset-0 opacity-0",d.dropdown),caption_label:F("select-none font-medium",s==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:F("flex",d.weekdays),weekday:F("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",d.weekday),week:F("flex w-full mt-2",d.week),week_number_header:F("select-none w-(--cell-size)",d.week_number_header),week_number:F("text-[0.8rem] select-none text-muted-foreground",d.week_number),day:F("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",d.day),range_start:F("rounded-l-md bg-accent",d.range_start),range_middle:F("rounded-none",d.range_middle),range_end:F("rounded-r-md bg-accent",d.range_end),today:F("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:F("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:F("text-muted-foreground opacity-50",d.disabled),hidden:F("invisible",d.hidden),...t},components:{Root:({className:f,rootRef:l,...m})=>i.jsx("div",{"data-slot":"calendar",ref:l,className:F(f),...m}),Chevron:({className:f,orientation:l,...m})=>l==="left"?i.jsx(Hn,{className:F("size-4",f),...m}):l==="right"?i.jsx(Zn,{className:F("size-4",f),...m}):i.jsx(Dn,{className:F("size-4",f),...m}),DayButton:to,WeekNumber:({children:f,...l})=>i.jsx("td",{...l,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:f})}),...c},...a})}function to({className:e,day:t,modifiers:n,...s}){const r=Ve(),o=x.useRef(null);return x.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),i.jsx(V,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:F("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...s})}var qe="Popover",[It,Oo]=pn(qe,[mt]),Se=mt(),[no,pe]=It(qe),qt=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:r,onOpenChange:o,modal:c=!1}=e,a=Se(t),d=x.useRef(null),[f,l]=x.useState(!1),[m,u]=mn({prop:s,defaultProp:r??!1,onChange:o,caller:qe});return i.jsx(hn,{...a,children:i.jsx(no,{scope:t,contentId:gn(),triggerRef:d,open:m,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(w=>!w),[u]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>l(!0),[]),onCustomAnchorRemove:x.useCallback(()=>l(!1),[]),modal:c,children:n})})};qt.displayName=qe;var Bt="PopoverAnchor",so=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe(Bt,n),o=Se(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:a}=r;return x.useEffect(()=>(c(),()=>a()),[c,a]),i.jsx(gt,{...o,...s,ref:t})});so.displayName=Bt;var Yt="PopoverTrigger",Rt=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe(Yt,n),o=Se(n),c=ht(t,r.triggerRef),a=i.jsx(pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Ut(r.open),...s,ref:c,onClick:Me(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:i.jsx(gt,{asChild:!0,...o,children:a})});Rt.displayName=Yt;var Xe="PopoverPortal",[ro,oo]=It(Xe,{forceMount:void 0}),zt=e=>{const{__scopePopover:t,forceMount:n,children:s,container:r}=e,o=pe(Xe,t);return i.jsx(ro,{scope:t,forceMount:n,children:i.jsx(yt,{present:n||o.open,children:i.jsx(Mn,{asChild:!0,container:r,children:s})})})};zt.displayName=Xe;var we="PopoverContent",Ht=x.forwardRef((e,t)=>{const n=oo(we,e.__scopePopover),{forceMount:s=n.forceMount,...r}=e,o=pe(we,e.__scopePopover);return i.jsx(yt,{present:s||o.open,children:o.modal?i.jsx(io,{...r,ref:t}):i.jsx(co,{...r,ref:t})})});Ht.displayName=we;var ao=yn("PopoverContent.RemoveScroll"),io=x.forwardRef((e,t)=>{const n=pe(we,e.__scopePopover),s=x.useRef(null),r=ht(t,s),o=x.useRef(!1);return x.useEffect(()=>{const c=s.current;if(c)return Cn(c)},[]),i.jsx(On,{as:ao,allowPinchZoom:!0,children:i.jsx($t,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{c.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,c=>{const a=c.detail.originalEvent,d=a.button===0&&a.ctrlKey===!0,f=a.button===2||d;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),co=x.forwardRef((e,t)=>{const n=pe(we,e.__scopePopover),s=x.useRef(!1),r=x.useRef(!1);return i.jsx($t,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;n.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),$t=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:l,...m}=e,u=pe(we,n),w=Se(n);return jn(),i.jsx(Sn,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:i.jsx(vn,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:l,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>u.onOpenChange(!1),children:i.jsx(xn,{"data-state":Ut(u.open),role:"dialog",id:u.contentId,...w,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Zt="PopoverClose",lo=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe(Zt,n);return i.jsx(pt.button,{type:"button",...s,ref:t,onClick:Me(e.onClick,()=>r.onOpenChange(!1))})});lo.displayName=Zt;var uo="PopoverArrow",fo=x.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Se(n);return i.jsx(_n,{...r,...s,ref:t})});fo.displayName=uo;function Ut(e){return e?"open":"closed"}var mo=qt,ho=Rt,po=zt,go=Ht;function yo({...e}){return i.jsx(mo,{"data-slot":"popover",...e})}function vo({...e}){return i.jsx(ho,{"data-slot":"popover-trigger",...e})}function xo({className:e,align:t="center",sideOffset:n=4,...s}){return i.jsx(po,{children:i.jsx(go,{"data-slot":"popover-content",align:t,sideOffset:n,className:F("z-50 w-72","bg-white text-gray-800 rounded-professional","border border-gray-200 p-4","shadow-professional-lg outline-hidden","origin-(--radix-popover-content-transform-origin)","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})})}function ft({date:e,onDateChange:t,placeholder:n="날짜 선택",className:s,disabled:r=!1}){return i.jsxs(yo,{children:[i.jsx(vo,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:F("justify-start text-left font-normal",!e&&"text-muted-foreground",s),disabled:r,children:[i.jsx(Un,{className:"mr-2 h-4 w-4"}),e?vt(e,"yyyy-MM-dd"):i.jsx("span",{children:n})]})}),i.jsx(xo,{className:"w-auto p-0",children:i.jsx(eo,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}function jo({purchaseId:e,isOpen:t,onClose:n,embedded:s=!1,currentUserRoles:r=[],activeTab:o,onRefresh:c,onDelete:a}){const[d,f]=x.useState(!1),[l,m]=x.useState(null),[u,w]=x.useState(!1),[v,C]=x.useState(null),[k,j]=x.useState([]),[P,D]=x.useState([]),[I,b]=x.useState([]),[N,O]=x.useState(""),M=tt();x.useEffect(()=>{t&&(async()=>{try{const{data:{user:g}}=await M.auth.getUser();if(g){let{data:p}=await M.from("employees").select("*").eq("id",g.id).maybeSingle();if(!p&&g.email){const{data:S}=await M.from("employees").select("*").eq("email",g.email).maybeSingle();p=S}if(p?.name&&O(p.name),p?.purchase_role){let S=[];Array.isArray(p.purchase_role)?S=p.purchase_role.map(K=>String(K).trim()):S=String(p.purchase_role).split(",").map(re=>re.trim()).filter(re=>re.length>0),b(S)}}}catch{}})()},[t]);const T=Array.isArray(r)&&r.length>0?r:I,z=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo"),H=z,Z=T.includes("app_admin")||l?.requester_name===N,le=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo"),de=l?.requester_name===N,G=le||de;console.log("Receipt Check Debug:",{activeTab:o,canReceiptCheck:G,isAdmin:le,isRequester:de,currentUserName:N,requesterName:l?.requester_name,effectiveRoles:T});const ge=T.includes("middle_manager")||T.includes("app_admin")||T.includes("ceo"),xe=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo");console.log("=== PurchaseDetailModal Debug ==="),console.log("Current User Roles (prop):",r),console.log("User Roles (direct load):",I),console.log("Effective Roles:",T),console.log("Can Approve Middle:",ge),console.log("Can Approve Final:",xe),console.log("Is Editing:",u),console.log("Middle Manager Status:",l?.middle_manager_status),console.log("Final Manager Status:",l?.final_manager_status),console.log("================================"),x.useEffect(()=>{e&&t&&R(e.toString())},[e,t]);const R=async h=>{try{f(!0);const g=tt(),{data:p,error:S}=await g.from("purchase_requests").select(`
          *,
          vendors(id, vendor_name),
          purchase_request_items(*)
        `).eq("id",h).single();if(S)throw S;if(p){const K={...p,items:p.purchase_request_items||[],vendor:p.vendors||{id:0,vendor_name:"알 수 없음"},vendor_contacts:[]};m(K),C(K),j(K.items||[])}}catch{L.error("발주 상세 정보를 불러오는데 실패했습니다.")}finally{f(!1)}},X=()=>l?l.is_received?i.jsx(he,{className:"bg-green-100 text-green-800",children:"입고완료"}):l.middle_manager_status==="approved"&&l.final_manager_status==="approved"?i.jsx(he,{className:"bg-hansl-100 text-hansl-800",children:"구매진행"}):l.middle_manager_status==="rejected"||l.final_manager_status==="rejected"?i.jsx(he,{className:"bg-red-100 text-red-800",children:"반려"}):i.jsx(he,{className:"bg-yellow-100 text-yellow-800",children:"승인대기"}):null,Q=h=>h?new Date(h).toLocaleDateString("ko-KR"):"-",ye=h=>new Intl.NumberFormat("ko-KR").format(h),ke=async()=>{if(!(!l||!v))try{const h=k.reduce((p,S)=>p+(S.amount_value||0),0),{error:g}=await M.from("purchase_requests").update({purchase_order_number:v.purchase_order_number,requester_name:v.requester_name,vendor_name:v.vendor?.vendor_name||v.vendor_name,delivery_request_date:v.delivery_request_date,request_date:v.request_date,payment_category:v.payment_category,project_vendor:v.project_vendor,total_amount:h,updated_at:new Date().toISOString()}).eq("id",l.id);if(g)throw g;if(P.length>0){const{error:p}=await M.from("purchase_request_items").delete().in("id",P);if(p)throw p}for(const p of k)if(p.id){const{error:S}=await M.from("purchase_request_items").update({item_name:p.item_name,specification:p.specification,quantity:p.quantity,unit_price_value:p.unit_price_value,amount_value:p.amount_value,remark:p.remark,updated_at:new Date().toISOString()}).eq("id",p.id);if(S)throw S}else{const{error:S}=await M.from("purchase_request_items").insert({purchase_request_id:l.id,item_name:p.item_name,specification:p.specification,quantity:p.quantity,unit_price_value:p.unit_price_value,amount_value:p.amount_value,remark:p.remark,line_number:p.line_number||k.indexOf(p)+1,created_at:new Date().toISOString()});if(S)throw S}L.success("발주 내역이 수정되었습니다."),w(!1),D([]),c?.(),await R(e?.toString()||"")}catch{L.error("저장 중 오류가 발생했습니다.")}},se=(h,g,p)=>{const S=[...k];if(g==="amount_value")S[h]={...S[h],amount_value:p};else if(g==="quantity"||g==="unit_price_value"){const K=g==="quantity"?p:S[h].quantity,re=g==="unit_price_value"?p:S[h].unit_price_value;S[h]={...S[h],[g]:p,amount_value:K*re}}else S[h]={...S[h],[g]:p};j(S)},_e=()=>{const h={item_name:"",specification:"",quantity:1,unit_price_value:0,amount_value:0,remark:"",line_number:k.length+1};j([...k,h])},We=h=>{const g=k[h];g.id&&D([...P,g.id]);const p=k.filter((S,K)=>K!==h);j(p)},Ne=async(h,g)=>{if(!G){L.error("입고 처리 권한이 없습니다.");return}try{const{error:p}=await M.from("purchase_request_items").update({is_received:g,received_at:g?new Date().toISOString():null}).eq("id",h);if(p)throw p;L.success(g?"입고 처리되었습니다.":"입고가 취소되었습니다."),e&&await R(e.toString()),c?.()}catch{L.error("입고 처리 중 오류가 발생했습니다.")}},Ee=async h=>{if(l)try{const g=h==="middle"?{middle_manager_status:"approved"}:{final_manager_status:"approved"},{error:p}=await M.from("purchase_requests").update(g).eq("id",l.id);if(p)throw p;L.success(`${h==="middle"?"중간":"최종"} 승인이 완료되었습니다.`),c?.(),await R(e?.toString()||"")}catch{L.error("승인 처리 중 오류가 발생했습니다.")}},Pe=async()=>{if(!(!l||!Z||!window.confirm("모든 품목을 입고완료 처리하시겠습니까?")))try{const{data:{user:g}}=await M.auth.getUser();if(!g)throw new Error("사용자 인증이 필요합니다");const p={is_received:!0,delivery_status:"received",received_quantity:null,received_date:new Date().toISOString(),received_by:g.id,received_by_name:N},{error:S}=await M.from("purchase_request_items").update(p).eq("purchase_request_id",l.id).eq("is_received",!1);if(S)throw S;L.success("모든 품목이 입고완료 처리되었습니다."),c?.(),await R(e?.toString()||"")}catch(g){console.error("전체 입고완료 처리 오류:",g),L.error("입고완료 처리 중 오류가 발생했습니다.")}},be=async(h,g)=>{if(!(!l||!Z||!window.confirm(`"${g}" 품목을 입고완료 처리하시겠습니까?`)))try{const{data:{user:S}}=await M.auth.getUser();if(!S)throw new Error("사용자 인증이 필요합니다");const K={is_received:!0,delivery_status:"received",received_date:new Date().toISOString(),received_by:S.id,received_by_name:N},{error:re}=await M.from("purchase_request_items").update(K).eq("id",h);if(re)throw re;L.success(`"${g}" 품목이 입고완료 처리되었습니다.`),c?.(),await R(e?.toString()||"")}catch(S){console.error("개별 입고완료 처리 오류:",S),L.error("입고완료 처리 중 오류가 발생했습니다.")}},Te=async h=>{if(!(!l||!window.prompt("반려 사유를 입력해주세요:")))try{const p=h==="middle"?{middle_manager_status:"rejected"}:{final_manager_status:"rejected"},{error:S}=await M.from("purchase_requests").update(p).eq("id",l.id);if(S)throw S;L.success(`${h==="middle"?"중간":"최종"} 반려가 완료되었습니다.`),c?.(),await R(e?.toString()||"")}catch{L.error("반려 처리 중 오류가 발생했습니다.")}},Fe=i.jsx(i.Fragment,{children:d?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-hansl-600"})}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(bn,{className:"w-5 h-5 mr-2 text-gray-700"}),"기본 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청자"}),u?i.jsx(oe,{value:v?.requester_name||"",onChange:h=>C(g=>g?{...g,requester_name:h.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.requester_name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청일"}),u?i.jsx(ft,{date:v?.request_date?new Date(v.request_date):void 0,onDateChange:h=>C(g=>g?{...g,request_date:h?.toISOString().split("T")[0]||""}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:Q(l.request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"입고요청일"}),u?i.jsx(ft,{date:v?.delivery_request_date?new Date(v.delivery_request_date):void 0,onDateChange:h=>C(g=>g?{...g,delivery_request_date:h?.toISOString().split("T")[0]||""}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:Q(l.delivery_request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"결제유형"}),u?i.jsx(oe,{value:v?.payment_category||"",onChange:h=>C(g=>g?{...g,payment_category:h.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.payment_category||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(wn,{className:"w-5 h-5 mr-2 text-gray-700"}),"업체 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"업체명"}),u?i.jsx(oe,{value:v?.vendor?.vendor_name||v?.vendor_name||"",onChange:h=>C(g=>g?{...g,vendor_name:h.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.vendor?.vendor_name||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"프로젝트 업체"}),u?i.jsx(oe,{value:v?.project_vendor||"",onChange:h=>C(g=>g?{...g,project_vendor:h.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.project_vendor||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center text-gray-900",children:[i.jsx(rt,{className:"w-5 h-5 mr-2 text-gray-700"}),"품목 리스트"]}),!u&&Z&&l?.items?.some(h=>!h.is_received)&&i.jsxs(V,{size:"sm",onClick:Pe,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(ot,{className:"w-4 h-4 mr-1"}),"전체 입고완료"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden shadow-sm",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[G&&o==="receipt"&&i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"품명"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"규격"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"수량"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"단가"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"금액"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"비고"}),!u&&i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고상태"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(u?k:l.items)?.map((h,g)=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[G&&o==="receipt"&&i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("div",{className:"flex items-center justify-center",children:h.is_received?i.jsxs("button",{onClick:()=>Ne(h.id,!1),className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-md hover:bg-green-200 transition-colors",disabled:!G,children:[i.jsx(Ae,{className:"w-3 h-3"}),"입고완료"]}):i.jsxs("button",{onClick:()=>Ne(h.id,!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!G,children:[i.jsx(rt,{className:"w-3 h-3"}),"미입고"]})})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:h.item_name,onChange:p=>se(g,"item_name",p.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:h.item_name})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:h.specification,onChange:p=>se(g,"specification",p.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:h.specification})}),i.jsx("td",{className:"px-4 py-3 text-center",children:u?i.jsx(oe,{type:"number",value:h.quantity,onChange:p=>se(g,"quantity",Number(p.target.value)),className:"text-sm text-center w-20 mx-auto"}):i.jsx("span",{className:"text-sm",children:h.quantity})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:h.unit_price_value,onChange:p=>se(g,"unit_price_value",Number(p.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[ye(h.unit_price_value)," ",l.currency]})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:h.amount_value,onChange:p=>se(g,"amount_value",Number(p.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[ye(h.amount_value)," ",l.currency]})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oe,{value:h.remark||"",onChange:p=>se(g,"remark",p.target.value),className:"text-sm"}),i.jsx(V,{size:"sm",variant:"ghost",onClick:()=>We(g),className:"text-red-600 hover:bg-red-50",children:i.jsx(nt,{className:"w-4 h-4"})})]}):i.jsx("span",{className:"text-sm",children:h.remark||"-"})}),!u&&i.jsx("td",{className:"px-4 py-3 text-center",children:h.is_received?i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(he,{className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Ae,{className:"w-3 h-3 mr-1"}),"입고완료"]})}):Z?i.jsxs(V,{size:"sm",onClick:()=>be(h.id,h.item_name),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1",children:[i.jsx(ot,{className:"w-3 h-3 mr-1"}),"입고완료"]}):i.jsx(he,{className:"bg-gray-100 text-gray-600 border-gray-200",children:"입고대기"})})]},g))}),i.jsx("tfoot",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:(G&&o==="receipt"?1:0)+(u?4:5),className:"px-3 py-2 text-sm font-semibold text-right",children:"총액"}),i.jsxs("td",{className:"px-3 py-2 text-sm font-semibold text-right",children:[ye((u?k:l.items)?.reduce((h,g)=>h+(g.amount_value||0),0)||0)," ",l.currency]}),i.jsx("td",{}),!u&&i.jsx("td",{})]})})]})}),u&&i.jsxs(V,{size:"sm",variant:"outline",onClick:_e,className:"w-full mt-2",children:[i.jsx(Gn,{className:"w-4 h-4 mr-1"}),"항목 추가"]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[i.jsx(kn,{className:"w-4 h-4 mr-2"}),"승인 정보"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"중간승인"}),i.jsx(he,{variant:l.middle_manager_status==="approved"?"default":"secondary",className:l.middle_manager_status==="approved"?"bg-green-100 text-green-800":l.middle_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:l.middle_manager_status==="approved"?"승인":l.middle_manager_status==="rejected"?"반려":"대기"})]}),!u&&ge&&l.middle_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{size:"sm",onClick:()=>Ee("middle"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Ae,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Te("middle"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(st,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"최종승인"}),i.jsx(he,{variant:l.final_manager_status==="approved"?"default":"secondary",className:l.final_manager_status==="approved"?"bg-green-100 text-green-800":l.final_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:l.final_manager_status==="approved"?"승인":l.final_manager_status==="rejected"?"반려":"대기"})]}),!u&&xe&&l.middle_manager_status==="approved"&&l.final_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{size:"sm",onClick:()=>Ee("final"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Ae,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Te("final"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(st,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})})]})]})]}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"발주 정보를 불러올 수 없습니다."})});return s?Fe:i.jsx(Wn,{open:t,onOpenChange:n,children:i.jsxs(En,{className:"w-full max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Pn,{children:i.jsxs(Tn,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xl font-bold",children:u?"발주 내역 수정":"발주 상세 정보"}),l&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:["#",l.purchase_order_number]}),!u&&X(),!u&&z&&i.jsxs(i.Fragment,{children:[i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"text-blue-600 hover:bg-blue-50",children:[i.jsx($n,{className:"w-4 h-4 mr-1"}),"수정"]}),H&&a&&i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>a(l),className:"text-red-600 hover:bg-red-50",children:[i.jsx(nt,{className:"w-4 h-4 mr-1"}),"삭제"]})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{w(!1),C(l),j(l.items||[]),D([])},children:[i.jsx(Nn,{className:"w-4 h-4 mr-1"}),"취소"]}),i.jsxs(V,{size:"sm",onClick:ke,className:"bg-hansl-600 hover:bg-hansl-700 text-white",children:[i.jsx(Kn,{className:"w-4 h-4 mr-1"}),"저장"]})]})]})]})}),Fe]})})}export{rt as P,ot as T,jo as a,yo as b,vo as c,xo as d};
//# sourceMappingURL=PurchaseDetailModal-BZonloYy.js.map
