import{c as Ke,q as g,r as v,j as i,k as F,m as et,b as V,s as ft,t as fn,v as mn,g as hn,n as pn,f as mt,P as ht,h as Me,A as pt,w as gt,x as gn,D as yn,C as vn,y as xn,a as tt,F as bn,B as _n,U as wn,X as kn}from"./index-BOqRcpQK.js";import{t as L,B as he}from"./index-BM_6-O7w.js";import{k as Nn,l as Dn,m as Mn,n as Cn,u as On,F as jn,I as oe,D as Sn,a as Wn,b as En,c as Pn}from"./input-CIdisSi2.js";import{t as $,c as ne,n as Ce,s as Ue,g as Tn,d as Fn,f as yt,a as An,b as In,i as Bn,e as Yn,h as qn,j as Rn,k as vt,l as zn,C as Ae,P as Hn}from"./format-CuGKj2-Q.js";import{d as $n,T as nt}from"./card-BF9YA5fW.js";import{C as Zn}from"./calendar-BYE9vaEB.js";import{P as Un}from"./plus-CM5IKKqI.js";import{S as Gn}from"./save-Clw4X-RF.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],st=Ke("circle-x",Kn);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],rt=Ke("package",Ln);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ot=Ke("truck",Vn);function xt(e,t,n){const s=$(e,n?.in);return isNaN(t)?ne(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function bt(e,t,n){const s=$(e,n?.in);if(isNaN(t))return ne(e,NaN);if(!t)return s;const r=s.getDate(),o=ne(e,s.getTime());o.setMonth(s.getMonth()+t+1,0);const c=o.getDate();return r>=c?o:(s.setFullYear(o.getFullYear(),o.getMonth(),r),s)}function Xn(e,t,n){return xt(e,t*7,n)}function Jn(e,t,n){return bt(e,t*12,n)}function Qn(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=$(r,s);(!n||n<o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function es(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=$(r,s);(!n||n>o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function ts(e,t,n){const[s,r]=Ce(n?.in,e,t);return+Ue(s)==+Ue(r)}function ns(e,t,n){const[s,r]=Ce(n?.in,e,t),o=s.getFullYear()-r.getFullYear(),c=s.getMonth()-r.getMonth();return o*12+c}function ss(e,t){const n=$(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function rs(e,t){const[n,s]=Ce(e,t.start,t.end);return{start:n,end:s}}function os(e,t){const{start:n,end:s}=rs(t?.in,e);let r=+n>+s;const o=r?+n:+s,c=r?s:n;c.setHours(0,0,0,0),c.setDate(1);let a=1;const d=[];for(;+c<=o;)d.push(ne(n,c)),c.setMonth(c.getMonth()+a);return r?d.reverse():d}function as(e,t){const n=$(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function is(e,t){const n=$(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function _t(e,t){const n=Tn(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=$(e,t?.in),o=r.getDay(),c=(o<s?-7:0)+6-(o-s);return r.setDate(r.getDate()+c),r.setHours(23,59,59,999),r}function cs(e,t){return _t(e,{...t,weekStartsOn:1})}function ls(e,t){const n=$(e,t?.in),s=n.getFullYear(),r=n.getMonth(),o=ne(n,0);return o.setFullYear(s,r+1,0),o.setHours(0,0,0,0),o.getDate()}function ds(e,t){return $(e,t?.in).getMonth()}function us(e,t){return $(e,t?.in).getFullYear()}function fs(e,t){return+$(e)>+$(t)}function ms(e,t){return+$(e)<+$(t)}function hs(e,t,n){const[s,r]=Ce(n?.in,e,t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function ps(e,t,n){const[s,r]=Ce(n?.in,e,t);return s.getFullYear()===r.getFullYear()}function gs(e,t,n){const s=$(e,n?.in),r=s.getFullYear(),o=s.getDate(),c=ne(e,0);c.setFullYear(r,t,15),c.setHours(0,0,0,0);const a=ls(c);return s.setMonth(t,Math.min(o,a)),s}function ys(e,t,n){const s=$(e,n?.in);return isNaN(+s)?ne(e,NaN):(s.setFullYear(t),s)}function vs(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const xs={},De={};function ve(e,t){try{const s=(xs[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return s in De?De[s]:at(s,s.split(":"))}catch{if(e in De)return De[e];const n=e?.match(bs);return n?at(e,n.slice(1)):NaN}}const bs=/([+-]\d\d):?(\d\d)?/;function at(e,t){const n=+(t[0]||0),s=+(t[1]||0),r=+(t[2]||0)/60;return De[e]=n*60+s>0?n*60+s+r:n*60-s-r}class ie extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ve(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),wt(this),Ge(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ie(...n,t):new ie(Date.now(),t)}withTimeZone(t){return new ie(+this,t)}getTimezoneOffset(){const t=-ve(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ge(this),+this}[Symbol.for("constructDateFrom")](t){return new ie(+new Date(t),this.timeZone)}}const it=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!it.test(e))return;const t=e.replace(it,"$1UTC");ie.prototype[t]&&(e.startsWith("get")?ie.prototype[e]=function(){return this.internal[t]()}:(ie.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),_s(this),+this},ie.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ge(this),+this}))});function Ge(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ve(e.timeZone,e)*60))}function _s(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),wt(e)}function wt(e){const t=ve(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),o=-new Date(+s).getTimezoneOffset(),c=r-o,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();c&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+c);const d=r-n;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const l=r>0?f.getSeconds():(f.getSeconds()-60)%60,m=Math.round(-(ve(e.timeZone,e)*60))%60;(m||l)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+l));const u=ve(e.timeZone,e),w=u>0?Math.floor(u):Math.ceil(u),C=-new Date(+e).getTimezoneOffset()-w,k=w!==n,j=C-d;if(k&&j){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j);const P=ve(e.timeZone,e),D=P>0?Math.floor(P):Math.ceil(P),I=w-D;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class U extends ie{static tz(t,...n){return n.length?new U(...n,t):new U(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${vs(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new U(+this,t)}[Symbol.for("constructDateFrom")](t){return new U(+new Date(t),this.timeZone)}}const ct=5,ws=4;function ks(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),o=t.addDays(r,ct*7-1);return t.getMonth(e)===t.getMonth(o)?ct:ws}function kt(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-6):t.addDays(n,-1*(s-1))}function Ns(e,t){const n=kt(e,t),s=ks(e,t);return t.addDays(n,s*7-1)}class me{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?U.tz(this.options.timeZone):new this.Date,this.newDate=(s,r,o)=>this.overrides?.newDate?this.overrides.newDate(s,r,o):this.options.timeZone?new U(s,r,o,this.options.timeZone):new Date(s,r,o),this.addDays=(s,r)=>this.overrides?.addDays?this.overrides.addDays(s,r):xt(s,r),this.addMonths=(s,r)=>this.overrides?.addMonths?this.overrides.addMonths(s,r):bt(s,r),this.addWeeks=(s,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,r):Xn(s,r),this.addYears=(s,r)=>this.overrides?.addYears?this.overrides.addYears(s,r):Jn(s,r),this.differenceInCalendarDays=(s,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):Fn(s,r),this.differenceInCalendarMonths=(s,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):ns(s,r),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):os(s),this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Ns(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):cs(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):ss(s),this.endOfWeek=(s,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,r):_t(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):is(s),this.format=(s,r,o)=>{const c=this.overrides?.format?this.overrides.format(s,r,this.options):yt(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(c):c},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):An(s),this.getMonth=(s,r)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):ds(s,this.options),this.getYear=(s,r)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):us(s,this.options),this.getWeek=(s,r)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):In(s,this.options),this.isAfter=(s,r)=>this.overrides?.isAfter?this.overrides.isAfter(s,r):fs(s,r),this.isBefore=(s,r)=>this.overrides?.isBefore?this.overrides.isBefore(s,r):ms(s,r),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):Bn(s),this.isSameDay=(s,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,r):ts(s,r),this.isSameMonth=(s,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,r):hs(s,r),this.isSameYear=(s,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,r):ps(s,r),this.max=s=>this.overrides?.max?this.overrides.max(s):Qn(s),this.min=s=>this.overrides?.min?this.overrides.min(s):es(s),this.setMonth=(s,r)=>this.overrides?.setMonth?this.overrides.setMonth(s,r):gs(s,r),this.setYear=(s,r)=>this.overrides?.setYear?this.overrides.setYear(s,r):ys(s,r),this.startOfBroadcastWeek=(s,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):kt(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Ue(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):Yn(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):as(s),this.startOfWeek=(s,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):qn(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):Rn(s),this.options={locale:vt,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}}const ce=new me;class Nt{constructor(t,n,s=ce){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ds{constructor(t,n){this.date=t,this.weeks=n}}class Ms{constructor(t,n){this.days=n,this.weekNumber=t}}function Cs(e){return g.createElement("button",{...e})}function Os(e){return g.createElement("span",{...e})}function js(e){const{size:t=24,orientation:n="left",className:s}=e;return g.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&g.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&g.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&g.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&g.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Ss(e){const{day:t,modifiers:n,...s}=e;return g.createElement("td",{...s})}function Ws(e){const{day:t,modifiers:n,...s}=e,r=g.useRef(null);return g.useEffect(()=>{n.focused&&r.current?.focus()},[n.focused]),g.createElement("button",{ref:r,...s})}var b;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(b||(b={}));var q;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(q||(q={}));var te;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(te||(te={}));var J;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(J||(J={}));function Es(e){const{options:t,className:n,components:s,classNames:r,...o}=e,c=[r[b.Dropdown],n].join(" "),a=t?.find(({value:d})=>d===o.value);return g.createElement("span",{"data-disabled":o.disabled,className:r[b.DropdownRoot]},g.createElement(s.Select,{className:c,...o},t?.map(({value:d,label:f,disabled:l})=>g.createElement(s.Option,{key:d,value:d,disabled:l},f))),g.createElement("span",{className:r[b.CaptionLabel],"aria-hidden":!0},a?.label,g.createElement(s.Chevron,{orientation:"down",size:18,className:r[b.Chevron]})))}function Ps(e){return g.createElement("div",{...e})}function Ts(e){return g.createElement("div",{...e})}function Fs(e){const{calendarMonth:t,displayIndex:n,...s}=e;return g.createElement("div",{...s},e.children)}function As(e){const{calendarMonth:t,displayIndex:n,...s}=e;return g.createElement("div",{...s})}function Is(e){return g.createElement("table",{...e})}function Bs(e){return g.createElement("div",{...e})}const Dt=v.createContext(void 0);function Oe(){const e=v.useContext(Dt);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Ys(e){const{components:t}=Oe();return g.createElement(t.Dropdown,{...e})}function qs(e){const{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r,...o}=e,{components:c,classNames:a,labels:{labelPrevious:d,labelNext:f}}=Oe(),l=v.useCallback(u=>{r&&n?.(u)},[r,n]),m=v.useCallback(u=>{s&&t?.(u)},[s,t]);return g.createElement("nav",{...o},g.createElement(c.PreviousMonthButton,{type:"button",className:a[b.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:m},g.createElement(c.Chevron,{disabled:s?void 0:!0,className:a[b.Chevron],orientation:"left"})),g.createElement(c.NextMonthButton,{type:"button",className:a[b.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:l},g.createElement(c.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[b.Chevron]})))}function Rs(e){const{components:t}=Oe();return g.createElement(t.Button,{...e})}function zs(e){return g.createElement("option",{...e})}function Hs(e){const{components:t}=Oe();return g.createElement(t.Button,{...e})}function $s(e){const{rootRef:t,...n}=e;return g.createElement("div",{...n,ref:t})}function Zs(e){return g.createElement("select",{...e})}function Us(e){const{week:t,...n}=e;return g.createElement("tr",{...n})}function Gs(e){return g.createElement("th",{...e})}function Ks(e){return g.createElement("thead",{"aria-hidden":!0},g.createElement("tr",{...e}))}function Ls(e){const{week:t,...n}=e;return g.createElement("th",{...n})}function Vs(e){return g.createElement("th",{...e})}function Xs(e){return g.createElement("tbody",{...e})}function Js(e){const{components:t}=Oe();return g.createElement(t.Dropdown,{...e})}const Qs=Object.freeze(Object.defineProperty({__proto__:null,Button:Cs,CaptionLabel:Os,Chevron:js,Day:Ss,DayButton:Ws,Dropdown:Es,DropdownNav:Ps,Footer:Ts,Month:Fs,MonthCaption:As,MonthGrid:Is,Months:Bs,MonthsDropdown:Ys,Nav:qs,NextMonthButton:Rs,Option:zs,PreviousMonthButton:Hs,Root:$s,Select:Zs,Week:Us,WeekNumber:Ls,WeekNumberHeader:Vs,Weekday:Gs,Weekdays:Ks,Weeks:Xs,YearsDropdown:Js},Symbol.toStringTag,{value:"Module"}));function ue(e,t,n=!1,s=ce){let{from:r,to:o}=e;const{differenceInCalendarDays:c,isSameDay:a}=s;return r&&o?(c(o,r)<0&&([r,o]=[o,r]),c(t,r)>=(n?1:0)&&c(o,t)>=(n?1:0)):!n&&o?a(o,t):!n&&r?a(r,t):!1}function Mt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Le(e){return!!(e&&typeof e=="object"&&"from"in e)}function Ct(e){return!!(e&&typeof e=="object"&&"after"in e)}function Ot(e){return!!(e&&typeof e=="object"&&"before"in e)}function jt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function St(e,t){return Array.isArray(e)&&e.every(t.isDate)}function fe(e,t,n=ce){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:o,isAfter:c}=n;return s.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(e,a);if(St(a,n))return a.includes(e);if(Le(a))return ue(a,e,!1,n);if(jt(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(Mt(a)){const d=o(a.before,e),f=o(a.after,e),l=d>0,m=f<0;return c(a.before,a.after)?m&&l:l||m}return Ct(a)?o(e,a.after)>0:Ot(a)?o(a.before,e)>0:typeof a=="function"?a(e):!1})}function er(e,t,n,s,r){const{disabled:o,hidden:c,modifiers:a,showOutsideDays:d,broadcastCalendar:f,today:l}=t,{isSameDay:m,isSameMonth:u,startOfMonth:w,isBefore:x,endOfMonth:C,isAfter:k}=r,j=n&&w(n),P=s&&C(s),D={[q.focused]:[],[q.outside]:[],[q.disabled]:[],[q.hidden]:[],[q.today]:[]},I={};for(const _ of e){const{date:N,displayMonth:O}=_,M=!!(O&&!u(N,O)),T=!!(j&&x(N,j)),z=!!(P&&k(N,P)),H=!!(o&&fe(N,o,r)),Z=!!(c&&fe(N,c,r))||T||z||!f&&!d&&M||f&&d===!1&&M,le=m(N,l??r.today());M&&D.outside.push(_),H&&D.disabled.push(_),Z&&D.hidden.push(_),le&&D.today.push(_),a&&Object.keys(a).forEach(de=>{const G=a?.[de];G&&fe(N,G,r)&&(I[de]?I[de].push(_):I[de]=[_])})}return _=>{const N={[q.focused]:!1,[q.disabled]:!1,[q.hidden]:!1,[q.outside]:!1,[q.today]:!1},O={};for(const M in D){const T=D[M];N[M]=T.some(z=>z===_)}for(const M in I)O[M]=I[M].some(T=>T===_);return{...N,...O}}}function tr(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[o])=>(n[o]?r.push(n[o]):t[q[o]]?r.push(t[q[o]]):t[te[o]]&&r.push(t[te[o]]),r),[t[b.Day]])}function nr(e){return{...Qs,...e}}function sr(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,s])=>{n.startsWith("data-")&&(t[n]=s)}),t}function Ve(){const e={};for(const t in b)e[b[t]]=`rdp-${b[t]}`;for(const t in q)e[q[t]]=`rdp-${q[t]}`;for(const t in te)e[te[t]]=`rdp-${te[t]}`;for(const t in J)e[J[t]]=`rdp-${J[t]}`;return e}function Wt(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const rr=Wt;function or(e,t,n){return(n??new me(t)).format(e,"d")}function ar(e,t=ce){return t.format(e,"LLLL")}function ir(e,t,n){return(n??new me(t)).format(e,"cccccc")}function cr(e,t=ce){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function lr(){return""}function Et(e,t=ce){return t.format(e,"yyyy")}const dr=Et,ur=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Wt,formatDay:or,formatMonthCaption:rr,formatMonthDropdown:ar,formatWeekNumber:cr,formatWeekNumberHeader:lr,formatWeekdayName:ir,formatYearCaption:dr,formatYearDropdown:Et},Symbol.toStringTag,{value:"Module"}));function fr(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...ur,...e}}function mr(e,t,n,s,r){const{startOfMonth:o,startOfYear:c,endOfYear:a,eachMonthOfInterval:d,getMonth:f}=r;return d({start:c(e),end:a(e)}).map(u=>{const w=s.formatMonthDropdown(u,r),x=f(u),C=t&&u<o(t)||n&&u>o(n)||!1;return{value:x,label:w,disabled:C}})}function hr(e,t={},n={}){let s={...t?.[b.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n?.[r]}}),s}function pr(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),o=[];for(let c=0;c<7;c++){const a=e.addDays(r,c);o.push(a)}return o}function gr(e,t,n,s,r=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:c,addYears:a,getYear:d,isBefore:f,isSameYear:l}=s,m=o(e),u=c(t),w=[];let x=m;for(;f(x,u)||l(x,u);)w.push(x),x=a(x,1);return r&&w.reverse(),w.map(C=>{const k=n.formatYearDropdown(C,s);return{value:d(C),label:k,disabled:!1}})}function Pt(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const yr=Pt;function Tt(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const vr=Tt;function xr(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function br(e){return"Choose the Month"}function _r(){return""}function wr(e){return"Go to the Next Month"}function kr(e){return"Go to the Previous Month"}function Nr(e,t,n){return(n??new me(t)).format(e,"cccc")}function Dr(e,t){return`Week ${e}`}function Mr(e){return"Week Number"}function Cr(e){return"Choose the Year"}const Or=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:vr,labelDay:yr,labelDayButton:Pt,labelGrid:Tt,labelGridcell:xr,labelMonthDropdown:br,labelNav:_r,labelNext:wr,labelPrevious:kr,labelWeekNumber:Dr,labelWeekNumberHeader:Mr,labelWeekday:Nr,labelYearDropdown:Cr},Symbol.toStringTag,{value:"Module"})),je=e=>e instanceof HTMLElement?e:null,He=e=>[...e.querySelectorAll("[data-animated-month]")??[]],jr=e=>je(e.querySelector("[data-animated-month]")),$e=e=>je(e.querySelector("[data-animated-caption]")),Ze=e=>je(e.querySelector("[data-animated-weeks]")),Sr=e=>je(e.querySelector("[data-animated-nav]")),Wr=e=>je(e.querySelector("[data-animated-weekdays]"));function Er(e,t,{classNames:n,months:s,focused:r,dateLib:o}){const c=v.useRef(null),a=v.useRef(s),d=v.useRef(!1);v.useLayoutEffect(()=>{const f=a.current;if(a.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const l=o.isSameMonth(s[0].date,f[0].date),m=o.isAfter(s[0].date,f[0].date),u=m?n[J.caption_after_enter]:n[J.caption_before_enter],w=m?n[J.weeks_after_enter]:n[J.weeks_before_enter],x=c.current,C=e.current.cloneNode(!0);if(C instanceof HTMLElement?(He(C).forEach(D=>{if(!(D instanceof HTMLElement))return;const I=jr(D);I&&D.contains(I)&&D.removeChild(I);const _=$e(D);_&&_.classList.remove(u);const N=Ze(D);N&&N.classList.remove(w)}),c.current=C):c.current=null,d.current||l||r)return;const k=x instanceof HTMLElement?He(x):[],j=He(e.current);if(j?.every(P=>P instanceof HTMLElement)&&k&&k.every(P=>P instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const P=Sr(e.current);P&&(P.style.zIndex="1"),j.forEach((D,I)=>{const _=k[I];if(!_)return;D.style.position="relative",D.style.overflow="hidden";const N=$e(D);N&&N.classList.add(u);const O=Ze(D);O&&O.classList.add(w);const M=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),P&&(P.style.zIndex=""),N&&N.classList.remove(u),O&&O.classList.remove(w),D.style.position="",D.style.overflow="",D.contains(_)&&D.removeChild(_)};_.style.pointerEvents="none",_.style.position="absolute",_.style.overflow="hidden",_.setAttribute("aria-hidden","true");const T=Wr(_);T&&(T.style.opacity="0");const z=$e(_);z&&(z.classList.add(m?n[J.caption_before_exit]:n[J.caption_after_exit]),z.addEventListener("animationend",M));const H=Ze(_);H&&H.classList.add(m?n[J.weeks_before_exit]:n[J.weeks_after_exit]),D.insertBefore(_,D.firstChild)})}})}function Pr(e,t,n,s){const r=e[0],o=e[e.length-1],{ISOWeek:c,fixedWeeks:a,broadcastCalendar:d}=n??{},{addDays:f,differenceInCalendarDays:l,differenceInCalendarMonths:m,endOfBroadcastWeek:u,endOfISOWeek:w,endOfMonth:x,endOfWeek:C,isAfter:k,startOfBroadcastWeek:j,startOfISOWeek:P,startOfWeek:D}=s,I=d?j(r,s):c?P(r):D(r),_=d?u(o):c?w(x(o)):C(x(o)),N=l(_,I),O=m(o,r)+1,M=[];for(let H=0;H<=N;H++){const Z=f(I,H);if(t&&k(Z,t))break;M.push(Z)}const z=(d?35:42)*O;if(a&&M.length<z){const H=z-M.length;for(let Z=0;Z<H;Z++){const le=f(M[M.length-1],1);M.push(le)}}return M}function Tr(e){const t=[];return e.reduce((n,s)=>{const r=s.weeks.reduce((o,c)=>o.concat(c.days.slice()),t.slice());return n.concat(r.slice())},t.slice())}function Fr(e,t,n,s){const{numberOfMonths:r=1}=n,o=[];for(let c=0;c<r;c++){const a=s.addMonths(e,c);if(t&&a>t)break;o.push(a)}return o}function lt(e,t,n,s){const{month:r,defaultMonth:o,today:c=s.today(),numberOfMonths:a=1}=e;let d=r||o||c;const{differenceInCalendarMonths:f,addMonths:l,startOfMonth:m}=s;if(n&&f(n,d)<a-1){const u=-1*(a-1);d=l(n,u)}return t&&f(d,t)<0&&(d=t),m(d)}function Ar(e,t,n,s){const{addDays:r,endOfBroadcastWeek:o,endOfISOWeek:c,endOfMonth:a,endOfWeek:d,getISOWeek:f,getWeek:l,startOfBroadcastWeek:m,startOfISOWeek:u,startOfWeek:w}=s,x=e.reduce((C,k)=>{const j=n.broadcastCalendar?m(k,s):n.ISOWeek?u(k):w(k),P=n.broadcastCalendar?o(k):n.ISOWeek?c(a(k)):d(a(k)),D=t.filter(O=>O>=j&&O<=P),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&D.length<I){const O=t.filter(M=>{const T=I-D.length;return M>P&&M<=r(P,T)});D.push(...O)}const _=D.reduce((O,M)=>{const T=n.ISOWeek?f(M):l(M),z=O.find(Z=>Z.weekNumber===T),H=new Nt(M,k,s);return z?z.days.push(H):O.push(new Ms(T,[H])),O},[]),N=new Ds(k,_);return C.push(N),C},[]);return n.reverseMonths?x.reverse():x}function Ir(e,t){let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:o,startOfMonth:c,endOfMonth:a,addYears:d,endOfYear:f,newDate:l,today:m}=t,{fromYear:u,toYear:w,fromMonth:x,toMonth:C}=e;!n&&x&&(n=x),!n&&u&&(n=t.newDate(u,0,1)),!s&&C&&(s=C),!s&&w&&(s=l(w,11,31));const k=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=c(n):u?n=l(u,0,1):!n&&k&&(n=r(d(e.today??m(),-100))),s?s=a(s):w?s=l(w,11,31):!s&&k&&(s=f(e.today??m())),[n&&o(n),s&&o(s)]}function Br(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o=1}=n,{startOfMonth:c,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o:1,l=c(e);if(!t)return a(l,f);if(!(d(t,e)<o))return a(l,f)}function Yr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o}=n,{startOfMonth:c,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o??1:1,l=c(e);if(!t)return a(l,-f);if(!(d(l,t)<=0))return a(l,-f)}function qr(e){const t=[];return e.reduce((n,s)=>n.concat(s.weeks.slice()),t.slice())}function Ie(e,t){const[n,s]=v.useState(e);return[t===void 0?n:t,s]}function Rr(e,t){const[n,s]=Ir(e,t),{startOfMonth:r,endOfMonth:o}=t,c=lt(e,n,s,t),[a,d]=Ie(c,e.month?c:void 0);v.useEffect(()=>{const N=lt(e,n,s,t);d(N)},[e.timeZone]);const f=Fr(a,s,e,t),l=Pr(f,e.endMonth?o(e.endMonth):void 0,e,t),m=Ar(f,l,e,t),u=qr(m),w=Tr(m),x=Yr(a,n,e,t),C=Br(a,s,e,t),{disableNavigation:k,onMonthChange:j}=e,P=N=>u.some(O=>O.days.some(M=>M.isEqualTo(N))),D=N=>{if(k)return;let O=r(N);n&&O<r(n)&&(O=r(n)),s&&O>r(s)&&(O=r(s)),d(O),j?.(O)};return{months:m,weeks:u,days:w,navStart:n,navEnd:s,previousMonth:x,nextMonth:C,goToMonth:D,goToDay:N=>{P(N)||D(N.date)}}}var ae;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ae||(ae={}));function dt(e){return!e[q.disabled]&&!e[q.hidden]&&!e[q.outside]}function zr(e,t,n,s){let r,o=-1;for(const c of e){const a=t(c);dt(a)&&(a[q.focused]&&o<ae.FocusedModifier?(r=c,o=ae.FocusedModifier):s?.isEqualTo(c)&&o<ae.LastFocused?(r=c,o=ae.LastFocused):n(c.date)&&o<ae.Selected?(r=c,o=ae.Selected):a[q.today]&&o<ae.Today&&(r=c,o=ae.Today))}return r||(r=e.find(c=>dt(t(c)))),r}function Hr(e,t,n,s,r,o,c){const{ISOWeek:a,broadcastCalendar:d}=o,{addDays:f,addMonths:l,addWeeks:m,addYears:u,endOfBroadcastWeek:w,endOfISOWeek:x,endOfWeek:C,max:k,min:j,startOfBroadcastWeek:P,startOfISOWeek:D,startOfWeek:I}=c;let N={day:f,week:m,month:l,year:u,startOfWeek:O=>d?P(O,c):a?D(O):I(O),endOfWeek:O=>d?w(O):a?x(O):C(O)}[e](n,t==="after"?1:-1);return t==="before"&&s?N=k([s,N]):t==="after"&&r&&(N=j([r,N])),N}function Ft(e,t,n,s,r,o,c,a=0){if(a>365)return;const d=Hr(e,t,n.date,s,r,o,c),f=!!(o.disabled&&fe(d,o.disabled,c)),l=!!(o.hidden&&fe(d,o.hidden,c)),m=d,u=new Nt(d,m,c);return!f&&!l?u:Ft(e,t,u,s,r,o,c,a+1)}function $r(e,t,n,s,r){const{autoFocus:o}=e,[c,a]=v.useState(),d=zr(t.days,n,s||(()=>!1),c),[f,l]=v.useState(o?d:void 0);return{isFocusTarget:C=>!!d?.isEqualTo(C),setFocused:l,focused:f,blur:()=>{a(f),l(void 0)},moveFocus:(C,k)=>{if(!f)return;const j=Ft(C,k,f,t.navStart,t.navEnd,e,r);j&&(t.goToDay(j),l(j))}}}function Zr(e,t){const{selected:n,required:s,onSelect:r}=e,[o,c]=Ie(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t,f=w=>a?.some(x=>d(x,w))??!1,{min:l,max:m}=e;return{selected:a,select:(w,x,C)=>{let k=[...a??[]];if(f(w)){if(a?.length===l||s&&a?.length===1)return;k=a?.filter(j=>!d(j,w))}else a?.length===m?k=[w]:k=[...k,w];return r||c(k),r?.(k,w,x,C),k},isSelected:f}}function Ur(e,t,n=0,s=0,r=!1,o=ce){const{from:c,to:a}=t||{},{isSameDay:d,isAfter:f,isBefore:l}=o;let m;if(!c&&!a)m={from:e,to:n>0?void 0:e};else if(c&&!a)d(c,e)?n===0?m={from:c,to:e}:r?m={from:c,to:void 0}:m=void 0:l(e,c)?m={from:e,to:c}:m={from:c,to:e};else if(c&&a)if(d(c,e)&&d(a,e))r?m={from:c,to:a}:m=void 0;else if(d(c,e))m={from:c,to:n>0?void 0:e};else if(d(a,e))m={from:e,to:n>0?void 0:e};else if(l(e,c))m={from:e,to:a};else if(f(e,c))m={from:c,to:e};else if(f(e,a))m={from:c,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const u=o.differenceInCalendarDays(m.to,m.from);s>0&&u>s?m={from:e,to:void 0}:n>1&&u<n&&(m={from:e,to:void 0})}return m}function Gr(e,t,n=ce){const s=Array.isArray(t)?t:[t];let r=e.from;const o=n.differenceInCalendarDays(e.to,e.from),c=Math.min(o,6);for(let a=0;a<=c;a++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function ut(e,t,n=ce){return ue(e,t.from,!1,n)||ue(e,t.to,!1,n)||ue(t,e.from,!1,n)||ue(t,e.to,!1,n)}function Kr(e,t,n=ce){const s=Array.isArray(t)?t:[t];if(s.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?ue(e,a,!1,n):St(a,n)?a.some(d=>ue(e,d,!1,n)):Le(a)?a.from&&a.to?ut(e,{from:a.from,to:a.to},n):!1:jt(a)?Gr(e,a.dayOfWeek,n):Mt(a)?n.isAfter(a.before,a.after)?ut(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):fe(e.from,a,n)||fe(e.to,a,n):Ct(a)||Ot(a)?fe(e.from,a,n)||fe(e.to,a,n):!1))return!0;const c=s.filter(a=>typeof a=="function");if(c.length){let a=e.from;const d=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(c.some(l=>l(a)))return!0;a=n.addDays(a,1)}}return!1}function Lr(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:o,onSelect:c}=e,[a,d]=Ie(r,c?r:void 0),f=c?r:a;return{selected:f,select:(u,w,x)=>{const{min:C,max:k}=e,j=u?Ur(u,f,C,k,o,t):void 0;return s&&n&&j?.from&&j.to&&Kr({from:j.from,to:j.to},n,t)&&(j.from=u,j.to=void 0),c||d(j),c?.(j,u,w,x),j},isSelected:u=>f&&ue(f,u,!1,t)}}function Vr(e,t){const{selected:n,required:s,onSelect:r}=e,[o,c]=Ie(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t;return{selected:a,select:(m,u,w)=>{let x=m;return!s&&a&&a&&d(m,a)&&(x=void 0),r||c(x),r?.(x,m,u,w),x},isSelected:m=>a?d(a,m):!1}}function Xr(e,t){const n=Vr(e,t),s=Zr(e,t),r=Lr(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function Jr(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new U(t.today,t.timeZone)),t.month&&(t.month=new U(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new U(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new U(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new U(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new U(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(E=>new U(E,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new U(t.selected.from,t.timeZone):void 0,to:t.selected.to?new U(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:o,locale:c,classNames:a}=v.useMemo(()=>{const E={...vt,...t.locale};return{dateLib:new me({locale:E,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:nr(t.components),formatters:fr(t.formatters),labels:{...Or,...t.labels},locale:E,classNames:{...Ve(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:l,numberOfMonths:m=1,onDayBlur:u,onDayClick:w,onDayFocus:x,onDayKeyDown:C,onDayMouseEnter:k,onDayMouseLeave:j,onNextClick:P,onPrevClick:D,showWeekNumber:I,styles:_}=t,{formatCaption:N,formatDay:O,formatMonthDropdown:M,formatWeekNumber:T,formatWeekNumberHeader:z,formatWeekdayName:H,formatYearDropdown:Z}=s,le=Rr(t,o),{days:de,months:G,navStart:ge,navEnd:xe,previousMonth:R,nextMonth:X,goToMonth:Q}=le,ye=er(de,t,ge,xe,o),{isSelected:ke,select:se,selected:be}=Xr(t,o)??{},{blur:We,focused:Ne,isFocusTarget:Ee,moveFocus:Pe,setFocused:_e}=$r(t,le,ye,ke??(()=>!1),o),{labelDayButton:Te,labelGridcell:Fe,labelGrid:p,labelMonthDropdown:y,labelNav:h,labelPrevious:S,labelNext:K,labelWeekday:re,labelWeekNumber:Ut,labelWeekNumberHeader:Gt,labelYearDropdown:Kt}=r,Lt=v.useMemo(()=>pr(o,t.ISOWeek),[o,t.ISOWeek]),Je=f!==void 0||w!==void 0,Ye=v.useCallback(()=>{R&&(Q(R),D?.(R))},[R,Q,D]),qe=v.useCallback(()=>{X&&(Q(X),P?.(X))},[Q,X,P]),Vt=v.useCallback((E,B)=>W=>{W.preventDefault(),W.stopPropagation(),_e(E),se?.(E.date,B,W),w?.(E.date,B,W)},[se,w,_e]),Xt=v.useCallback((E,B)=>W=>{_e(E),x?.(E.date,B,W)},[x,_e]),Jt=v.useCallback((E,B)=>W=>{We(),u?.(E.date,B,W)},[We,u]),Qt=v.useCallback((E,B)=>W=>{const Y={ArrowLeft:[W.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[W.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[W.shiftKey?"year":"week","after"],ArrowUp:[W.shiftKey?"year":"week","before"],PageUp:[W.shiftKey?"year":"month","before"],PageDown:[W.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Y[W.key]){W.preventDefault(),W.stopPropagation();const[ee,A]=Y[W.key];Pe(ee,A)}C?.(E.date,B,W)},[Pe,C,t.dir]),en=v.useCallback((E,B)=>W=>{k?.(E.date,B,W)},[k]),tn=v.useCallback((E,B)=>W=>{j?.(E.date,B,W)},[j]),nn=v.useCallback(E=>B=>{const W=Number(B.target.value),Y=o.setMonth(o.startOfMonth(E),W);Q(Y)},[o,Q]),sn=v.useCallback(E=>B=>{const W=Number(B.target.value),Y=o.setYear(o.startOfMonth(E),W);Q(Y)},[o,Q]),{className:rn,style:on}=v.useMemo(()=>({className:[a[b.Root],t.className].filter(Boolean).join(" "),style:{..._?.[b.Root],...t.style}}),[a,t.className,t.style,_]),an=sr(t),Qe=v.useRef(null);Er(Qe,!!t.animate,{classNames:a,months:G,focused:Ne,dateLib:o});const cn={dayPickerProps:t,selected:be,select:se,isSelected:ke,months:G,nextMonth:X,previousMonth:R,goToMonth:Q,getModifiers:ye,components:n,classNames:a,styles:_,labels:r,formatters:s};return g.createElement(Dt.Provider,{value:cn},g.createElement(n.Root,{rootRef:t.animate?Qe:void 0,className:rn,style:on,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...an},g.createElement(n.Months,{className:a[b.Months],style:_?.[b.Months]},!t.hideNavigation&&!l&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[b.Nav],style:_?.[b.Nav],"aria-label":h(),onPreviousClick:Ye,onNextClick:qe,previousMonth:R,nextMonth:X}),G.map((E,B)=>g.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[b.Month],style:_?.[b.Month],key:B,displayIndex:B,calendarMonth:E},l==="around"&&!t.hideNavigation&&B===0&&g.createElement(n.PreviousMonthButton,{type:"button",className:a[b.PreviousMonthButton],tabIndex:R?void 0:-1,"aria-disabled":R?void 0:!0,"aria-label":S(R),onClick:Ye,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:R?void 0:!0,className:a[b.Chevron],orientation:t.dir==="rtl"?"right":"left"})),g.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[b.MonthCaption],style:_?.[b.MonthCaption],calendarMonth:E,displayIndex:B},d?.startsWith("dropdown")?g.createElement(n.DropdownNav,{className:a[b.Dropdowns],style:_?.[b.Dropdowns]},d==="dropdown"||d==="dropdown-months"?g.createElement(n.MonthsDropdown,{className:a[b.MonthsDropdown],"aria-label":y(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:nn(E.date),options:mr(E.date,ge,xe,s,o),style:_?.[b.Dropdown],value:o.getMonth(E.date)}):g.createElement("span",null,M(E.date,o)),d==="dropdown"||d==="dropdown-years"?g.createElement(n.YearsDropdown,{className:a[b.YearsDropdown],"aria-label":Kt(o.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:sn(E.date),options:gr(ge,xe,s,o,!!t.reverseYears),style:_?.[b.Dropdown],value:o.getYear(E.date)}):g.createElement("span",null,Z(E.date,o)),g.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(E.date,o.options,o))):g.createElement(n.CaptionLabel,{className:a[b.CaptionLabel],role:"status","aria-live":"polite"},N(E.date,o.options,o))),l==="around"&&!t.hideNavigation&&B===m-1&&g.createElement(n.NextMonthButton,{type:"button",className:a[b.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":K(X),onClick:qe,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:X?void 0:!0,className:a[b.Chevron],orientation:t.dir==="rtl"?"left":"right"})),B===m-1&&l==="after"&&!t.hideNavigation&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[b.Nav],style:_?.[b.Nav],"aria-label":h(),onPreviousClick:Ye,onNextClick:qe,previousMonth:R,nextMonth:X}),g.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":p(E.date,o.options,o)||void 0,className:a[b.MonthGrid],style:_?.[b.MonthGrid]},!t.hideWeekdays&&g.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[b.Weekdays],style:_?.[b.Weekdays]},I&&g.createElement(n.WeekNumberHeader,{"aria-label":Gt(o.options),className:a[b.WeekNumberHeader],style:_?.[b.WeekNumberHeader],scope:"col"},z()),Lt.map(W=>g.createElement(n.Weekday,{"aria-label":re(W,o.options,o),className:a[b.Weekday],key:String(W),style:_?.[b.Weekday],scope:"col"},H(W,o.options,o)))),g.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[b.Weeks],style:_?.[b.Weeks]},E.weeks.map(W=>g.createElement(n.Week,{className:a[b.Week],key:W.weekNumber,style:_?.[b.Week],week:W},I&&g.createElement(n.WeekNumber,{week:W,style:_?.[b.WeekNumber],"aria-label":Ut(W.weekNumber,{locale:c}),className:a[b.WeekNumber],scope:"row",role:"rowheader"},T(W.weekNumber,o)),W.days.map(Y=>{const{date:ee}=Y,A=ye(Y);if(A[q.focused]=!A.hidden&&!!Ne?.isEqualTo(Y),A[te.selected]=ke?.(ee)||A.selected,Le(be)){const{from:Re,to:ze}=be;A[te.range_start]=!!(Re&&ze&&o.isSameDay(ee,Re)),A[te.range_end]=!!(Re&&ze&&o.isSameDay(ee,ze)),A[te.range_middle]=ue(be,ee,!0,o)}const ln=hr(A,_,t.modifiersStyles),dn=tr(A,a,t.modifiersClassNames),un=!Je&&!A.hidden?Fe(ee,A,o.options,o):void 0;return g.createElement(n.Day,{key:`${o.format(ee,"yyyy-MM-dd")}_${o.format(Y.displayMonth,"yyyy-MM")}`,day:Y,modifiers:A,className:dn.join(" "),style:ln,role:"gridcell","aria-selected":A.selected||void 0,"aria-label":un,"data-day":o.format(ee,"yyyy-MM-dd"),"data-month":Y.outside?o.format(ee,"yyyy-MM"):void 0,"data-selected":A.selected||void 0,"data-disabled":A.disabled||void 0,"data-hidden":A.hidden||void 0,"data-outside":Y.outside||void 0,"data-focused":A.focused||void 0,"data-today":A.today||void 0},!A.hidden&&Je?g.createElement(n.DayButton,{className:a[b.DayButton],style:_?.[b.DayButton],type:"button",day:Y,modifiers:A,disabled:A.disabled||void 0,tabIndex:Ee(Y)?0:-1,"aria-label":Te(ee,A,o.options,o),onClick:Vt(Y,A),onBlur:Jt(Y,A),onFocus:Xt(Y,A),onKeyDown:Qt(Y,A),onMouseEnter:en(Y,A),onMouseLeave:tn(Y,A)},O(ee,o.options,o)):!A.hidden&&O(Y.date,o.options,o))})))))))),t.footer&&g.createElement(n.Footer,{className:a[b.Footer],style:_?.[b.Footer],role:"status","aria-live":"polite"},t.footer)))}function Qr({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:s="label",buttonVariant:r="ghost",formatters:o,components:c,...a}){const d=Ve();return i.jsx(Jr,{showOutsideDays:n,className:F("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:{formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"}),...o},classNames:{root:F("w-fit",d.root),months:F("flex gap-4 flex-col md:flex-row relative",d.months),month:F("flex flex-col w-full gap-4",d.month),nav:F("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",d.nav),button_previous:F(et({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_previous),button_next:F(et({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_next),month_caption:F("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",d.month_caption),dropdowns:F("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",d.dropdowns),dropdown_root:F("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",d.dropdown_root),dropdown:F("absolute bg-popover inset-0 opacity-0",d.dropdown),caption_label:F("select-none font-medium",s==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:F("flex",d.weekdays),weekday:F("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",d.weekday),week:F("flex w-full mt-2",d.week),week_number_header:F("select-none w-(--cell-size)",d.week_number_header),week_number:F("text-[0.8rem] select-none text-muted-foreground",d.week_number),day:F("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",d.day),range_start:F("rounded-l-md bg-accent",d.range_start),range_middle:F("rounded-none",d.range_middle),range_end:F("rounded-r-md bg-accent",d.range_end),today:F("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:F("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:F("text-muted-foreground opacity-50",d.disabled),hidden:F("invisible",d.hidden),...t},components:{Root:({className:f,rootRef:l,...m})=>i.jsx("div",{"data-slot":"calendar",ref:l,className:F(f),...m}),Chevron:({className:f,orientation:l,...m})=>l==="left"?i.jsx(zn,{className:F("size-4",f),...m}):l==="right"?i.jsx($n,{className:F("size-4",f),...m}):i.jsx(Nn,{className:F("size-4",f),...m}),DayButton:eo,WeekNumber:({children:f,...l})=>i.jsx("td",{...l,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:f})}),...c},...a})}function eo({className:e,day:t,modifiers:n,...s}){const r=Ve(),o=v.useRef(null);return v.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),i.jsx(V,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:F("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...s})}var Be="Popover",[At,Oo]=hn(Be,[ft]),Se=ft(),[to,pe]=At(Be),It=e=>{const{__scopePopover:t,children:n,open:s,defaultOpen:r,onOpenChange:o,modal:c=!1}=e,a=Se(t),d=v.useRef(null),[f,l]=v.useState(!1),[m,u]=fn({prop:s,defaultProp:r??!1,onChange:o,caller:Be});return i.jsx(mn,{...a,children:i.jsx(to,{scope:t,contentId:pn(),triggerRef:d,open:m,onOpenChange:u,onOpenToggle:v.useCallback(()=>u(w=>!w),[u]),hasCustomAnchor:f,onCustomAnchorAdd:v.useCallback(()=>l(!0),[]),onCustomAnchorRemove:v.useCallback(()=>l(!1),[]),modal:c,children:n})})};It.displayName=Be;var Bt="PopoverAnchor",no=v.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe(Bt,n),o=Se(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:a}=r;return v.useEffect(()=>(c(),()=>a()),[c,a]),i.jsx(pt,{...o,...s,ref:t})});no.displayName=Bt;var Yt="PopoverTrigger",qt=v.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe(Yt,n),o=Se(n),c=mt(t,r.triggerRef),a=i.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Zt(r.open),...s,ref:c,onClick:Me(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?a:i.jsx(pt,{asChild:!0,...o,children:a})});qt.displayName=Yt;var Xe="PopoverPortal",[so,ro]=At(Xe,{forceMount:void 0}),Rt=e=>{const{__scopePopover:t,forceMount:n,children:s,container:r}=e,o=pe(Xe,t);return i.jsx(so,{scope:t,forceMount:n,children:i.jsx(gt,{present:n||o.open,children:i.jsx(Dn,{asChild:!0,container:r,children:s})})})};Rt.displayName=Xe;var we="PopoverContent",zt=v.forwardRef((e,t)=>{const n=ro(we,e.__scopePopover),{forceMount:s=n.forceMount,...r}=e,o=pe(we,e.__scopePopover);return i.jsx(gt,{present:s||o.open,children:o.modal?i.jsx(ao,{...r,ref:t}):i.jsx(io,{...r,ref:t})})});zt.displayName=we;var oo=gn("PopoverContent.RemoveScroll"),ao=v.forwardRef((e,t)=>{const n=pe(we,e.__scopePopover),s=v.useRef(null),r=mt(t,s),o=v.useRef(!1);return v.useEffect(()=>{const c=s.current;if(c)return Mn(c)},[]),i.jsx(Cn,{as:oo,allowPinchZoom:!0,children:i.jsx(Ht,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{c.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,c=>{const a=c.detail.originalEvent,d=a.button===0&&a.ctrlKey===!0,f=a.button===2||d;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Me(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),io=v.forwardRef((e,t)=>{const n=pe(we,e.__scopePopover),s=v.useRef(!1),r=v.useRef(!1);return i.jsx(Ht,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(s.current||n.triggerRef.current?.focus(),o.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=o.target;n.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&r.current&&o.preventDefault()}})}),Ht=v.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:l,...m}=e,u=pe(we,n),w=Se(n);return On(),i.jsx(jn,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:o,children:i.jsx(yn,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:l,onEscapeKeyDown:a,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>u.onOpenChange(!1),children:i.jsx(vn,{"data-state":Zt(u.open),role:"dialog",id:u.contentId,...w,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$t="PopoverClose",co=v.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=pe($t,n);return i.jsx(ht.button,{type:"button",...s,ref:t,onClick:Me(e.onClick,()=>r.onOpenChange(!1))})});co.displayName=$t;var lo="PopoverArrow",uo=v.forwardRef((e,t)=>{const{__scopePopover:n,...s}=e,r=Se(n);return i.jsx(xn,{...r,...s,ref:t})});uo.displayName=lo;function Zt(e){return e?"open":"closed"}var fo=It,mo=qt,ho=Rt,po=zt;function go({...e}){return i.jsx(fo,{"data-slot":"popover",...e})}function yo({...e}){return i.jsx(mo,{"data-slot":"popover-trigger",...e})}function vo({className:e,align:t="center",sideOffset:n=4,...s}){return i.jsx(ho,{children:i.jsx(po,{"data-slot":"popover-content",align:t,sideOffset:n,className:F("z-50 w-72","bg-white text-gray-800 rounded-professional","border border-gray-200 p-4","shadow-professional-lg outline-hidden","origin-(--radix-popover-content-transform-origin)","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})})}function xo({date:e,onDateChange:t,placeholder:n="날짜 선택",className:s,disabled:r=!1}){return i.jsxs(go,{children:[i.jsx(yo,{asChild:!0,children:i.jsxs(V,{variant:"outline",className:F("justify-start text-left font-normal",!e&&"text-muted-foreground",s),disabled:r,children:[i.jsx(Zn,{className:"mr-2 h-4 w-4"}),e?yt(e,"yyyy-MM-dd"):i.jsx("span",{children:n})]})}),i.jsx(vo,{className:"w-auto p-0",children:i.jsx(Qr,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}function jo({purchaseId:e,isOpen:t,onClose:n,embedded:s=!1,currentUserRoles:r=[],activeTab:o,onRefresh:c,onDelete:a}){const[d,f]=v.useState(!1),[l,m]=v.useState(null),[u,w]=v.useState(!1),[x,C]=v.useState(null),[k,j]=v.useState([]),[P,D]=v.useState([]),[I,_]=v.useState([]),[N,O]=v.useState(""),M=tt();v.useEffect(()=>{t&&(async()=>{try{const{data:{user:y}}=await M.auth.getUser();if(y){let{data:h}=await M.from("employees").select("*").eq("id",y.id).maybeSingle();if(!h&&y.email){const{data:S}=await M.from("employees").select("*").eq("email",y.email).maybeSingle();h=S}if(h?.name&&O(h.name),h?.purchase_role){let S=[];Array.isArray(h.purchase_role)?S=h.purchase_role.map(K=>String(K).trim()):S=String(h.purchase_role).split(",").map(re=>re.trim()).filter(re=>re.length>0),_(S)}}}catch{}})()},[t]);const T=Array.isArray(r)&&r.length>0?r:I,z=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo"),H=z,Z=T.includes("app_admin")||l?.requester_name===N,le=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo"),de=l?.requester_name===N,G=le||de;console.log("Receipt Check Debug:",{activeTab:o,canReceiptCheck:G,isAdmin:le,isRequester:de,currentUserName:N,requesterName:l?.requester_name,effectiveRoles:T});const ge=T.includes("middle_manager")||T.includes("app_admin")||T.includes("ceo"),xe=T.includes("final_approver")||T.includes("app_admin")||T.includes("ceo");console.log("=== PurchaseDetailModal Debug ==="),console.log("Current User Roles (prop):",r),console.log("User Roles (direct load):",I),console.log("Effective Roles:",T),console.log("Can Approve Middle:",ge),console.log("Can Approve Final:",xe),console.log("Is Editing:",u),console.log("Middle Manager Status:",l?.middle_manager_status),console.log("Final Manager Status:",l?.final_manager_status),console.log("================================"),v.useEffect(()=>{e&&t&&R(e.toString())},[e,t]);const R=async p=>{try{f(!0);const y=tt(),{data:h,error:S}=await y.from("purchase_requests").select(`
          *,
          vendors(id, vendor_name),
          purchase_request_items(*)
        `).eq("id",p).single();if(S)throw S;if(h){const K={...h,items:h.purchase_request_items||[],vendor:h.vendors||{id:0,vendor_name:"알 수 없음"},vendor_contacts:[]};m(K),C(K),j(K.items||[])}}catch{L.error("발주 상세 정보를 불러오는데 실패했습니다.")}finally{f(!1)}},X=()=>l?l.is_received?i.jsx(he,{className:"bg-green-100 text-green-800",children:"입고완료"}):l.middle_manager_status==="approved"&&l.final_manager_status==="approved"?i.jsx(he,{className:"bg-hansl-100 text-hansl-800",children:"구매진행"}):l.middle_manager_status==="rejected"||l.final_manager_status==="rejected"?i.jsx(he,{className:"bg-red-100 text-red-800",children:"반려"}):i.jsx(he,{className:"bg-yellow-100 text-yellow-800",children:"승인대기"}):null,Q=p=>p?new Date(p).toLocaleDateString("ko-KR"):"-",ye=p=>new Intl.NumberFormat("ko-KR").format(p),ke=async()=>{if(!(!l||!x))try{const p=k.reduce((h,S)=>h+(S.amount_value||0),0),{error:y}=await M.from("purchase_requests").update({purchase_order_number:x.purchase_order_number,requester_name:x.requester_name,delivery_request_date:x.delivery_request_date,payment_category:x.payment_category,project_vendor:x.project_vendor,total_amount:p,updated_at:new Date().toISOString()}).eq("id",l.id);if(y)throw y;if(P.length>0){const{error:h}=await M.from("purchase_request_items").delete().in("id",P);if(h)throw h}for(const h of k)if(h.id){const{error:S}=await M.from("purchase_request_items").update({item_name:h.item_name,specification:h.specification,quantity:h.quantity,unit_price_value:h.unit_price_value,amount_value:h.amount_value,remark:h.remark,updated_at:new Date().toISOString()}).eq("id",h.id);if(S)throw S}else{const{error:S}=await M.from("purchase_request_items").insert({purchase_request_id:l.id,item_name:h.item_name,specification:h.specification,quantity:h.quantity,unit_price_value:h.unit_price_value,amount_value:h.amount_value,remark:h.remark,line_number:h.line_number||k.indexOf(h)+1,created_at:new Date().toISOString()});if(S)throw S}L.success("발주 내역이 수정되었습니다."),w(!1),D([]),c?.(),await R(e?.toString()||"")}catch{L.error("저장 중 오류가 발생했습니다.")}},se=(p,y,h)=>{const S=[...k];if(y==="amount_value")S[p]={...S[p],amount_value:h};else if(y==="quantity"||y==="unit_price_value"){const K=y==="quantity"?h:S[p].quantity,re=y==="unit_price_value"?h:S[p].unit_price_value;S[p]={...S[p],[y]:h,amount_value:K*re}}else S[p]={...S[p],[y]:h};j(S)},be=()=>{const p={item_name:"",specification:"",quantity:1,unit_price_value:0,amount_value:0,remark:"",line_number:k.length+1};j([...k,p])},We=p=>{const y=k[p];y.id&&D([...P,y.id]);const h=k.filter((S,K)=>K!==p);j(h)},Ne=async(p,y)=>{if(!G){L.error("입고 처리 권한이 없습니다.");return}try{const{error:h}=await M.from("purchase_request_items").update({is_received:y,received_at:y?new Date().toISOString():null}).eq("id",p);if(h)throw h;L.success(y?"입고 처리되었습니다.":"입고가 취소되었습니다."),e&&await R(e.toString()),c?.()}catch{L.error("입고 처리 중 오류가 발생했습니다.")}},Ee=async p=>{if(l)try{const y=p==="middle"?{middle_manager_status:"approved"}:{final_manager_status:"approved"},{error:h}=await M.from("purchase_requests").update(y).eq("id",l.id);if(h)throw h;L.success(`${p==="middle"?"중간":"최종"} 승인이 완료되었습니다.`),c?.(),await R(e?.toString()||"")}catch{L.error("승인 처리 중 오류가 발생했습니다.")}},Pe=async()=>{if(!(!l||!Z||!window.confirm("모든 품목을 입고완료 처리하시겠습니까?")))try{const{data:{user:y}}=await M.auth.getUser();if(!y)throw new Error("사용자 인증이 필요합니다");const h={is_received:!0,delivery_status:"received",received_quantity:null,received_date:new Date().toISOString(),received_by:y.id,received_by_name:N},{error:S}=await M.from("purchase_request_items").update(h).eq("purchase_request_id",l.id).eq("is_received",!1);if(S)throw S;L.success("모든 품목이 입고완료 처리되었습니다."),c?.(),await R(e?.toString()||"")}catch(y){console.error("전체 입고완료 처리 오류:",y),L.error("입고완료 처리 중 오류가 발생했습니다.")}},_e=async(p,y)=>{if(!(!l||!Z||!window.confirm(`"${y}" 품목을 입고완료 처리하시겠습니까?`)))try{const{data:{user:S}}=await M.auth.getUser();if(!S)throw new Error("사용자 인증이 필요합니다");const K={is_received:!0,delivery_status:"received",received_date:new Date().toISOString(),received_by:S.id,received_by_name:N},{error:re}=await M.from("purchase_request_items").update(K).eq("id",p);if(re)throw re;L.success(`"${y}" 품목이 입고완료 처리되었습니다.`),c?.(),await R(e?.toString()||"")}catch(S){console.error("개별 입고완료 처리 오류:",S),L.error("입고완료 처리 중 오류가 발생했습니다.")}},Te=async p=>{if(!(!l||!window.prompt("반려 사유를 입력해주세요:")))try{const h=p==="middle"?{middle_manager_status:"rejected"}:{final_manager_status:"rejected"},{error:S}=await M.from("purchase_requests").update(h).eq("id",l.id);if(S)throw S;L.success(`${p==="middle"?"중간":"최종"} 반려가 완료되었습니다.`),c?.(),await R(e?.toString()||"")}catch{L.error("반려 처리 중 오류가 발생했습니다.")}},Fe=i.jsx(i.Fragment,{children:d?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-hansl-600"})}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(bn,{className:"w-5 h-5 mr-2 text-gray-700"}),"기본 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청자"}),u?i.jsx(oe,{value:x?.requester_name||"",onChange:p=>C(y=>y?{...y,requester_name:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.requester_name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청일"}),i.jsx("p",{className:"font-medium text-gray-900",children:Q(l.request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"입고예정일"}),u?i.jsx(xo,{date:x?.delivery_request_date?new Date(x.delivery_request_date):void 0,onDateChange:p=>C(y=>y?{...y,delivery_request_date:p?.toISOString().split("T")[0]||""}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:Q(l.delivery_request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"결제유형"}),u?i.jsx(oe,{value:x?.payment_category||"",onChange:p=>C(y=>y?{...y,payment_category:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.payment_category||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(_n,{className:"w-5 h-5 mr-2 text-gray-700"}),"업체 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"업체명"}),u?i.jsx(oe,{value:x?.vendor?.vendor_name||x?.vendor_name||"",onChange:p=>C(y=>y?{...y,vendor_name:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.vendor?.vendor_name||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"프로젝트 업체"}),u?i.jsx(oe,{value:x?.project_vendor||"",onChange:p=>C(y=>y?{...y,project_vendor:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:l.project_vendor||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center text-gray-900",children:[i.jsx(rt,{className:"w-5 h-5 mr-2 text-gray-700"}),"품목 리스트"]}),!u&&Z&&l?.items?.some(p=>!p.is_received)&&i.jsxs(V,{size:"sm",onClick:Pe,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(ot,{className:"w-4 h-4 mr-1"}),"전체 입고완료"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden shadow-sm",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[G&&o==="receipt"&&i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"품명"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"규격"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"수량"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"단가"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"금액"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"비고"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고상태"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(u?k:l.items)?.map((p,y)=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[G&&o==="receipt"&&i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("div",{className:"flex items-center justify-center",children:p.is_received?i.jsxs("button",{onClick:()=>Ne(p.id,!1),className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-md hover:bg-green-200 transition-colors",disabled:!G,children:[i.jsx(Ae,{className:"w-3 h-3"}),"입고완료"]}):i.jsxs("button",{onClick:()=>Ne(p.id,!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!G,children:[i.jsx(rt,{className:"w-3 h-3"}),"미입고"]})})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:p.item_name,onChange:h=>se(y,"item_name",h.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:p.item_name})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:p.specification,onChange:h=>se(y,"specification",h.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:p.specification})}),i.jsx("td",{className:"px-4 py-3 text-center",children:u?i.jsx(oe,{type:"number",value:p.quantity,onChange:h=>se(y,"quantity",Number(h.target.value)),className:"text-sm text-center w-20 mx-auto"}):i.jsx("span",{className:"text-sm",children:p.quantity})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:p.unit_price_value,onChange:h=>se(y,"unit_price_value",Number(h.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[ye(p.unit_price_value)," ",l.currency]})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:p.amount_value,onChange:h=>se(y,"amount_value",Number(h.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[ye(p.amount_value)," ",l.currency]})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oe,{value:p.remark||"",onChange:h=>se(y,"remark",h.target.value),className:"text-sm"}),i.jsx(V,{size:"sm",variant:"ghost",onClick:()=>We(y),className:"text-red-600 hover:bg-red-50",children:i.jsx(nt,{className:"w-4 h-4"})})]}):i.jsx("span",{className:"text-sm",children:p.remark||"-"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:p.is_received?i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(he,{className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Ae,{className:"w-3 h-3 mr-1"}),"입고완료"]})}):!u&&Z?i.jsxs(V,{size:"sm",onClick:()=>_e(p.id,p.item_name),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1",children:[i.jsx(ot,{className:"w-3 h-3 mr-1"}),"입고완료"]}):i.jsx(he,{className:"bg-gray-100 text-gray-600 border-gray-200",children:"입고대기"})})]},y))}),i.jsx("tfoot",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:(G&&o==="receipt"?1:0)+5,className:"px-3 py-2 text-sm font-semibold text-right",children:"총액"}),i.jsxs("td",{className:"px-3 py-2 text-sm font-semibold text-right",children:[ye((u?k:l.items)?.reduce((p,y)=>p+(y.amount_value||0),0)||0)," ",l.currency]}),i.jsx("td",{})]})})]})}),u&&i.jsxs(V,{size:"sm",variant:"outline",onClick:be,className:"w-full mt-2",children:[i.jsx(Un,{className:"w-4 h-4 mr-1"}),"항목 추가"]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[i.jsx(wn,{className:"w-4 h-4 mr-2"}),"승인 정보"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"중간승인"}),i.jsx(he,{variant:l.middle_manager_status==="approved"?"default":"secondary",className:l.middle_manager_status==="approved"?"bg-green-100 text-green-800":l.middle_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:l.middle_manager_status==="approved"?"승인":l.middle_manager_status==="rejected"?"반려":"대기"})]}),!u&&ge&&l.middle_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{size:"sm",onClick:()=>Ee("middle"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Ae,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Te("middle"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(st,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"최종승인"}),i.jsx(he,{variant:l.final_manager_status==="approved"?"default":"secondary",className:l.final_manager_status==="approved"?"bg-green-100 text-green-800":l.final_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:l.final_manager_status==="approved"?"승인":l.final_manager_status==="rejected"?"반려":"대기"})]}),!u&&xe&&l.middle_manager_status==="approved"&&l.final_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(V,{size:"sm",onClick:()=>Ee("final"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Ae,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Te("final"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(st,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})})]})]})]}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"발주 정보를 불러올 수 없습니다."})});return s?Fe:i.jsx(Sn,{open:t,onOpenChange:n,children:i.jsxs(Wn,{className:"w-full max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(En,{children:i.jsxs(Pn,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xl font-bold",children:u?"발주 내역 수정":"발주 상세 정보"}),l&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:["#",l.purchase_order_number]}),!u&&X(),!u&&z&&i.jsxs(i.Fragment,{children:[i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"text-blue-600 hover:bg-blue-50",children:[i.jsx(Hn,{className:"w-4 h-4 mr-1"}),"수정"]}),H&&a&&i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>a(l),className:"text-red-600 hover:bg-red-50",children:[i.jsx(nt,{className:"w-4 h-4 mr-1"}),"삭제"]})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{w(!1),C(l),j(l.items||[]),D([])},children:[i.jsx(kn,{className:"w-4 h-4 mr-1"}),"취소"]}),i.jsxs(V,{size:"sm",onClick:ke,className:"bg-hansl-600 hover:bg-hansl-700 text-white",children:[i.jsx(Gn,{className:"w-4 h-4 mr-1"}),"저장"]})]})]})]})}),Fe]})})}export{rt as P,ot as T,jo as a,go as b,yo as c,vo as d};
//# sourceMappingURL=PurchaseDetailModal-B9VEoIwC.js.map
