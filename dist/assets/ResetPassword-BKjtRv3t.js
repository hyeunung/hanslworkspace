import{a as e,r as s,j as r,c as a}from"./index-BvgUOoDT.js";function t(){const t=e(),[l,n]=s.useState(""),[d,i]=s.useState(""),[c,o]=s.useState(!1),[m,x]=s.useState(null),[u,h]=s.useState(!1);s.useEffect(()=>{(async()=>{const e=a(),{data:{user:s}}=await e.auth.getUser();s||x("인증이 필요합니다. 이메일 링크를 다시 확인해주세요.")})()},[]);return u?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8 max-w-md w-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-2xl",children:"✅"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"비밀번호 변경 완료"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"비밀번호가 성공적으로 변경되었습니다."}),r.jsx("p",{className:"text-sm text-gray-500",children:"잠시 후 로그인 페이지로 이동합니다..."})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"flex flex-col items-center mb-8",children:[r.jsx("img",{src:"/logo_eng.svg",alt:"HANSL Logo",className:"w-[150px] h-[60px] mb-4"}),r.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"비밀번호 재설정"})]}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),x(null),l===d)if(l.length<6)x("비밀번호는 최소 6자 이상이어야 합니다.");else{o(!0);try{const e=a(),{error:s}=await e.auth.updateUser({password:l});if(s)return x(`비밀번호 변경 실패: ${s.message}`),void o(!1);h(!0),setTimeout(()=>{t("/")},2e3)}catch(s){x(`오류가 발생했습니다: ${s instanceof Error?s.message:"알 수 없는 오류"}`),o(!1)}}else x("비밀번호가 일치하지 않습니다.")},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"새 비밀번호"}),r.jsx("input",{id:"password",type:"password",value:l,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"최소 6자 이상",required:!0,minLength:6})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),r.jsx("input",{id:"confirmPassword",type:"password",value:d,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"비밀번호를 다시 입력하세요",required:!0,minLength:6})]}),m&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:m})}),r.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 px-4 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"처리 중...":"비밀번호 변경"})]})]})})})}export{t as default};
//# sourceMappingURL=ResetPassword-BKjtRv3t.js.map
