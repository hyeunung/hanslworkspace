import{c as He,o as y,r as W,j as i,k as q,m as Ke,b as L,a as Ge,F as Zt,B as Ut,U as Kt,X as Gt}from"./index-DIJGO-oL.js";import{a as Ve}from"./helpers-BMiTuHMe.js";import{t as V,B as he}from"./index-CkT-BL5-.js";import{I as oe,D as Vt,a as Lt,b as Xt,c as Jt}from"./input-CJu3_9oq.js";import{t as Z,c as ne,n as De,s as Ae,g as Qt,d as en,f as at,a as tn,b as nn,i as sn,e as rn,h as on,j as an,k as it,l as ln,C as Se,P as cn}from"./format-CrIgHi5H.js";import{C as dn}from"./eye-CUaCm4F7.js";import{C as un}from"./chevron-down-BcqJhvkg.js";import{P as fn,a as mn,b as hn}from"./popover-Bcc-yhIo.js";import{C as pn}from"./calendar-DV8Eaofj.js";import{T as Le}from"./card-gozZlbJF.js";import{P as yn}from"./plus-D7kziSuW.js";import{S as gn}from"./save-BZUa8scS.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xe=He("circle-x",xn);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Je=He("package",vn);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Qe=He("truck",bn);function lt(e,t,n){const s=Z(e,n?.in);return isNaN(t)?ne(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function ct(e,t,n){const s=Z(e,n?.in);if(isNaN(t))return ne(e,NaN);if(!t)return s;const r=s.getDate(),o=ne(e,s.getTime());o.setMonth(s.getMonth()+t+1,0);const l=o.getDate();return r>=l?o:(s.setFullYear(o.getFullYear(),o.getMonth(),r),s)}function _n(e,t,n){return lt(e,t*7,n)}function wn(e,t,n){return ct(e,t*12,n)}function kn(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=Z(r,s);(!n||n<o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function Nn(e,t){let n,s=t?.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=ne.bind(null,r));const o=Z(r,s);(!n||n>o||isNaN(+o))&&(n=o)}),ne(s,n||NaN)}function Dn(e,t,n){const[s,r]=De(n?.in,e,t);return+Ae(s)==+Ae(r)}function Mn(e,t,n){const[s,r]=De(n?.in,e,t),o=s.getFullYear()-r.getFullYear(),l=s.getMonth()-r.getMonth();return o*12+l}function Cn(e,t){const n=Z(e,t?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function On(e,t){const[n,s]=De(e,t.start,t.end);return{start:n,end:s}}function jn(e,t){const{start:n,end:s}=On(t?.in,e);let r=+n>+s;const o=r?+n:+s,l=r?s:n;l.setHours(0,0,0,0),l.setDate(1);let a=1;const d=[];for(;+l<=o;)d.push(ne(n,l)),l.setMonth(l.getMonth()+a);return r?d.reverse():d}function Sn(e,t){const n=Z(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Wn(e,t){const n=Z(e,t?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function dt(e,t){const n=Qt(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=Z(e,t?.in),o=r.getDay(),l=(o<s?-7:0)+6-(o-s);return r.setDate(r.getDate()+l),r.setHours(23,59,59,999),r}function En(e,t){return dt(e,{...t,weekStartsOn:1})}function Tn(e,t){const n=Z(e,t?.in),s=n.getFullYear(),r=n.getMonth(),o=ne(n,0);return o.setFullYear(s,r+1,0),o.setHours(0,0,0,0),o.getDate()}function Bn(e,t){return Z(e,t?.in).getMonth()}function Yn(e,t){return Z(e,t?.in).getFullYear()}function qn(e,t){return+Z(e)>+Z(t)}function In(e,t){return+Z(e)<+Z(t)}function Fn(e,t,n){const[s,r]=De(n?.in,e,t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function Pn(e,t,n){const[s,r]=De(n?.in,e,t);return s.getFullYear()===r.getFullYear()}function An(e,t,n){const s=Z(e,n?.in),r=s.getFullYear(),o=s.getDate(),l=ne(e,0);l.setFullYear(r,t,15),l.setHours(0,0,0,0);const a=Tn(l);return s.setMonth(t,Math.min(o,a)),s}function zn(e,t,n){const s=Z(e,n?.in);return isNaN(+s)?ne(e,NaN):(s.setFullYear(t),s)}function Hn(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Rn={},Ne={};function ge(e,t){try{const s=(Rn[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return s in Ne?Ne[s]:et(s,s.split(":"))}catch{if(e in Ne)return Ne[e];const n=e?.match($n);return n?et(e,n.slice(1)):NaN}}const $n=/([+-]\d\d):?(\d\d)?/;function et(e,t){const n=+(t[0]||0),s=+(t[1]||0),r=+(t[2]||0)/60;return Ne[e]=n*60+s>0?n*60+s+r:n*60-s-r}class ie extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ge(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),ut(this),ze(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ie(...n,t):new ie(Date.now(),t)}withTimeZone(t){return new ie(+this,t)}getTimezoneOffset(){const t=-ge(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),ze(this),+this}[Symbol.for("constructDateFrom")](t){return new ie(+new Date(t),this.timeZone)}}const tt=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!tt.test(e))return;const t=e.replace(tt,"$1UTC");ie.prototype[t]&&(e.startsWith("get")?ie.prototype[e]=function(){return this.internal[t]()}:(ie.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Zn(this),+this},ie.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),ze(this),+this}))});function ze(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ge(e.timeZone,e)*60))}function Zn(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),ut(e)}function ut(e){const t=ge(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),o=-new Date(+s).getTimezoneOffset(),l=r-o,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const d=r-n;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const c=r>0?f.getSeconds():(f.getSeconds()-60)%60,m=Math.round(-(ge(e.timeZone,e)*60))%60;(m||c)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+c));const u=ge(e.timeZone,e),w=u>0?Math.floor(u):Math.ceil(u),M=-new Date(+e).getTimezoneOffset()-w,_=w!==n,j=M-d;if(_&&j){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j);const T=ge(e.timeZone,e),N=T>0?Math.floor(T):Math.ceil(T),I=w-N;I&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+I),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+I))}}class K extends ie{static tz(t,...n){return n.length?new K(...n,t):new K(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${Hn(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new K(+this,t)}[Symbol.for("constructDateFrom")](t){return new K(+new Date(t),this.timeZone)}}const nt=5,Un=4;function Kn(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),o=t.addDays(r,nt*7-1);return t.getMonth(e)===t.getMonth(o)?nt:Un}function ft(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-6):t.addDays(n,-1*(s-1))}function Gn(e,t){const n=ft(e,t),s=Kn(e,t);return t.addDays(n,s*7-1)}class me{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?K.tz(this.options.timeZone):new this.Date,this.newDate=(s,r,o)=>this.overrides?.newDate?this.overrides.newDate(s,r,o):this.options.timeZone?new K(s,r,o,this.options.timeZone):new Date(s,r,o),this.addDays=(s,r)=>this.overrides?.addDays?this.overrides.addDays(s,r):lt(s,r),this.addMonths=(s,r)=>this.overrides?.addMonths?this.overrides.addMonths(s,r):ct(s,r),this.addWeeks=(s,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(s,r):_n(s,r),this.addYears=(s,r)=>this.overrides?.addYears?this.overrides.addYears(s,r):wn(s,r),this.differenceInCalendarDays=(s,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):en(s,r),this.differenceInCalendarMonths=(s,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):Mn(s,r),this.eachMonthOfInterval=s=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):jn(s),this.endOfBroadcastWeek=s=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Gn(s,this),this.endOfISOWeek=s=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(s):En(s),this.endOfMonth=s=>this.overrides?.endOfMonth?this.overrides.endOfMonth(s):Cn(s),this.endOfWeek=(s,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(s,r):dt(s,this.options),this.endOfYear=s=>this.overrides?.endOfYear?this.overrides.endOfYear(s):Wn(s),this.format=(s,r,o)=>{const l=this.overrides?.format?this.overrides.format(s,r,this.options):at(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=s=>this.overrides?.getISOWeek?this.overrides.getISOWeek(s):tn(s),this.getMonth=(s,r)=>this.overrides?.getMonth?this.overrides.getMonth(s,this.options):Bn(s,this.options),this.getYear=(s,r)=>this.overrides?.getYear?this.overrides.getYear(s,this.options):Yn(s,this.options),this.getWeek=(s,r)=>this.overrides?.getWeek?this.overrides.getWeek(s,this.options):nn(s,this.options),this.isAfter=(s,r)=>this.overrides?.isAfter?this.overrides.isAfter(s,r):qn(s,r),this.isBefore=(s,r)=>this.overrides?.isBefore?this.overrides.isBefore(s,r):In(s,r),this.isDate=s=>this.overrides?.isDate?this.overrides.isDate(s):sn(s),this.isSameDay=(s,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(s,r):Dn(s,r),this.isSameMonth=(s,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(s,r):Fn(s,r),this.isSameYear=(s,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(s,r):Pn(s,r),this.max=s=>this.overrides?.max?this.overrides.max(s):kn(s),this.min=s=>this.overrides?.min?this.overrides.min(s):Nn(s),this.setMonth=(s,r)=>this.overrides?.setMonth?this.overrides.setMonth(s,r):An(s,r),this.setYear=(s,r)=>this.overrides?.setYear?this.overrides.setYear(s,r):zn(s,r),this.startOfBroadcastWeek=(s,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):ft(s,this),this.startOfDay=s=>this.overrides?.startOfDay?this.overrides.startOfDay(s):Ae(s),this.startOfISOWeek=s=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(s):rn(s),this.startOfMonth=s=>this.overrides?.startOfMonth?this.overrides.startOfMonth(s):Sn(s),this.startOfWeek=(s,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(s,this.options):on(s,this.options),this.startOfYear=s=>this.overrides?.startOfYear?this.overrides.startOfYear(s):an(s),this.options={locale:it,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}}const le=new me;class mt{constructor(t,n,s=le){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Vn{constructor(t,n){this.date=t,this.weeks=n}}class Ln{constructor(t,n){this.days=n,this.weekNumber=t}}function Xn(e){return y.createElement("button",{...e})}function Jn(e){return y.createElement("span",{...e})}function Qn(e){const{size:t=24,orientation:n="left",className:s}=e;return y.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&y.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&y.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&y.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&y.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function es(e){const{day:t,modifiers:n,...s}=e;return y.createElement("td",{...s})}function ts(e){const{day:t,modifiers:n,...s}=e,r=y.useRef(null);return y.useEffect(()=>{n.focused&&r.current?.focus()},[n.focused]),y.createElement("button",{ref:r,...s})}var v;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(v||(v={}));var A;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(A||(A={}));var te;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(te||(te={}));var Q;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Q||(Q={}));function ns(e){const{options:t,className:n,components:s,classNames:r,...o}=e,l=[r[v.Dropdown],n].join(" "),a=t?.find(({value:d})=>d===o.value);return y.createElement("span",{"data-disabled":o.disabled,className:r[v.DropdownRoot]},y.createElement(s.Select,{className:l,...o},t?.map(({value:d,label:f,disabled:c})=>y.createElement(s.Option,{key:d,value:d,disabled:c},f))),y.createElement("span",{className:r[v.CaptionLabel],"aria-hidden":!0},a?.label,y.createElement(s.Chevron,{orientation:"down",size:18,className:r[v.Chevron]})))}function ss(e){return y.createElement("div",{...e})}function rs(e){return y.createElement("div",{...e})}function os(e){const{calendarMonth:t,displayIndex:n,...s}=e;return y.createElement("div",{...s},e.children)}function as(e){const{calendarMonth:t,displayIndex:n,...s}=e;return y.createElement("div",{...s})}function is(e){return y.createElement("table",{...e})}function ls(e){return y.createElement("div",{...e})}const ht=W.createContext(void 0);function Me(){const e=W.useContext(ht);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function cs(e){const{components:t}=Me();return y.createElement(t.Dropdown,{...e})}function ds(e){const{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r,...o}=e,{components:l,classNames:a,labels:{labelPrevious:d,labelNext:f}}=Me(),c=W.useCallback(u=>{r&&n?.(u)},[r,n]),m=W.useCallback(u=>{s&&t?.(u)},[s,t]);return y.createElement("nav",{...o},y.createElement(l.PreviousMonthButton,{type:"button",className:a[v.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":d(s),onClick:m},y.createElement(l.Chevron,{disabled:s?void 0:!0,className:a[v.Chevron],orientation:"left"})),y.createElement(l.NextMonthButton,{type:"button",className:a[v.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:c},y.createElement(l.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[v.Chevron]})))}function us(e){const{components:t}=Me();return y.createElement(t.Button,{...e})}function fs(e){return y.createElement("option",{...e})}function ms(e){const{components:t}=Me();return y.createElement(t.Button,{...e})}function hs(e){const{rootRef:t,...n}=e;return y.createElement("div",{...n,ref:t})}function ps(e){return y.createElement("select",{...e})}function ys(e){const{week:t,...n}=e;return y.createElement("tr",{...n})}function gs(e){return y.createElement("th",{...e})}function xs(e){return y.createElement("thead",{"aria-hidden":!0},y.createElement("tr",{...e}))}function vs(e){const{week:t,...n}=e;return y.createElement("th",{...n})}function bs(e){return y.createElement("th",{...e})}function _s(e){return y.createElement("tbody",{...e})}function ws(e){const{components:t}=Me();return y.createElement(t.Dropdown,{...e})}const ks=Object.freeze(Object.defineProperty({__proto__:null,Button:Xn,CaptionLabel:Jn,Chevron:Qn,Day:es,DayButton:ts,Dropdown:ns,DropdownNav:ss,Footer:rs,Month:os,MonthCaption:as,MonthGrid:is,Months:ls,MonthsDropdown:cs,Nav:ds,NextMonthButton:us,Option:fs,PreviousMonthButton:ms,Root:hs,Select:ps,Week:ys,WeekNumber:vs,WeekNumberHeader:bs,Weekday:gs,Weekdays:xs,Weeks:_s,YearsDropdown:ws},Symbol.toStringTag,{value:"Module"}));function ue(e,t,n=!1,s=le){let{from:r,to:o}=e;const{differenceInCalendarDays:l,isSameDay:a}=s;return r&&o?(l(o,r)<0&&([r,o]=[o,r]),l(t,r)>=(n?1:0)&&l(o,t)>=(n?1:0)):!n&&o?a(o,t):!n&&r?a(r,t):!1}function pt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Re(e){return!!(e&&typeof e=="object"&&"from"in e)}function yt(e){return!!(e&&typeof e=="object"&&"after"in e)}function gt(e){return!!(e&&typeof e=="object"&&"before"in e)}function xt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function vt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function fe(e,t,n=le){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:o,isAfter:l}=n;return s.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(e,a);if(vt(a,n))return a.includes(e);if(Re(a))return ue(a,e,!1,n);if(xt(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(pt(a)){const d=o(a.before,e),f=o(a.after,e),c=d>0,m=f<0;return l(a.before,a.after)?m&&c:c||m}return yt(a)?o(e,a.after)>0:gt(a)?o(a.before,e)>0:typeof a=="function"?a(e):!1})}function Ns(e,t,n,s,r){const{disabled:o,hidden:l,modifiers:a,showOutsideDays:d,broadcastCalendar:f,today:c}=t,{isSameDay:m,isSameMonth:u,startOfMonth:w,isBefore:x,endOfMonth:M,isAfter:_}=r,j=n&&w(n),T=s&&M(s),N={[A.focused]:[],[A.outside]:[],[A.disabled]:[],[A.hidden]:[],[A.today]:[]},I={};for(const b of e){const{date:k,displayMonth:C}=b,D=!!(C&&!u(k,C)),B=!!(j&&x(k,j)),H=!!(T&&_(k,T)),$=!!(o&&fe(k,o,r)),U=!!(l&&fe(k,l,r))||B||H||!f&&!d&&D||f&&d===!1&&D,ce=m(k,c??r.today());D&&N.outside.push(b),$&&N.disabled.push(b),U&&N.hidden.push(b),ce&&N.today.push(b),a&&Object.keys(a).forEach(de=>{const G=a?.[de];G&&fe(k,G,r)&&(I[de]?I[de].push(b):I[de]=[b])})}return b=>{const k={[A.focused]:!1,[A.disabled]:!1,[A.hidden]:!1,[A.outside]:!1,[A.today]:!1},C={};for(const D in N){const B=N[D];k[D]=B.some(H=>H===b)}for(const D in I)C[D]=I[D].some(B=>B===b);return{...k,...C}}}function Ds(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[o])=>(n[o]?r.push(n[o]):t[A[o]]?r.push(t[A[o]]):t[te[o]]&&r.push(t[te[o]]),r),[t[v.Day]])}function Ms(e){return{...ks,...e}}function Cs(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,s])=>{n.startsWith("data-")&&(t[n]=s)}),t}function $e(){const e={};for(const t in v)e[v[t]]=`rdp-${v[t]}`;for(const t in A)e[A[t]]=`rdp-${A[t]}`;for(const t in te)e[te[t]]=`rdp-${te[t]}`;for(const t in Q)e[Q[t]]=`rdp-${Q[t]}`;return e}function bt(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const Os=bt;function js(e,t,n){return(n??new me(t)).format(e,"d")}function Ss(e,t=le){return t.format(e,"LLLL")}function Ws(e,t,n){return(n??new me(t)).format(e,"cccccc")}function Es(e,t=le){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function Ts(){return""}function _t(e,t=le){return t.format(e,"yyyy")}const Bs=_t,Ys=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:bt,formatDay:js,formatMonthCaption:Os,formatMonthDropdown:Ss,formatWeekNumber:Es,formatWeekNumberHeader:Ts,formatWeekdayName:Ws,formatYearCaption:Bs,formatYearDropdown:_t},Symbol.toStringTag,{value:"Module"}));function qs(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Ys,...e}}function Is(e,t,n,s,r){const{startOfMonth:o,startOfYear:l,endOfYear:a,eachMonthOfInterval:d,getMonth:f}=r;return d({start:l(e),end:a(e)}).map(u=>{const w=s.formatMonthDropdown(u,r),x=f(u),M=t&&u<o(t)||n&&u>o(n)||!1;return{value:x,label:w,disabled:M}})}function Fs(e,t={},n={}){let s={...t?.[v.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s={...s,...n?.[r]}}),s}function Ps(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),o=[];for(let l=0;l<7;l++){const a=e.addDays(r,l);o.push(a)}return o}function As(e,t,n,s,r=!1){if(!e||!t)return;const{startOfYear:o,endOfYear:l,addYears:a,getYear:d,isBefore:f,isSameYear:c}=s,m=o(e),u=l(t),w=[];let x=m;for(;f(x,u)||c(x,u);)w.push(x),x=a(x,1);return r&&w.reverse(),w.map(M=>{const _=n.formatYearDropdown(M,s);return{value:d(M),label:_,disabled:!1}})}function wt(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const zs=wt;function kt(e,t,n){return(n??new me(t)).format(e,"LLLL y")}const Hs=kt;function Rs(e,t,n,s){let r=(s??new me(n)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function $s(e){return"Choose the Month"}function Zs(){return""}function Us(e){return"Go to the Next Month"}function Ks(e){return"Go to the Previous Month"}function Gs(e,t,n){return(n??new me(t)).format(e,"cccc")}function Vs(e,t){return`Week ${e}`}function Ls(e){return"Week Number"}function Xs(e){return"Choose the Year"}const Js=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Hs,labelDay:zs,labelDayButton:wt,labelGrid:kt,labelGridcell:Rs,labelMonthDropdown:$s,labelNav:Zs,labelNext:Us,labelPrevious:Ks,labelWeekNumber:Vs,labelWeekNumberHeader:Ls,labelWeekday:Gs,labelYearDropdown:Xs},Symbol.toStringTag,{value:"Module"})),Ce=e=>e instanceof HTMLElement?e:null,Ie=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Qs=e=>Ce(e.querySelector("[data-animated-month]")),Fe=e=>Ce(e.querySelector("[data-animated-caption]")),Pe=e=>Ce(e.querySelector("[data-animated-weeks]")),er=e=>Ce(e.querySelector("[data-animated-nav]")),tr=e=>Ce(e.querySelector("[data-animated-weekdays]"));function nr(e,t,{classNames:n,months:s,focused:r,dateLib:o}){const l=W.useRef(null),a=W.useRef(s),d=W.useRef(!1);W.useLayoutEffect(()=>{const f=a.current;if(a.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||f.length===0||s.length!==f.length)return;const c=o.isSameMonth(s[0].date,f[0].date),m=o.isAfter(s[0].date,f[0].date),u=m?n[Q.caption_after_enter]:n[Q.caption_before_enter],w=m?n[Q.weeks_after_enter]:n[Q.weeks_before_enter],x=l.current,M=e.current.cloneNode(!0);if(M instanceof HTMLElement?(Ie(M).forEach(N=>{if(!(N instanceof HTMLElement))return;const I=Qs(N);I&&N.contains(I)&&N.removeChild(I);const b=Fe(N);b&&b.classList.remove(u);const k=Pe(N);k&&k.classList.remove(w)}),l.current=M):l.current=null,d.current||c||r)return;const _=x instanceof HTMLElement?Ie(x):[],j=Ie(e.current);if(j?.every(T=>T instanceof HTMLElement)&&_&&_.every(T=>T instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const T=er(e.current);T&&(T.style.zIndex="1"),j.forEach((N,I)=>{const b=_[I];if(!b)return;N.style.position="relative",N.style.overflow="hidden";const k=Fe(N);k&&k.classList.add(u);const C=Pe(N);C&&C.classList.add(w);const D=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),T&&(T.style.zIndex=""),k&&k.classList.remove(u),C&&C.classList.remove(w),N.style.position="",N.style.overflow="",N.contains(b)&&N.removeChild(b)};b.style.pointerEvents="none",b.style.position="absolute",b.style.overflow="hidden",b.setAttribute("aria-hidden","true");const B=tr(b);B&&(B.style.opacity="0");const H=Fe(b);H&&(H.classList.add(m?n[Q.caption_before_exit]:n[Q.caption_after_exit]),H.addEventListener("animationend",D));const $=Pe(b);$&&$.classList.add(m?n[Q.weeks_before_exit]:n[Q.weeks_after_exit]),N.insertBefore(b,N.firstChild)})}})}function sr(e,t,n,s){const r=e[0],o=e[e.length-1],{ISOWeek:l,fixedWeeks:a,broadcastCalendar:d}=n??{},{addDays:f,differenceInCalendarDays:c,differenceInCalendarMonths:m,endOfBroadcastWeek:u,endOfISOWeek:w,endOfMonth:x,endOfWeek:M,isAfter:_,startOfBroadcastWeek:j,startOfISOWeek:T,startOfWeek:N}=s,I=d?j(r,s):l?T(r):N(r),b=d?u(o):l?w(x(o)):M(x(o)),k=c(b,I),C=m(o,r)+1,D=[];for(let $=0;$<=k;$++){const U=f(I,$);if(t&&_(U,t))break;D.push(U)}const H=(d?35:42)*C;if(a&&D.length<H){const $=H-D.length;for(let U=0;U<$;U++){const ce=f(D[D.length-1],1);D.push(ce)}}return D}function rr(e){const t=[];return e.reduce((n,s)=>{const r=s.weeks.reduce((o,l)=>o.concat(l.days.slice()),t.slice());return n.concat(r.slice())},t.slice())}function or(e,t,n,s){const{numberOfMonths:r=1}=n,o=[];for(let l=0;l<r;l++){const a=s.addMonths(e,l);if(t&&a>t)break;o.push(a)}return o}function st(e,t,n,s){const{month:r,defaultMonth:o,today:l=s.today(),numberOfMonths:a=1}=e;let d=r||o||l;const{differenceInCalendarMonths:f,addMonths:c,startOfMonth:m}=s;if(n&&f(n,d)<a-1){const u=-1*(a-1);d=c(n,u)}return t&&f(d,t)<0&&(d=t),m(d)}function ar(e,t,n,s){const{addDays:r,endOfBroadcastWeek:o,endOfISOWeek:l,endOfMonth:a,endOfWeek:d,getISOWeek:f,getWeek:c,startOfBroadcastWeek:m,startOfISOWeek:u,startOfWeek:w}=s,x=e.reduce((M,_)=>{const j=n.broadcastCalendar?m(_,s):n.ISOWeek?u(_):w(_),T=n.broadcastCalendar?o(_):n.ISOWeek?l(a(_)):d(a(_)),N=t.filter(C=>C>=j&&C<=T),I=n.broadcastCalendar?35:42;if(n.fixedWeeks&&N.length<I){const C=t.filter(D=>{const B=I-N.length;return D>T&&D<=r(T,B)});N.push(...C)}const b=N.reduce((C,D)=>{const B=n.ISOWeek?f(D):c(D),H=C.find(U=>U.weekNumber===B),$=new mt(D,_,s);return H?H.days.push($):C.push(new Ln(B,[$])),C},[]),k=new Vn(_,b);return M.push(k),M},[]);return n.reverseMonths?x.reverse():x}function ir(e,t){let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:o,startOfMonth:l,endOfMonth:a,addYears:d,endOfYear:f,newDate:c,today:m}=t,{fromYear:u,toYear:w,fromMonth:x,toMonth:M}=e;!n&&x&&(n=x),!n&&u&&(n=t.newDate(u,0,1)),!s&&M&&(s=M),!s&&w&&(s=c(w,11,31));const _=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=l(n):u?n=c(u,0,1):!n&&_&&(n=r(d(e.today??m(),-100))),s?s=a(s):w?s=c(w,11,31):!s&&_&&(s=f(e.today??m())),[n&&o(n),s&&o(s)]}function lr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o=1}=n,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o:1,c=l(e);if(!t)return a(c,f);if(!(d(t,e)<o))return a(c,f)}function cr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:o}=n,{startOfMonth:l,addMonths:a,differenceInCalendarMonths:d}=s,f=r?o??1:1,c=l(e);if(!t)return a(c,-f);if(!(d(c,t)<=0))return a(c,-f)}function dr(e){const t=[];return e.reduce((n,s)=>n.concat(s.weeks.slice()),t.slice())}function We(e,t){const[n,s]=W.useState(e);return[t===void 0?n:t,s]}function ur(e,t){const[n,s]=ir(e,t),{startOfMonth:r,endOfMonth:o}=t,l=st(e,n,s,t),[a,d]=We(l,e.month?l:void 0);W.useEffect(()=>{const k=st(e,n,s,t);d(k)},[e.timeZone]);const f=or(a,s,e,t),c=sr(f,e.endMonth?o(e.endMonth):void 0,e,t),m=ar(f,c,e,t),u=dr(m),w=rr(m),x=cr(a,n,e,t),M=lr(a,s,e,t),{disableNavigation:_,onMonthChange:j}=e,T=k=>u.some(C=>C.days.some(D=>D.isEqualTo(k))),N=k=>{if(_)return;let C=r(k);n&&C<r(n)&&(C=r(n)),s&&C>r(s)&&(C=r(s)),d(C),j?.(C)};return{months:m,weeks:u,days:w,navStart:n,navEnd:s,previousMonth:x,nextMonth:M,goToMonth:N,goToDay:k=>{T(k)||N(k.date)}}}var ae;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ae||(ae={}));function rt(e){return!e[A.disabled]&&!e[A.hidden]&&!e[A.outside]}function fr(e,t,n,s){let r,o=-1;for(const l of e){const a=t(l);rt(a)&&(a[A.focused]&&o<ae.FocusedModifier?(r=l,o=ae.FocusedModifier):s?.isEqualTo(l)&&o<ae.LastFocused?(r=l,o=ae.LastFocused):n(l.date)&&o<ae.Selected?(r=l,o=ae.Selected):a[A.today]&&o<ae.Today&&(r=l,o=ae.Today))}return r||(r=e.find(l=>rt(t(l)))),r}function mr(e,t,n,s,r,o,l){const{ISOWeek:a,broadcastCalendar:d}=o,{addDays:f,addMonths:c,addWeeks:m,addYears:u,endOfBroadcastWeek:w,endOfISOWeek:x,endOfWeek:M,max:_,min:j,startOfBroadcastWeek:T,startOfISOWeek:N,startOfWeek:I}=l;let k={day:f,week:m,month:c,year:u,startOfWeek:C=>d?T(C,l):a?N(C):I(C),endOfWeek:C=>d?w(C):a?x(C):M(C)}[e](n,t==="after"?1:-1);return t==="before"&&s?k=_([s,k]):t==="after"&&r&&(k=j([r,k])),k}function Nt(e,t,n,s,r,o,l,a=0){if(a>365)return;const d=mr(e,t,n.date,s,r,o,l),f=!!(o.disabled&&fe(d,o.disabled,l)),c=!!(o.hidden&&fe(d,o.hidden,l)),m=d,u=new mt(d,m,l);return!f&&!c?u:Nt(e,t,u,s,r,o,l,a+1)}function hr(e,t,n,s,r){const{autoFocus:o}=e,[l,a]=W.useState(),d=fr(t.days,n,s||(()=>!1),l),[f,c]=W.useState(o?d:void 0);return{isFocusTarget:M=>!!d?.isEqualTo(M),setFocused:c,focused:f,blur:()=>{a(f),c(void 0)},moveFocus:(M,_)=>{if(!f)return;const j=Nt(M,_,f,t.navStart,t.navEnd,e,r);j&&(t.goToDay(j),c(j))}}}function pr(e,t){const{selected:n,required:s,onSelect:r}=e,[o,l]=We(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t,f=w=>a?.some(x=>d(x,w))??!1,{min:c,max:m}=e;return{selected:a,select:(w,x,M)=>{let _=[...a??[]];if(f(w)){if(a?.length===c||s&&a?.length===1)return;_=a?.filter(j=>!d(j,w))}else a?.length===m?_=[w]:_=[..._,w];return r||l(_),r?.(_,w,x,M),_},isSelected:f}}function yr(e,t,n=0,s=0,r=!1,o=le){const{from:l,to:a}=t||{},{isSameDay:d,isAfter:f,isBefore:c}=o;let m;if(!l&&!a)m={from:e,to:n>0?void 0:e};else if(l&&!a)d(l,e)?n===0?m={from:l,to:e}:r?m={from:l,to:void 0}:m=void 0:c(e,l)?m={from:e,to:l}:m={from:l,to:e};else if(l&&a)if(d(l,e)&&d(a,e))r?m={from:l,to:a}:m=void 0;else if(d(l,e))m={from:l,to:n>0?void 0:e};else if(d(a,e))m={from:e,to:n>0?void 0:e};else if(c(e,l))m={from:e,to:a};else if(f(e,l))m={from:l,to:e};else if(f(e,a))m={from:l,to:e};else throw new Error("Invalid range");if(m?.from&&m?.to){const u=o.differenceInCalendarDays(m.to,m.from);s>0&&u>s?m={from:e,to:void 0}:n>1&&u<n&&(m={from:e,to:void 0})}return m}function gr(e,t,n=le){const s=Array.isArray(t)?t:[t];let r=e.from;const o=n.differenceInCalendarDays(e.to,e.from),l=Math.min(o,6);for(let a=0;a<=l;a++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function ot(e,t,n=le){return ue(e,t.from,!1,n)||ue(e,t.to,!1,n)||ue(t,e.from,!1,n)||ue(t,e.to,!1,n)}function xr(e,t,n=le){const s=Array.isArray(t)?t:[t];if(s.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?ue(e,a,!1,n):vt(a,n)?a.some(d=>ue(e,d,!1,n)):Re(a)?a.from&&a.to?ot(e,{from:a.from,to:a.to},n):!1:xt(a)?gr(e,a.dayOfWeek,n):pt(a)?n.isAfter(a.before,a.after)?ot(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):fe(e.from,a,n)||fe(e.to,a,n):yt(a)||gt(a)?fe(e.from,a,n)||fe(e.to,a,n):!1))return!0;const l=s.filter(a=>typeof a=="function");if(l.length){let a=e.from;const d=n.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(l.some(c=>c(a)))return!0;a=n.addDays(a,1)}}return!1}function vr(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:o,onSelect:l}=e,[a,d]=We(r,l?r:void 0),f=l?r:a;return{selected:f,select:(u,w,x)=>{const{min:M,max:_}=e,j=u?yr(u,f,M,_,o,t):void 0;return s&&n&&j?.from&&j.to&&xr({from:j.from,to:j.to},n,t)&&(j.from=u,j.to=void 0),l||d(j),l?.(j,u,w,x),j},isSelected:u=>f&&ue(f,u,!1,t)}}function br(e,t){const{selected:n,required:s,onSelect:r}=e,[o,l]=We(n,r?n:void 0),a=r?n:o,{isSameDay:d}=t;return{selected:a,select:(m,u,w)=>{let x=m;return!s&&a&&a&&d(m,a)&&(x=void 0),r||l(x),r?.(x,m,u,w),x},isSelected:m=>a?d(a,m):!1}}function _r(e,t){const n=br(e,t),s=pr(e,t),r=vr(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function wr(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new K(t.today,t.timeZone)),t.month&&(t.month=new K(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new K(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new K(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new K(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new K(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(E=>new K(E,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new K(t.selected.from,t.timeZone):void 0,to:t.selected.to?new K(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:o,locale:l,classNames:a}=W.useMemo(()=>{const E={...it,...t.locale};return{dateLib:new me({locale:E,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:Ms(t.components),formatters:qs(t.formatters),labels:{...Js,...t.labels},locale:E,classNames:{...$e(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:c,numberOfMonths:m=1,onDayBlur:u,onDayClick:w,onDayFocus:x,onDayKeyDown:M,onDayMouseEnter:_,onDayMouseLeave:j,onNextClick:T,onPrevClick:N,showWeekNumber:I,styles:b}=t,{formatCaption:k,formatDay:C,formatMonthDropdown:D,formatWeekNumber:B,formatWeekNumberHeader:H,formatWeekdayName:$,formatYearDropdown:U}=s,ce=ur(t,o),{days:de,months:G,navStart:pe,navEnd:xe,previousMonth:z,nextMonth:X,goToMonth:J}=ce,be=Ns(de,t,pe,xe,o),{isSelected:se,select:_e,selected:ve}=_r(t,o)??{},{blur:we,focused:ke,isFocusTarget:Ee,moveFocus:Oe,setFocused:ye}=hr(t,ce,be,se??(()=>!1),o),{labelDayButton:je,labelGridcell:p,labelGrid:g,labelMonthDropdown:h,labelNav:O,labelPrevious:R,labelNext:re,labelWeekday:Dt,labelWeekNumber:Mt,labelWeekNumberHeader:Ct,labelYearDropdown:Ot}=r,jt=W.useMemo(()=>Ps(o,t.ISOWeek),[o,t.ISOWeek]),Ze=f!==void 0||w!==void 0,Te=W.useCallback(()=>{z&&(J(z),N?.(z))},[z,J,N]),Be=W.useCallback(()=>{X&&(J(X),T?.(X))},[J,X,T]),St=W.useCallback((E,F)=>S=>{S.preventDefault(),S.stopPropagation(),ye(E),_e?.(E.date,F,S),w?.(E.date,F,S)},[_e,w,ye]),Wt=W.useCallback((E,F)=>S=>{ye(E),x?.(E.date,F,S)},[x,ye]),Et=W.useCallback((E,F)=>S=>{we(),u?.(E.date,F,S)},[we,u]),Tt=W.useCallback((E,F)=>S=>{const P={ArrowLeft:[S.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[S.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[S.shiftKey?"year":"week","after"],ArrowUp:[S.shiftKey?"year":"week","before"],PageUp:[S.shiftKey?"year":"month","before"],PageDown:[S.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(P[S.key]){S.preventDefault(),S.stopPropagation();const[ee,Y]=P[S.key];Oe(ee,Y)}M?.(E.date,F,S)},[Oe,M,t.dir]),Bt=W.useCallback((E,F)=>S=>{_?.(E.date,F,S)},[_]),Yt=W.useCallback((E,F)=>S=>{j?.(E.date,F,S)},[j]),qt=W.useCallback(E=>F=>{const S=Number(F.target.value),P=o.setMonth(o.startOfMonth(E),S);J(P)},[o,J]),It=W.useCallback(E=>F=>{const S=Number(F.target.value),P=o.setYear(o.startOfMonth(E),S);J(P)},[o,J]),{className:Ft,style:Pt}=W.useMemo(()=>({className:[a[v.Root],t.className].filter(Boolean).join(" "),style:{...b?.[v.Root],...t.style}}),[a,t.className,t.style,b]),At=Cs(t),Ue=W.useRef(null);nr(Ue,!!t.animate,{classNames:a,months:G,focused:ke,dateLib:o});const zt={dayPickerProps:t,selected:ve,select:_e,isSelected:se,months:G,nextMonth:X,previousMonth:z,goToMonth:J,getModifiers:be,components:n,classNames:a,styles:b,labels:r,formatters:s};return y.createElement(ht.Provider,{value:zt},y.createElement(n.Root,{rootRef:t.animate?Ue:void 0,className:Ft,style:Pt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],...At},y.createElement(n.Months,{className:a[v.Months],style:b?.[v.Months]},!t.hideNavigation&&!c&&y.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[v.Nav],style:b?.[v.Nav],"aria-label":O(),onPreviousClick:Te,onNextClick:Be,previousMonth:z,nextMonth:X}),G.map((E,F)=>y.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[v.Month],style:b?.[v.Month],key:F,displayIndex:F,calendarMonth:E},c==="around"&&!t.hideNavigation&&F===0&&y.createElement(n.PreviousMonthButton,{type:"button",className:a[v.PreviousMonthButton],tabIndex:z?void 0:-1,"aria-disabled":z?void 0:!0,"aria-label":R(z),onClick:Te,"data-animated-button":t.animate?"true":void 0},y.createElement(n.Chevron,{disabled:z?void 0:!0,className:a[v.Chevron],orientation:t.dir==="rtl"?"right":"left"})),y.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[v.MonthCaption],style:b?.[v.MonthCaption],calendarMonth:E,displayIndex:F},d?.startsWith("dropdown")?y.createElement(n.DropdownNav,{className:a[v.Dropdowns],style:b?.[v.Dropdowns]},d==="dropdown"||d==="dropdown-months"?y.createElement(n.MonthsDropdown,{className:a[v.MonthsDropdown],"aria-label":h(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:qt(E.date),options:Is(E.date,pe,xe,s,o),style:b?.[v.Dropdown],value:o.getMonth(E.date)}):y.createElement("span",null,D(E.date,o)),d==="dropdown"||d==="dropdown-years"?y.createElement(n.YearsDropdown,{className:a[v.YearsDropdown],"aria-label":Ot(o.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:It(E.date),options:As(pe,xe,s,o,!!t.reverseYears),style:b?.[v.Dropdown],value:o.getYear(E.date)}):y.createElement("span",null,U(E.date,o)),y.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},k(E.date,o.options,o))):y.createElement(n.CaptionLabel,{className:a[v.CaptionLabel],role:"status","aria-live":"polite"},k(E.date,o.options,o))),c==="around"&&!t.hideNavigation&&F===m-1&&y.createElement(n.NextMonthButton,{type:"button",className:a[v.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":re(X),onClick:Be,"data-animated-button":t.animate?"true":void 0},y.createElement(n.Chevron,{disabled:X?void 0:!0,className:a[v.Chevron],orientation:t.dir==="rtl"?"left":"right"})),F===m-1&&c==="after"&&!t.hideNavigation&&y.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[v.Nav],style:b?.[v.Nav],"aria-label":O(),onPreviousClick:Te,onNextClick:Be,previousMonth:z,nextMonth:X}),y.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":g(E.date,o.options,o)||void 0,className:a[v.MonthGrid],style:b?.[v.MonthGrid]},!t.hideWeekdays&&y.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[v.Weekdays],style:b?.[v.Weekdays]},I&&y.createElement(n.WeekNumberHeader,{"aria-label":Ct(o.options),className:a[v.WeekNumberHeader],style:b?.[v.WeekNumberHeader],scope:"col"},H()),jt.map(S=>y.createElement(n.Weekday,{"aria-label":Dt(S,o.options,o),className:a[v.Weekday],key:String(S),style:b?.[v.Weekday],scope:"col"},$(S,o.options,o)))),y.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[v.Weeks],style:b?.[v.Weeks]},E.weeks.map(S=>y.createElement(n.Week,{className:a[v.Week],key:S.weekNumber,style:b?.[v.Week],week:S},I&&y.createElement(n.WeekNumber,{week:S,style:b?.[v.WeekNumber],"aria-label":Mt(S.weekNumber,{locale:l}),className:a[v.WeekNumber],scope:"row",role:"rowheader"},B(S.weekNumber,o)),S.days.map(P=>{const{date:ee}=P,Y=be(P);if(Y[A.focused]=!Y.hidden&&!!ke?.isEqualTo(P),Y[te.selected]=se?.(ee)||Y.selected,Re(ve)){const{from:Ye,to:qe}=ve;Y[te.range_start]=!!(Ye&&qe&&o.isSameDay(ee,Ye)),Y[te.range_end]=!!(Ye&&qe&&o.isSameDay(ee,qe)),Y[te.range_middle]=ue(ve,ee,!0,o)}const Ht=Fs(Y,b,t.modifiersStyles),Rt=Ds(Y,a,t.modifiersClassNames),$t=!Ze&&!Y.hidden?p(ee,Y,o.options,o):void 0;return y.createElement(n.Day,{key:`${o.format(ee,"yyyy-MM-dd")}_${o.format(P.displayMonth,"yyyy-MM")}`,day:P,modifiers:Y,className:Rt.join(" "),style:Ht,role:"gridcell","aria-selected":Y.selected||void 0,"aria-label":$t,"data-day":o.format(ee,"yyyy-MM-dd"),"data-month":P.outside?o.format(ee,"yyyy-MM"):void 0,"data-selected":Y.selected||void 0,"data-disabled":Y.disabled||void 0,"data-hidden":Y.hidden||void 0,"data-outside":P.outside||void 0,"data-focused":Y.focused||void 0,"data-today":Y.today||void 0},!Y.hidden&&Ze?y.createElement(n.DayButton,{className:a[v.DayButton],style:b?.[v.DayButton],type:"button",day:P,modifiers:Y,disabled:Y.disabled||void 0,tabIndex:Ee(P)?0:-1,"aria-label":je(ee,Y,o.options,o),onClick:St(P,Y),onBlur:Et(P,Y),onFocus:Wt(P,Y),onKeyDown:Tt(P,Y),onMouseEnter:Bt(P,Y),onMouseLeave:Yt(P,Y)},C(ee,o.options,o)):!Y.hidden&&C(P.date,o.options,o))})))))))),t.footer&&y.createElement(n.Footer,{className:a[v.Footer],style:b?.[v.Footer],role:"status","aria-live":"polite"},t.footer)))}function kr({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:s="label",buttonVariant:r="ghost",formatters:o,components:l,...a}){const d=$e();return i.jsx(wr,{showOutsideDays:n,className:q("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:{formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"}),...o},classNames:{root:q("w-fit",d.root),months:q("flex gap-4 flex-col md:flex-row relative",d.months),month:q("flex flex-col w-full gap-4",d.month),nav:q("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",d.nav),button_previous:q(Ke({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_previous),button_next:q(Ke({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",d.button_next),month_caption:q("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",d.month_caption),dropdowns:q("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",d.dropdowns),dropdown_root:q("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",d.dropdown_root),dropdown:q("absolute bg-popover inset-0 opacity-0",d.dropdown),caption_label:q("select-none font-medium",s==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",d.caption_label),table:"w-full border-collapse",weekdays:q("flex",d.weekdays),weekday:q("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",d.weekday),week:q("flex w-full mt-2",d.week),week_number_header:q("select-none w-(--cell-size)",d.week_number_header),week_number:q("text-[0.8rem] select-none text-muted-foreground",d.week_number),day:q("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",d.day),range_start:q("rounded-l-md bg-accent",d.range_start),range_middle:q("rounded-none",d.range_middle),range_end:q("rounded-r-md bg-accent",d.range_end),today:q("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",d.today),outside:q("text-muted-foreground aria-selected:text-muted-foreground",d.outside),disabled:q("text-muted-foreground opacity-50",d.disabled),hidden:q("invisible",d.hidden),...t},components:{Root:({className:f,rootRef:c,...m})=>i.jsx("div",{"data-slot":"calendar",ref:c,className:q(f),...m}),Chevron:({className:f,orientation:c,...m})=>c==="left"?i.jsx(ln,{className:q("size-4",f),...m}):c==="right"?i.jsx(dn,{className:q("size-4",f),...m}):i.jsx(un,{className:q("size-4",f),...m}),DayButton:Nr,WeekNumber:({children:f,...c})=>i.jsx("td",{...c,children:i.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:f})}),...l},...a})}function Nr({className:e,day:t,modifiers:n,...s}){const r=$e(),o=W.useRef(null);return W.useEffect(()=>{n.focused&&o.current?.focus()},[n.focused]),i.jsx(L,{ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:q("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...s})}function Dr({date:e,onDateChange:t,placeholder:n="날짜 선택",className:s,disabled:r=!1}){return i.jsxs(fn,{children:[i.jsx(mn,{asChild:!0,children:i.jsxs(L,{variant:"outline",className:q("justify-start text-left font-normal",!e&&"text-muted-foreground",s),disabled:r,children:[i.jsx(pn,{className:"mr-2 h-4 w-4"}),e?at(e,"yyyy-MM-dd"):i.jsx("span",{children:n})]})}),i.jsx(hn,{className:"w-auto p-0",children:i.jsx(kr,{mode:"single",selected:e,onSelect:t,initialFocus:!0})})]})}function Fr({purchaseId:e,isOpen:t,onClose:n,embedded:s=!1,currentUserRoles:r=[],activeTab:o,onRefresh:l,onDelete:a}){const[d,f]=W.useState(!1),[c,m]=W.useState(null),[u,w]=W.useState(!1),[x,M]=W.useState(null),[_,j]=W.useState([]),[T,N]=W.useState([]),[I,b]=W.useState([]),[k,C]=W.useState(""),D=Ge();W.useEffect(()=>{t&&(async()=>{try{const{data:{user:g}}=await D.auth.getUser();if(g){let{data:h}=await D.from("employees").select("*").eq("id",g.id).maybeSingle();if(!h&&g.email){const{data:O}=await D.from("employees").select("*").eq("email",g.email).maybeSingle();h=O}if(h?.name&&C(h.name),h?.purchase_role){let O=[];Array.isArray(h.purchase_role)?O=h.purchase_role.map(R=>String(R).trim()):O=String(h.purchase_role).split(",").map(re=>re.trim()).filter(re=>re.length>0),b(O)}}}catch{}})()},[t]);const B=Array.isArray(r)&&r.length>0?r:I,H=B.includes("final_approver")||B.includes("app_admin")||B.includes("ceo"),$=H,U=B.includes("app_admin")||c?.requester_name===k,ce=B.includes("final_approver")||B.includes("app_admin")||B.includes("ceo"),de=c?.requester_name===k,G=ce||de;console.log("Receipt Check Debug:",{activeTab:o,canReceiptCheck:G,isAdmin:ce,isRequester:de,currentUserName:k,requesterName:c?.requester_name,effectiveRoles:B});const pe=B.includes("middle_manager")||B.includes("app_admin")||B.includes("ceo"),xe=B.includes("final_approver")||B.includes("app_admin")||B.includes("ceo");console.log("=== PurchaseDetailModal Debug ==="),console.log("Current User Roles (prop):",r),console.log("User Roles (direct load):",I),console.log("Effective Roles:",B),console.log("Can Approve Middle:",pe),console.log("Can Approve Final:",xe),console.log("Is Editing:",u),console.log("Middle Manager Status:",c?.middle_manager_status),console.log("Final Manager Status:",c?.final_manager_status),console.log("================================"),W.useEffect(()=>{e&&t&&z(e.toString())},[e,t]);const z=async p=>{try{f(!0);const g=Ge(),{data:h,error:O}=await g.from("purchase_requests").select(`
          *,
          vendors(id, vendor_name),
          purchase_request_items(*)
        `).eq("id",p).single();if(O)throw O;if(h){const R={...h,items:h.purchase_request_items||[],vendor:h.vendors||{id:0,vendor_name:"알 수 없음"},vendor_contacts:[]};m(R),M(R),j(R.items||[])}}catch{V.error("발주 상세 정보를 불러오는데 실패했습니다.")}finally{f(!1)}},X=()=>c?c.is_received?i.jsx(he,{className:"bg-green-100 text-green-800",children:"입고완료"}):c.middle_manager_status==="approved"&&c.final_manager_status==="approved"?i.jsx(he,{className:"bg-hansl-100 text-hansl-800",children:"구매진행"}):c.middle_manager_status==="rejected"||c.final_manager_status==="rejected"?i.jsx(he,{className:"bg-red-100 text-red-800",children:"반려"}):i.jsx(he,{className:"bg-yellow-100 text-yellow-800",children:"승인대기"}):null,J=p=>new Intl.NumberFormat("ko-KR").format(p),be=async()=>{if(!(!c||!x))try{const p=_.reduce((h,O)=>h+(O.amount_value||0),0),{error:g}=await D.from("purchase_requests").update({purchase_order_number:x.purchase_order_number,requester_name:x.requester_name,delivery_request_date:x.delivery_request_date,payment_category:x.payment_category,project_vendor:x.project_vendor,total_amount:p,updated_at:new Date().toISOString()}).eq("id",c.id);if(g)throw g;if(T.length>0){const{error:h}=await D.from("purchase_request_items").delete().in("id",T);if(h)throw h}console.log("저장할 editedItems:",_);for(const h of _)if(console.log("처리 중인 item:",h),h.id){console.log("기존 항목 업데이트:",h.id);const{error:O}=await D.from("purchase_request_items").update({item_name:h.item_name,specification:h.specification,quantity:h.quantity,unit_price_value:h.unit_price_value,unit_price_currency:c.currency||"KRW",amount_value:h.amount_value,amount_currency:c.currency||"KRW",remark:h.remark,updated_at:new Date().toISOString()}).eq("id",h.id);if(O)throw console.error("기존 항목 업데이트 오류:",O),O}else{console.log("새 항목 생성:",h);const O={purchase_request_id:c.id,item_name:h.item_name,specification:h.specification,quantity:h.quantity,unit_price_value:h.unit_price_value,unit_price_currency:c.currency||"KRW",amount_value:h.amount_value,amount_currency:c.currency||"KRW",remark:h.remark,line_number:h.line_number||_.indexOf(h)+1,created_at:new Date().toISOString()};console.log("삽입할 데이터:",O);const{error:R}=await D.from("purchase_request_items").insert(O);if(R)throw console.error("새 항목 생성 오류:",R),R;console.log("새 항목 생성 성공")}V.success("발주 내역이 수정되었습니다."),w(!1),N([]),l?.(),await z(e?.toString()||"")}catch(p){console.error("저장 중 전체 오류:",p),V.error("저장 중 오류가 발생했습니다: "+(p instanceof Error?p.message:"알 수 없는 오류"))}},se=(p,g,h)=>{const O=[..._];if(g==="amount_value")O[p]={...O[p],amount_value:h};else if(g==="quantity"||g==="unit_price_value"){const R=g==="quantity"?h:O[p].quantity,re=g==="unit_price_value"?h:O[p].unit_price_value;O[p]={...O[p],[g]:h,amount_value:R*re}}else O[p]={...O[p],[g]:h};j(O)},_e=()=>{const p={item_name:"",specification:"",quantity:1,unit_price_value:0,amount_value:0,remark:"",line_number:_.length+1};j([..._,p])},ve=p=>{const g=_[p];g.id&&N([...T,g.id]);const h=_.filter((O,R)=>R!==p);j(h)},we=async(p,g)=>{if(!G){V.error("입고 처리 권한이 없습니다.");return}try{const{error:h}=await D.from("purchase_request_items").update({is_received:g,received_at:g?new Date().toISOString():null}).eq("id",p);if(h)throw h;V.success(g?"입고 처리되었습니다.":"입고가 취소되었습니다."),e&&await z(e.toString()),l?.()}catch{V.error("입고 처리 중 오류가 발생했습니다.")}},ke=async p=>{if(c)try{const g=p==="middle"?{middle_manager_status:"approved"}:{final_manager_status:"approved"},{error:h}=await D.from("purchase_requests").update(g).eq("id",c.id);if(h)throw h;V.success(`${p==="middle"?"중간":"최종"} 승인이 완료되었습니다.`),l?.(),await z(e?.toString()||"")}catch{V.error("승인 처리 중 오류가 발생했습니다.")}},Ee=async()=>{if(!(!c||!U||!window.confirm("모든 품목을 입고완료 처리하시겠습니까?")))try{const{data:{user:g}}=await D.auth.getUser();if(!g)throw new Error("사용자 인증이 필요합니다");const h={is_received:!0,delivery_status:"received",received_quantity:null,received_date:new Date().toISOString(),received_by:g.id,received_by_name:k},{error:O}=await D.from("purchase_request_items").update(h).eq("purchase_request_id",c.id).eq("is_received",!1);if(O)throw O;V.success("모든 품목이 입고완료 처리되었습니다."),l?.(),await z(e?.toString()||"")}catch(g){console.error("전체 입고완료 처리 오류:",g),V.error("입고완료 처리 중 오류가 발생했습니다.")}},Oe=async(p,g)=>{if(!(!c||!U||!window.confirm(`"${g}" 품목을 입고완료 처리하시겠습니까?`)))try{const{data:{user:O}}=await D.auth.getUser();if(!O)throw new Error("사용자 인증이 필요합니다");const R={is_received:!0,delivery_status:"received",received_date:new Date().toISOString(),received_by:O.id,received_by_name:k},{error:re}=await D.from("purchase_request_items").update(R).eq("id",p);if(re)throw re;V.success(`"${g}" 품목이 입고완료 처리되었습니다.`),l?.(),await z(e?.toString()||"")}catch(O){console.error("개별 입고완료 처리 오류:",O),V.error("입고완료 처리 중 오류가 발생했습니다.")}},ye=async p=>{if(!(!c||!window.prompt("반려 사유를 입력해주세요:")))try{const h=p==="middle"?{middle_manager_status:"rejected"}:{final_manager_status:"rejected"},{error:O}=await D.from("purchase_requests").update(h).eq("id",c.id);if(O)throw O;V.success(`${p==="middle"?"중간":"최종"} 반려가 완료되었습니다.`),l?.(),await z(e?.toString()||"")}catch{V.error("반려 처리 중 오류가 발생했습니다.")}},je=i.jsx(i.Fragment,{children:d?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-hansl-600"})}):c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(Zt,{className:"w-5 h-5 mr-2 text-gray-700"}),"기본 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청자"}),u?i.jsx(oe,{value:x?.requester_name||"",onChange:p=>M(g=>g?{...g,requester_name:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:c.requester_name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"요청일"}),i.jsx("p",{className:"font-medium text-gray-900",children:Ve(c.request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"입고예정일"}),u?i.jsx(Dr,{date:x?.delivery_request_date?new Date(x.delivery_request_date):void 0,onDateChange:p=>M(g=>g?{...g,delivery_request_date:p?.toISOString().split("T")[0]||""}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:Ve(c.delivery_request_date)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"결제유형"}),u?i.jsx(oe,{value:x?.payment_category||"",onChange:p=>M(g=>g?{...g,payment_category:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:c.payment_category||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("h3",{className:"font-semibold mb-4 flex items-center text-gray-900",children:[i.jsx(Ut,{className:"w-5 h-5 mr-2 text-gray-700"}),"업체 정보"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"업체명"}),u?i.jsx(oe,{value:x?.vendor?.vendor_name||x?.vendor_name||"",onChange:p=>M(g=>g?{...g,vendor_name:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:c.vendor?.vendor_name||"-"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"프로젝트 업체"}),u?i.jsx(oe,{value:x?.project_vendor||"",onChange:p=>M(g=>g?{...g,project_vendor:p.target.value}:null),className:"h-8"}):i.jsx("p",{className:"font-medium text-gray-900",children:c.project_vendor||"-"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-semibold flex items-center text-gray-900",children:[i.jsx(Je,{className:"w-5 h-5 mr-2 text-gray-700"}),"품목 리스트"]}),!u&&U&&c?.items?.some(p=>!p.is_received)&&i.jsxs(L,{size:"sm",onClick:Ee,className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Qe,{className:"w-4 h-4 mr-1"}),"전체 입고완료"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full bg-white rounded-lg overflow-hidden shadow-sm",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[G&&o==="receipt"&&i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"품명"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"규격"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"수량"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"단가"}),i.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"금액"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"비고"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"입고상태"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(u?_:c.items)?.map((p,g)=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[G&&o==="receipt"&&i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("div",{className:"flex items-center justify-center",children:p.is_received?i.jsxs("button",{onClick:()=>we(p.id,!1),className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-100 text-green-800 rounded-md hover:bg-green-200 transition-colors",disabled:!G,children:[i.jsx(Se,{className:"w-3 h-3"}),"입고완료"]}):i.jsxs("button",{onClick:()=>we(p.id,!0),className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors",disabled:!G,children:[i.jsx(Je,{className:"w-3 h-3"}),"미입고"]})})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:p.item_name,onChange:h=>se(g,"item_name",h.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:p.item_name})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsx(oe,{value:p.specification,onChange:h=>se(g,"specification",h.target.value),className:"text-sm"}):i.jsx("span",{className:"text-sm",children:p.specification})}),i.jsx("td",{className:"px-4 py-3 text-center",children:u?i.jsx(oe,{type:"number",value:p.quantity,onChange:h=>se(g,"quantity",Number(h.target.value)),className:"text-sm text-center w-20 mx-auto"}):i.jsx("span",{className:"text-sm",children:p.quantity})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:p.unit_price_value,onChange:h=>se(g,"unit_price_value",Number(h.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[J(p.unit_price_value)," ",c.currency]})}),i.jsx("td",{className:"px-4 py-3 text-right",children:u?i.jsx(oe,{type:"number",value:p.amount_value,onChange:h=>se(g,"amount_value",Number(h.target.value)),className:"text-sm text-right"}):i.jsxs("span",{className:"text-sm",children:[J(p.amount_value)," ",c.currency]})}),i.jsx("td",{className:"px-4 py-3",children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(oe,{value:p.remark||"",onChange:h=>se(g,"remark",h.target.value),className:"text-sm"}),i.jsx(L,{size:"sm",variant:"ghost",onClick:()=>ve(g),className:"text-red-600 hover:bg-red-50",children:i.jsx(Le,{className:"w-4 h-4"})})]}):i.jsx("span",{className:"text-sm",children:p.remark||"-"})}),i.jsx("td",{className:"px-4 py-3 text-center",children:p.is_received?i.jsx("div",{className:"flex items-center justify-center",children:i.jsxs(he,{className:"bg-green-100 text-green-800 border-green-200",children:[i.jsx(Se,{className:"w-3 h-3 mr-1"}),"입고완료"]})}):!u&&U?i.jsxs(L,{size:"sm",onClick:()=>Oe(p.id,p.item_name),className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1",children:[i.jsx(Qe,{className:"w-3 h-3 mr-1"}),"입고완료"]}):i.jsx(he,{className:"bg-gray-100 text-gray-600 border-gray-200",children:"입고대기"})})]},g))}),i.jsx("tfoot",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:(G&&o==="receipt"?1:0)+5,className:"px-3 py-2 text-sm font-semibold text-right",children:"총액"}),i.jsxs("td",{className:"px-3 py-2 text-sm font-semibold text-right",children:[J((u?_:c.items)?.reduce((p,g)=>p+(g.amount_value||0),0)||0)," ",c.currency]}),i.jsx("td",{})]})})]})}),u&&i.jsxs(L,{size:"sm",variant:"outline",onClick:_e,className:"w-full mt-2",children:[i.jsx(yn,{className:"w-4 h-4 mr-1"}),"항목 추가"]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold mb-3 flex items-center",children:[i.jsx(Kt,{className:"w-4 h-4 mr-2"}),"승인 정보"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"중간승인"}),i.jsx(he,{variant:c.middle_manager_status==="approved"?"default":"secondary",className:c.middle_manager_status==="approved"?"bg-green-100 text-green-800":c.middle_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:c.middle_manager_status==="approved"?"승인":c.middle_manager_status==="rejected"?"반려":"대기"})]}),!u&&pe&&c.middle_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(L,{size:"sm",onClick:()=>ke("middle"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Se,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(L,{size:"sm",variant:"outline",onClick:()=>ye("middle"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(Xe,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})}),i.jsx("div",{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"최종승인"}),i.jsx(he,{variant:c.final_manager_status==="approved"?"default":"secondary",className:c.final_manager_status==="approved"?"bg-green-100 text-green-800":c.final_manager_status==="rejected"?"bg-red-100 text-red-800":"",children:c.final_manager_status==="approved"?"승인":c.final_manager_status==="rejected"?"반려":"대기"})]}),!u&&xe&&c.middle_manager_status==="approved"&&c.final_manager_status==="pending"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(L,{size:"sm",onClick:()=>ke("final"),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Se,{className:"w-4 h-4 mr-1"}),"승인"]}),i.jsxs(L,{size:"sm",variant:"outline",onClick:()=>ye("final"),className:"text-red-600 hover:bg-red-50",children:[i.jsx(Xe,{className:"w-4 h-4 mr-1"}),"반려"]})]})]})})]})]})]}):i.jsx("div",{className:"text-center py-12 text-gray-500",children:"발주 정보를 불러올 수 없습니다."})});return s?je:i.jsx(Vt,{open:t,onOpenChange:n,children:i.jsxs(Lt,{className:"w-full max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Xt,{children:i.jsxs(Jt,{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xl font-bold",children:u?"발주 내역 수정":"발주 상세 정보"}),c&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-500",children:["#",c.purchase_order_number]}),!u&&X(),!u&&H&&i.jsxs(i.Fragment,{children:[i.jsxs(L,{size:"sm",variant:"outline",onClick:()=>w(!0),className:"text-blue-600 hover:bg-blue-50",children:[i.jsx(cn,{className:"w-4 h-4 mr-1"}),"수정"]}),$&&a&&i.jsxs(L,{size:"sm",variant:"outline",onClick:()=>a(c),className:"text-red-600 hover:bg-red-50",children:[i.jsx(Le,{className:"w-4 h-4 mr-1"}),"삭제"]})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(L,{size:"sm",variant:"outline",onClick:()=>{w(!1),M(c),j(c.items||[]),N([])},children:[i.jsx(Gt,{className:"w-4 h-4 mr-1"}),"취소"]}),i.jsxs(L,{size:"sm",onClick:be,className:"bg-hansl-600 hover:bg-hansl-700 text-white",children:[i.jsx(gn,{className:"w-4 h-4 mr-1"}),"저장"]})]})]})]})}),je]})})}export{Je as P,Qe as T,Fr as a};
//# sourceMappingURL=PurchaseDetailModal-t9RKQRV6.js.map
